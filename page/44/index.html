<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>jfo planet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="jfo planet">
<meta property="og:url" content="http://blog.pickbox.me/page/44/index.html">
<meta property="og:site_name" content="jfo planet">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jfo planet">
  
    <link rel="alternative" href="/atom.xml" title="jfo planet" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">jfo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">分类</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">jfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">jfo</h1>
			</hgroup>
			
			<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-【zz】我们为什么这么容易受骗？" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/02/14/【zz】我们为什么这么容易受骗？/">【zz】我们为什么这么容易受骗？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <a target="_blank" href="http://blog.csdn.net/pongba/archive/2007/10/07/1813553.aspx">http://blog.csdn.net/pongba/archive/2007/10/07/1813553.aspx</a><br><br></p><p><strong>我们为什么这么容易受骗？</strong></p><p> </p><p>By 刘未鹏</p><p> </p><p>，在爱达荷州秋季大型科学展览会上，一个来自鹰石中学的高中生的方案获得了一个一等奖。</p><p> </p><p>在他的方案里，他力劝人们签署一份要求严格控制或完全销毁一种叫&ldquo;氢氧化物&rdquo;的物质的文件。这有足够的理由，因为</p><p> </p><p>1. 这种物质会造成流汗过多和呕吐。</p><p>2. 它是酸雨的主要成份。</p><p>3. 在气态时他会造成严重的烫伤。</p><p>4. 吸入时它会要了你的命。</p><p>5. 它是腐蚀的帮凶。</p><p>6. 它会降低汽车的刹车效率。</p><p>7. 人们在晚期癌症病人的毒瘤里发现了它。</p><p> </p><p>他问了50个人是否支持禁止这种物质。43个人说他们支持，6个人没有表明态度，只有一个人知道这种物质就是水。</p><p> </p><p>以上故事摘自<a href="http://zhiqiang.org/blog" target="_blank" rel="external">阅微堂</a>，原标题是&ldquo;我们有多容易受骗？&rdquo;，但我认为更重要的没有说出来。那就是&ldquo;<strong>我们为什么这么容易受骗？</strong>&rdquo;</p><p> </p><p>让我们重温一遍上面的各个句子，以及这些句子分别在大脑里激起的印象：</p><p> </p><p>1. 这种物质会造成流汗过多和呕吐。&mdash;&mdash;关联：流汗过多、呕吐 ?=&gt; Bad!</p><p>2. 它是酸雨的主要成份。&mdash;&mdash;关联：酸雨 ?=&gt; Bad!</p><p>3. 在气态时他会造成严重的烫伤。&mdash;&mdash;关联：烫伤 ?=&gt; Bad!</p><p>4. 吸入时它会要了你的命。&mdash;&mdash;关联：致命 ?=&gt; Bad!</p><p>5. 它是腐蚀的帮凶。&mdash;&mdash;关联：腐蚀 ?=&gt; Bad!</p><p>6. 它会降低汽车的刹车效率。关联：破坏刹车 ?=&gt; Bad!</p><p>7. 人们在晚期癌症病人的毒瘤里发现了它。关联：晚期癌症 ?=&gt; Bad!</p><p> </p><p>事实证明，人的认知过程是非理性的。大脑对外界的信息作出的第一反应往往是条件反射式的，而这个反射是基于以往经验在大脑中留下来的&ldquo;捷径&rdquo;（或&ldquo;关联&rdquo;）。&ldquo;捷径&rdquo;是人应对外界复杂的信息的强大武器，它能够帮助大脑在一瞬间作出&ldquo;不差&rdquo;的决策。</p><p> </p><p>然而，擅长利用心理的人也会籍此进行欺骗，因为&ldquo;捷径&rdquo;的 弱点就是它只在大部分或某些常见前提之下成立。比如有一次我去车站买票，没买到。我让老婆猜什么原因。先是猜最常见情况：车票卖光了。我说不是。接着猜售 票处不开门，我说不是，开着呢。然后就猜不下去了。而实际上，售票处的确还在工作，车票也并没有售光。问题是售票的机器down了，大家在等机器恢复，我没等就回来了。因为日常经验里面：&ldquo;售票处开门&rdquo;等于&ldquo;有车票售&rdquo;。这一捷径能够让大脑省去记忆罕见前提的负担，比如机器必须是好的，售票员必须没有生病，售票处没有遭到抢劫…</p><p> </p><p>关于心理捷径以及如何利用心理捷径，《影响力》里面有大量精彩的例子，比如把价格定高了反而会有更多的人买，因为在绝大多数情况下&ldquo;价格高&rdquo;等于&ldquo;质量好&rdquo;（俗语云&ldquo;一分钱一分货&rdquo;），一个有前提的因果捷径。</p><p> </p><p>再来一个经典的例子：Bob去复印纸，前面有很多人排队。第一种情况下，他说：&ldquo;对不起，能让我先复印一下吗？因为我有急事。&rdquo;这时候94%的人让他插到了前面。第二种情况下，他说：&ldquo;对不起，能不能先让我复印一下？&rdquo;，结果只有60%的人答应了他。</p><p> </p><p>但最有趣的是第三种情况，他说：&ldquo;对不起，能不能先让我复印一下，<strong>因为</strong>我有五页纸要复印。&rdquo;结果93%的人答应了他的请求。实验证明人们答应请求并不是因为&ldquo;有急事&rdquo;这一信息，而是因为&ldquo;<em>因为</em>&rdquo;这个词。这个词在听者的大脑里立即激起一个声音&ldquo;嗯，这家伙有事情&rdquo;。</p><p> </p><p>如果你注意一下平时自己和别人的谈话，也许你会注意到一个事实：<em>很多时候，我们接受或认可一个道理，并不是因为道理本身无懈可击，而是因为说者的话听上去有道理。</em></p><p> </p><p>深谙说服之道的人懂得利用一些连词（&ldquo;因为&rdquo;，&ldquo;况且&rdquo;，&ldquo;更何况&rdquo;，&ldquo;再加上&rdquo;…这些词携带的信息和激起的条件反射是&ldquo;以下又是一个同等乃至更重要的理由（<em>而其实你完全可以把一个根本不是理由的理由缀在分句里面，能够达到同样的效果</em>）&rdquo;）、句式（反问句运用得当的话通常有很强的说服效果）、词语（&ldquo;毫无疑问&rdquo;，&ldquo;当然&rdquo;，&ldquo;怎么可能不&rdquo;…这些词携带的信息是&ldquo;以下事实是显然的，请无需多思考&rdquo;）乃至语气（加重、质疑、不可理解…）等等来激起听者大脑里面的&ldquo;捷径&rdquo;，在对方还没有来得及动用理智的时候就在非理性的感知层面将其彻底击垮。</p><p> </p><p>如果你想说服某个人，而你手头的理由又不是十分充足的话，你不妨试试把其中最强的理由放在第一个，用一句语重心长的&ldquo;你想想看&rdquo;开头，然后把较弱的、或者干脆是捏造的似是而非的理由一个用一个略带上扬音调的&ldquo;而且&rdquo;缀在后面，一个则用一个&ldquo;更何况&rdquo;（&ldquo;更&rdquo;要发重音）缀在后面，如果你还嫌不够的话可以再回头加上一个&ldquo;还有哇…&rdquo;，当然，最后一个理由要注意，以强为好，因为听者的注意力往往会落在开头和结尾的两个理由上。完成之后就准备欣赏对方的表情吧:)</p><p> </p><p>大多数人根本就不会动用纯粹的理性，他们的理性其实就是由一条条这类&ldquo;捷径&rdquo;构成的。这很正常，因为&ldquo;捷径&rdquo;具有很重要的生存意义（详见《影响力》）。只不过，一旦遇到一些微妙的问题争论，走&ldquo;捷径&rdquo;便容易导致循环论证或谬论了。</p><p> </p><p>&ldquo;捷径&rdquo;不是逻辑。</p><p> </p><p>回到最初的那个例子。例子中陈述的几条事实是否成立其实根本无关紧要，紧要的是要将那个未知的氢氧化物跟&ldquo;不好&rdquo;、&ldquo;糟糕&rdquo;、&ldquo;有害&rdquo;等字眼（或感知）关联起来。如何关联？&ldquo;呕吐&rdquo;、&ldquo;酸雨&rdquo;、&ldquo;肿瘤&rdquo;，看到这些字眼，读者下意识里面的反应当然是&ldquo;都呕吐、酸雨、肿瘤了，这玩意能好吗？&rdquo;。这玩意当然不好，但别忘了前提是&ldquo;大部分情况下&rdquo;。如果稍微动用一下理性，就会发现&ldquo;在肿瘤里面发现&rdquo;根本不能推导出&ldquo;是这玩意导致肿瘤的&rdquo;或者&ldquo;这玩意跟肿瘤肯定有关&rdquo;。</p><p> </p><p>而且，天哪，还加上一个&ldquo;晚期&rdquo;…</p><p> </p> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/02/14/【zz】我们为什么这么容易受骗？/" class="archive-article-date">
  	<time datetime="2008-02-13T16:09:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-02-14</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Saying/">Saying</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-html-Tips" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/02/04/html-Tips/">html Tips</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> &nbsp;&nbsp;&nbsp;     虽然现在有许多网页制作工具能让您轻松地完成工作,但如果使用HTML则可以得<br>到更大控制权,下面介绍几个小技巧.<br>&nbsp;&nbsp;&nbsp;     1.使用&lt;tt&gt;,&lt;i&gt;,&lt;br&gt;语句来控制文字排版比用&lt;pre&gt;好得多.<br>&nbsp;&nbsp;&nbsp;     如: &lt;tt&gt;创思工作室&lt;br&gt;&lt;i&gt;邱晓光&lt;/i&gt;&lt;br&gt;&lt;/tt&gt;<br>&nbsp;&nbsp;&nbsp;     2.不要用800<em>600的分辨率来制作网页,当浏览者用640</em>480看网页时,不旦会使<br>速度减慢,还会使网页图像和文字出现错位.当然,也可以使用帧,水平控制,表格等标<br>识语句来取代己设定的象素,但就增加了工作量.<br>&nbsp;&nbsp;&nbsp;     3.使用&lt;br&gt;&lt;p&gt;只有一行,而使用&lt;p&gt;&lt;br&gt;就会多了空白的一行.<br>&nbsp;&nbsp;&nbsp;     4.使用16进制数来定义网页的颜色,而不要用red,black等语句,才能够充分利用<br>Web调色板的216种色彩(另外的40种,一般人难以分辨).<br>&nbsp;&nbsp;&nbsp;     5.在&lt;head&gt;中加上&lt;basetarget=&quot;_top&quot;&gt;就可以使你的网页不至于在帧链接到他<br>处时缩小,或者用&lt;a target=&quot;_new&quot;href=&quot;<a href="http://...&quot;&gt;&lt;/a&gt;打开一个新窗口" target="_blank" rel="external">http://...&quot;&gt;&lt;/a&gt;打开一个新窗口</a>.<br>&nbsp;&nbsp;&nbsp;     6.用&lt;div&gt;来按制就能够让许多浏览器都可以看到表格居中的效果,如果您用的<br>是Netscape 4.0也可以加入align=center来代替它.<br>&nbsp;&nbsp;&nbsp;     7.HMTL中的四个特殊字符(&lt;,&gt;,&amp;,&quot;)是不能直接写在文件中的,必须用后面的语<br>句来替换,  &lt;=&amp;lt;  &gt;=&amp;gt;  &amp;=&amp;amp;  &quot;=&amp;quot;(英文字母一定要小写)<br>&nbsp;&nbsp;&nbsp;     8.一些语义格式的字体效果<br>&nbsp;&nbsp;&nbsp;     &lt;cite&gt;,标题的斜体字<br>&nbsp;&nbsp;&nbsp;     &lt;code&gt;,显示源程序的宽体字<br>&nbsp;&nbsp;&nbsp;     &lt;em&gt;,强调用的斜体字<br>&nbsp;&nbsp;&nbsp;     &lt;kbd&gt;,要求键盘输入的宽体字<br>&nbsp;&nbsp;&nbsp;     &lt;samp&gt;,状态表示的宽体字<br>&nbsp;&nbsp;&nbsp;     &lt;strong&gt;,强调的粗体字<br>&nbsp;&nbsp;&nbsp;     &lt;var&gt;,构造变量的斜体字<br><br><br><strong><em><u>html特殊标记替换</u></em></strong><br>&quot;   &quot;   换成&quot;&amp;nbsp;&quot;   <br>&quot;n&quot;   换成   &quot;&lt;br&gt;&quot;   <br>&quot;&lt;&quot;   换成   &quot;&amp;lt;&quot;   <br>&quot;&gt;&quot;   换成   &quot;$rt;&quot;   <br>&quot;&amp;&quot;   换成   &quot;&amp;amp;&quot;<br><br><br><u><em><strong>如何使同一页中的超文本链接呈现不同的颜色</strong></em></u><br><br>通常在网页的&lt;body&gt;中设置连接的颜色，如：<br>&lt;body link=&quot;#FF00FF&quot; vlink=&quot;#FF0000&quot; alink=&quot;#008080&quot;&gt;<br>其中：link – Hyperlink（连接）的颜色<br>vlink– visited Hyperlink（已访问过的连接）颜色<br>alink– active Hyperlink （当前活动的连接）颜色<br>颜色用rgb的16进制码表示如红色是#FF0000。<br><br>但你如果要在一个网页中的连接有不同的颜色，你就要在连接<br>中使用到style这个关键字，例如：<br>&lt;p&gt;&lt;a name=&quot;top&quot;&gt;top&lt;/a&gt;&lt;/p&gt;<br><br>&lt;P&gt;&lt;A HREF=&quot;#top&quot; style=&quot;background-color: rgb(255,255,255);<br>color: rgb(129,0,0)&quot;&gt;Maroon&lt;/A&gt;<br><br>&lt;P&gt;&lt;A HREF=&quot;#top&quot; style=&quot;background-color: rgb(255,255,255);<br>color: rgb(255,165,0)&quot;&gt;Orange&lt;/A&gt;<br><br>Maroon (Maroon的RGB是#800000)<br><br>Orange (Orange的RGB是#FFA500)<br><br>你可以根据RGB–&gt;Hex的提示自己做一个转换.<br><br><br><em><u><strong>浮动背景</strong></u></em><br><br>不知你见过这样一些网页没有,当你拉动滚动条滚动时,网页背景<br>却不动,看起来好像网页上的文字和图片浮在背景上似的,有种特殊<br>的感觉,如果你没有见过,拉动本页的滚动条试试,看看是什么效果?<br>如果你喜欢,就把下面的语句加入你的网页吧!<br><br>&lt;body background=&quot;背景文件名&quot; bgproperties=&quot;fixed&quot;&gt;<br><br><br><em><u><strong>自动连接</strong></u></em><br><br>有些站很有趣，它会在某一个时间内自动连结到其他首页，怎麽做到的呢？<br>在&lt;title&gt;######&lt;/title&gt;之後加入下面这一行即可！<br><br>&lt;meta http-equiv=&quot;refresh&quot; content=&quot;20; url=otherpage.htm&quot;&gt;<br><br>请填入您要连到的首页！<br><br>那个20代表二十秒後连到另一个首页！<br><br><br><u><strong><em>解决网页中乱码、错位问题</em></strong></u><br><br>很多的主页都要求浏览者选择解码方式，否则将会看到不正 确的格式，<br>如乱码、错位或不能正确地换行。解决的办法是设置 META语句，这样一<br>来不用选择解码方式，也能按照你自己的设置 来浏览你的主页，并且可<br>以自动换行。语句如下：<br><br>&lt;HEAD&gt;<br>&lt;TITLE&gt;解码方式&lt;/TITLE&gt;<br>&lt;META HTTP-EQUIV=&quot;Content-Language&quot; CONTENT=&quot;zh-CN&quot;&gt;<br>&lt;META HTTP-EQUIV=&quot;Content-Type&quot; CONTENT=&quot;text/html;<br>charset=gb2312&quot;&gt;<br>&lt;/HEAD&gt;<br>将解码方式设置为简体中文GB码。<br><br><br><u><em><strong>在主页中加入背景音乐</strong></em></u><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     基本语法：<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     &lt;EMBED SRC=&quot;<em>URL</em>&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     &lt;NOEMBED&gt;其它内容&lt;/NOEMBED&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     &lt;/EMBED&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     <em>URL</em>指向要播放的midi文件。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     &lt;NOEMBED&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     请用netscape或MS ie浏览<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     &lt;/NOEMBED&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     当用户的浏览器不支持插件时将看到上面的文字<br>&nbsp;&nbsp;&nbsp;&nbsp;     通常可以忽略&lt;NOEMBED&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     常用属性：<br><br>&nbsp;&nbsp;&nbsp;&nbsp;     HIDDEN=&quot;TRUE|FALSE&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     显示开关&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     默认值FALSE<br>&nbsp;&nbsp;&nbsp;&nbsp;     VOLUME=&quot;50&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     音量大小&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     默认值50<br>&nbsp;&nbsp;&nbsp;&nbsp;     AUTOSTART=&quot;TRUE|FALSE&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     自动播放开关  默认值FALSE<br>&nbsp;&nbsp;&nbsp;&nbsp;     LOOP=&quot;TRUE|FALSE&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     循环播放开关  默认值FALSE<br>&nbsp;&nbsp;&nbsp;&nbsp;     CONTROLS=&quot;SMALLCONSOLE&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     小面板控制&nbsp;&nbsp;&nbsp;     默认值为普通大小<br>&nbsp;&nbsp;&nbsp;&nbsp;     WIDTH=&quot;50&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     显示面板宽度<br>&nbsp;&nbsp;&nbsp;&nbsp;     HEIGHT=&quot;15&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     显示面板高度<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     以上属性均以netscape为准，ie略有不同<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     建议：<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     音量控制不要选择过高，60即可。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     可将音乐插件放入固定frame，这样在用户浏览时可持续播放。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     最好不要设置为隐藏模式，以便于随时关闭背景音乐。<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     例1：&lt;embed src=&quot;nelove.mid&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     例2: &lt;embed src=&quot;nelove.mid&quot; volume=&quot;60&quot; autostart=&quot;true&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     controls=&quot;smallconsole&quot; loop=&quot;true&quot; width=&quot;50&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     height=&quot;15&quot;&gt;&lt;/embed&gt;<br><br><br><br><u><em><strong>网页中的button的快捷键</strong></em></u><br>&lt;INPUT&nbsp;&nbsp;    TYPE=button&nbsp;&nbsp;&nbsp;&nbsp;    VALUE=&quot;快捷键:ALT+1&quot;&nbsp;&nbsp;    onClick=&quot;alert(‘快捷键:ALT+1’)&quot;&nbsp;&nbsp;    accesskey=1&gt;<br>在firefox中可能需要同时按 alt+shift+key<br>在IE中按 alt+key<br><br><br><br><u><em><strong>文本框焦点</strong></em></u><br>&lt;input   class=input   type=text   name=&quot;key&quot;  value=&quot;测试啊&quot;   onClick=&quot;this.value=’’&quot;   onFocus=this.select()   onMouseOver=this.focus() &gt;<br>onFocus=this.select()   当鼠标点击文本框时，文字全部被选中<br> onMouseOver=this.focus()  <br><br>&lt;body   onload=&quot;myform.content.focus();&quot;&gt;<br>&nbsp;&nbsp;&nbsp;  &lt;form name=&quot;myform&quot; action=&quot;/send&quot; method=&quot;post&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;div&gt;&lt;textarea name=&quot;content&quot; rows=&quot;6&quot; cols=&quot;40&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;div&gt;&lt;input type=&quot;submit&quot; value=&quot;Send Message&quot; accesskey=&quot;s&quot;&gt;&lt;/div&gt;<br>&nbsp;&nbsp;&nbsp;  &lt;/form&gt;<br>&lt;body   onload=&quot;myform.content.focus();&quot;&gt; 网页每次都聚焦到content文本框<br>&lt;body   onclick=&quot;myform.content.focus();&quot;&gt; 则每次鼠标在任意位置点击后，聚焦到文本框<br><br> <br> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/02/04/html-Tips/" class="archive-article-date">
  	<time datetime="2008-02-04T12:50:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-02-04</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-php-function-reference" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/02/04/php-function-reference/">php function reference</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <br>string addslashes ( string $str );<br>string implode ( string $glue, array $pieces );<br>array explode ( string $separator, string $string [, int $limit] );<br>array split ( string $pattern, string $string [, int $limit] );<br>array spliti ( string $pattern, string $string [, int $limit] );<br>string chunk_split ( string $body [, int $chunklen [, string $end]] );<br>array str_split ( string $string [, int $split_length] );<br>string wordwrap ( string $str [, int $width [, string $break [, bool $cut]]] );<br>string nl2br ( string $string );<br>int substr_count ( string $haystack, string $needle [, int $offset [, int $length]] );<br>string substr ( string $string, int $start [, int $length] );<br><br><br>string base64_encode ( string $data );<br>string base64_decode ( string $encoded_data );<br>array get_meta_tags ( string $filename [, bool $use_include_path] );<br>string http_build_query ( array $formdata [, string $numeric_prefix] );<br>array parse_url ( string $url );<br>string urlencode ( string $str );<br>string urldecode ( string $str );<br>string rawurlencode ( string $str );<br>string rawurldecode ( string $str );<br><br><br>void var_dump ( mixed $expression [, mixed $expression [, $…]] );<br>bool print_r ( mixed $expression [, bool $return] );<br>mixed var_export ( mixed $expression [, bool $return] );<br><br>ob_start();<br>ob_end_flush();<br>ob_end_clean();<br>ob_get_flush();<br>ob_get_contents();<br><br>string gettype( mixed $var );<br><br>string htmlentities ( string $string [, int $quote_style [, string $charset [, bool $double_encode]]] )<br>string html_entity_decode ( string $string [, int $quote_style [, string $charset]] );<br>string htmlspecialchars ( string $string [, int $quote_style [, string $charset [, bool $double_encode]]] );<br>string htmlspecialchars_decode ( string $string [, int $quote_style] );<br>mixed <strong>str_replace</strong> ( mixed $search, mixed $replace, mixed $subject [, int  &amp;$count] );&nbsp;&nbsp;   // &quot; &quot; =&gt; &amp;nbsp;<br><br><code>&lt;?php<br>// define some variables<br>$local_file = ‘local.zip’;<br>$server_file = ‘server.zip’;<br>// connect to the FTP server<br>$conn_id = ftp_connect($ftp_server);<br>$login_result = ftp_login($conn_id, $ftp_user_name, $ftp_user_pass);<br>// try to download<br>if (ftp_get($conn_id, $local_file, $server_file, FTP_BINARY)) {<br>&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;Successfully written to $local_filen&quot;;<br>} else {<br>&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;There was a problemn&quot;;<br>}<br>// close the connection<br>ftp_close($conn_id);<br>?&gt;<br><br> </code> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/02/04/php-function-reference/" class="archive-article-date">
  	<time datetime="2008-02-04T06:23:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-02-04</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-【zz】Apache的Order-Allow-Deny心得" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/02/03/【zz】Apache的Order-Allow-Deny心得/">【zz】Apache的Order Allow Deny心得</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <a href="http://www.fwolf.com/blog/post/191" target="_blank">www.fwolf.com/blog/post/191</a><br><small><br><br>授权方式：署名，非商业用途，保持一致，转载时请务必以超链接(<a href="http://www.fwolf.com/blog/post/191" target="_blank" rel="external">http://www.fwolf.com/blog/post/191</a>)的形式标明文章原始出处和作者信息及本声明。</small></p><p>今天又被这两个参数小小的耍了一把，痛下决心整理一下，免得再被耽误时间。</p><p>Allow和Deny可以用于apache的conf文件或者.htaccess文件中（配合Directory, Location, Files等），用来控制目录和文件的访问授权。</p><p>所以，最常用的是：<br>Order Deny,Allow<br>Allow from All</p><p>注意&ldquo;Deny,Allow&rdquo;中间只有一个逗号，也只能有一个逗号，有空格都会出错；单词的大小写不限。上面设定的含义是先设定&ldquo;先检查禁止设定， 没有禁止的全部允许&rdquo;，而第二句没有Deny，也就是没有禁止访问的设定，直接就是允许所有访问了。这个主要是用来确保或者覆盖上级目录的设置，开放所有 内容的访问权。</p><p>按照上面的解释，下面的设定是无条件禁止访问：<br>Order Allow,Deny<br>Deny from All</p><p>如果要禁止部分内容的访问，其他的全部开放：<br>Order Deny,Allow<br>Deny from ip1 ip2<br>或者<br>Order Allow,Deny<br>Allow from all<br>Deny from ip1 ip2</p><p>apache会按照order决定最后使用哪一条规则，比如上面的第二种方式，虽然第二句allow允许了访问，但由于在order中allow不 是最后规则，因此还需要看有没有deny规则，于是到了第三句，符合ip1和ip2的访问就被禁止了。注意，order决定的&ldquo;最后&rdquo;规则非常重要，下面 是两个<strong>错误</strong>的例子和改正方式：</p><p>Order Deny,Allow<br>Allow from all<br>Deny from domain.org<br>错误：想禁止来自domain.org的访问，但是deny不是最后规则，apache在处理到第二句allow的时候就已经匹配成功，根本就不会去看第三句。<br>解决方法：Order Allow,Deny，后面两句不动，即可。</p><p>Order Allow,Deny<br>Allow from ip1<br>Deny from all<br>错误：想只允许来自ip1的访问，但是，虽然第二句中设定了allow规则，由于order中deny在后，所以会以第三句deny为准，而第三句的范围中又明显包含了ip1（all include ip1），所以所有的访问都被禁止了。<br>解决方法一：直接去掉第三句。<br>解决方法二：<br>Order Deny,Allow<br>Deny from all<br>Allow from ip1</p> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/02/03/【zz】Apache的Order-Allow-Deny心得/" class="archive-article-date">
  	<time datetime="2008-02-03T11:09:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-02-03</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-【zz】在Windows中安装Apache2和PHP4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/02/03/【zz】在Windows中安装Apache2和PHP4/">【zz】在Windows中安装Apache2和PHP4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> apache-2.2<br>对 httpd.conf 增加如下设置：<br><br>1.模块方式运行php<br>LoadModule php4_module&nbsp;&nbsp;&nbsp;       &quot;E:/work/php-4.4.6-Win32/sapi/php4apache2_2.dll&quot;<br>&lt;IfModule php4_module&gt;<br>&nbsp;&nbsp;&nbsp;       AddType application/x-httpd-php .php<br>&lt;/IfModule&gt;<br>/<em> this is not needed<br>&lt;Directory &quot;E:/work/php-4.4.6-Win32&quot;&gt;<br>&nbsp;&nbsp;&nbsp;       Options Indexes FollowSymLinks<br>&nbsp;&nbsp;&nbsp;       AllowOverride All<br>&nbsp;&nbsp;&nbsp;       Order allow,deny<br>&nbsp;&nbsp;&nbsp;       Allow from all<br>&lt;/Directory&gt;<br></em>/<br>apache-2.2和php-4.4.6-Win32组合有一个小bug，即不能以模块的方式加载php4apache2.dll，<br>参见<a target="_blank" href="http://www.devside.net/articles/windows/php-apache22">http://www.devside.net/articles/windows/php-apache22</a><br>可以去<a target="_blank" href="http://www.apachelounge.com/download/">http://www.apachelounge.com/download/</a> 下载一个新的php4apache2_2.dll模块<br><br>2.cgi方式运行php<br>&nbsp;&nbsp;&nbsp;  ScriptAlias /php/ &quot;E:/work/php-4.4.6-Win32/&quot;<br>&nbsp;&nbsp;&nbsp;  AddType application/x-httpd-php .php<br>&nbsp;&nbsp;&nbsp;  Action application/x-httpd-php &quot;/php/php.exe&quot;<br> <br> <hr>解决XP sp2下apache不能启动的问题：（折腾了我几个小时，这里给出解决办法，以供参考！）<br>启动apache2.2 service monitor提示错误the requested operation has failed!<br><br>分类:默认栏目 <br>第一步    <br> 在网上邻居–&gt; 本地连接–&gt; Internet   Protocol   (TCP/IP)–&gt; 属性–&gt; 高级–&gt; WINS–&gt; 把启用LMhosts搜寻   关掉!    <br><br>第二步    <br>控制面板–&gt; 安全中心—&gt; windows防火墙中–&gt; 高级–&gt; 网络连接设置–&gt; 设置–&gt; web服务器(HTTP)   选项打上对勾 <br><br><br> <hr>配个自己的www服务器并不难。本文即为我配置的手记，WinXPSP1下配置完成，SP2<br>和Win2003下也没问题，希望对大家有所帮助。<br>所需工具：<br><br>1、apache_2.0.52-win32-x86-no_ssl.msi<br>2、mysql-4.0.22-win.zip<br>3、php-5.0.2-Win32.zip<br><br>下载：缘网有，地址为：<br><br>apache：<a href="http://10.14.91.104/Soft/netsoft/server/200410/425.html" target="_blank" rel="external">http://10.14.91.104/Soft/netsoft/server/200410/425.html</a><br>mysql：<a href="http://10.14.91.104/Soft/database/MySQL/200411/576.html" target="_blank" rel="external">http://10.14.91.104/Soft/database/MySQL/200411/576.html</a><br>php：<a href="http://10.14.91.104/Soft/program/PHP/200410/446.html" target="_blank" rel="external">http://10.14.91.104/Soft/program/PHP/200410/446.html</a><br><br>由于版本更新很快，所以最好是安装最新的版本。另外，apache分1.3和2.0系列，<br>企业级应用推荐用1.3系列，普通应用可以选2.0系列；mysql分4.0和5.0系列，后者<br>善不成熟，所以推荐前者，最新版本为4.0.22；php分4.3和5.0系列，企业级应用推<br>荐用4.3系列。这里用了apache2，mysql4，php5。php4的安装方法跟这个差不多，<br>不过因为php4默认支持mysql，所以就不要配置mysql模块了。后面有说明。<br><br>一、安装Apache<br>&nbsp;&nbsp;&nbsp;     这个比较简单，跟安装一般的软件没什么区别，只要在domain处填上你申请的<br>域名（如diogin.3322.org，两个都填一样，无所谓的，以后可以改），admin处填<br>上你的邮箱就行，80那个默认即可。我安装的路径为X:（X的值随你改），软件自<br>动生成一个目录Apache2，所以安装的绝对路径为X:Apache2。安装过程中如果你有<br>防火墙，注意让Apache永久通行。<br>&nbsp;&nbsp;&nbsp;     接下来在X:下新建一个wwwroot的文件夹，用来存放网页文件。进入Apache2<br>conf目录，配置httpd.conf文件，这个是Apache启动时读取数据的文件，正确配置<br>有助于更有效地利用Apache的性能。先暂时按如下配置（利用查找功能找项，后面<br>的参数已经过我的修改，//部分为解释，不要加。&ldquo;#&rdquo;代表将该行为注释）：<br><br>1) DocumentRoot &quot;X:/wwwroot&quot;  //这里配置网页文件存放目录，默认为htdocs<br>2) &lt;Directory &quot;X:/wwwroot&quot;&gt;  //这项在上一项下不远，配置wwwroot文件夹属性<br>3) DirectoryIndex index.htm index.php  //首页文件定义，按顺序出现<br>4) ServerTokens Prod  //隐藏Apache版本<br>5) ServerSignature Off  //安全起见，关掉Signature<br>//接下来，找到如下一大段（原文中每行未加#号），在每行前加上#号，主要为了<br>减少安全麻烦：（其实是一些虚拟路径，没什么用。如果你要用CGI，注意保留CGI<br>部分设置不注释掉）<br>6)<br>Alias /icons/ &quot;G:/Apache2/icons/&quot;<br>&lt;Directory &quot;G:/Apache2/icons&quot;&gt;<br>&nbsp;&nbsp;&nbsp;     Options Indexes MultiViews<br>&nbsp;&nbsp;&nbsp;     AllowOverride None<br>&nbsp;&nbsp;&nbsp;     Order allow,deny<br>&nbsp;&nbsp;&nbsp;     Allow from all<br>&lt;/Directory&gt;<br>This should be changed to the ServerRoot/manual/.  The alias provides<br>the manual, even if you choose to move your DocumentRoot.  You may comm<br>ent<br>this out if you do not care for the documentation.<br>AliasMatch ^/manual(?:/(?:de|en|es|fr|ja|ko|ru))?(/.<em>)?$ &quot;G:/Apache2/man<br>ual$1&quot;<br>&lt;Directory &quot;G:/Apache2/manual&quot;&gt;<br>&nbsp;&nbsp;&nbsp;     Options Indexes<br>&nbsp;&nbsp;&nbsp;     AllowOverride None<br>&nbsp;&nbsp;&nbsp;     Order allow,deny<br>&nbsp;&nbsp;&nbsp;     Allow from all<br>&nbsp;&nbsp;&nbsp;     &lt;Files </em>.html&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;     SetHandler type-map<br>&nbsp;&nbsp;&nbsp;     &lt;/Files&gt;<br>&nbsp;&nbsp;&nbsp;     SetEnvIf Request_URI ^/manual/(de|en|es|fr|ja|ko|ru)/ prefer-languag<br>e=$1<br>&nbsp;&nbsp;&nbsp;     RedirectMatch 301 ^/manual(?:/(de|en|es|fr|ja|ko|ru)){2,}(/.*)?$ /ma<br>nual/$1$2<br>&lt;/Directory&gt;<br>ScriptAlias: This controls which directories contain server scripts.<br>ScriptAliases are essentially the same as Aliases, except that<br>documents in the realname directory are treated as applications and<br>run by the server when requested rather than as documents sent to the c<br>lient.<br>The same rules about trailing &quot;/&quot; apply to ScriptAlias directives as to<br><br>Alias.<br>ScriptAlias /cgi-bin/ &quot;G:/Apache2/cgi-bin/&quot;<br>&quot;G:/Apache2/cgi-bin&quot; should be changed to whatever your ScriptAliased<br>CGI directory exists, if you have that configured.<br>&lt;Directory &quot;G:/Apache2/cgi-bin&quot;&gt;<br>&nbsp;&nbsp;&nbsp;     AllowOverride None<br>&nbsp;&nbsp;&nbsp;     Options None<br>&nbsp;&nbsp;&nbsp;     Order allow,deny<br>&nbsp;&nbsp;&nbsp;     Allow from all<br>&lt;/Directory&gt;<br>7) AddDefaultCharset GB2312  //设置默认编码为gb2312<br><br>至此，基本的服务器配置完成。右击任务栏里的Apache图标，选Open Apache Moni<br>tor，restart一下。进入X:wwwroot，新建一个index.htm文件，写入以下代码：<br><br>&lt;html&gt;<br>&lt;head&gt;<br>&lt;title&gt;test&lt;/title&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>测试一下<br>&lt;/body&gt;<br>&lt;/html&gt;<br><br>保存。打开浏览器，输入：<a href="http://你的IP或域名/index.htm，如果显示出&ldquo;测试一" target="_blank" rel="external">http://你的IP或域名/index.htm，如果显示出&ldquo;测试一</a><br>下&rdquo;的页面，则安装成功。此时的Apache只支持静态网页，如果想支持php的话则继<br>续看下去，不想的话可以把此文扔在一边了。<br><br>二、安装PHP<br>&nbsp;&nbsp;&nbsp;     首先解压php-5.0.2-Win32.zip到X:目录下，改文件夹名为php，即解成X:ph<br>p目录。然后将php目录下的php5ts.dll和libmysql.dll（php5不默认带mysql模块，<br>所以需要这个dll文件）复制到X:Apache2bin目录下。返回X:Apache2conf目录<br>，打开httpd.conf，查找&ldquo;ServerRoot &quot;X:/Apache2&quot;&rdquo;，在下一行添加：<br><br>PHPIniDir &quot;X:/php&quot;<br><br>查找&ldquo;#LoadModule ssl_module modules/mod_ssl.so&rdquo;，在下一行添加：<br><br>LoadModule php5_module &quot;X:/php/php5apache2.dll&quot;<br><br>查找&ldquo;AddType application/x-gzip .gz .tgz&rdquo;，在下一行添加：<br><br>AddType application/x-httpd-php .php<br><br>以让Apache能找到php目录下的php.ini并支持php文件。然后回到php目录，把php.<br>ini-recommended改名为php.ini。接下来回到X:wwwroot目录下，新建一个index.<br>php文件，用记事本等文本编辑器打开，写入如下代码：<br><br>&lt;?php<br>echo &quot;hello, world!&quot;;<br>?&gt;<br><br>保存。重新启动apache，然后打开浏览器，输入：<a href="http://你的IP或域名/index.ph" target="_blank" rel="external">http://你的IP或域名/index.ph</a><br>p，如果显示出&ldquo;hello, world!&rdquo;的页面，则安装成功。接下来回到php目录配置p<br>hp.ini文件（注意这里的注释符号是&ldquo;;&rdquo;）：<br><br>1) magic_quotes_gpc = On  //这个功能最好加上，传参数的时候加&ldquo;&rdquo;号<br>2) extension_dir = &quot;X:phpext&quot;  //配置扩展目录<br>3) allow_url_fopen = Off  //禁止以url传参数方式打开文件<br>4) extension=php_mysql.dll  //前面的&ldquo;;&rdquo;号去掉，php5不默认带mysql模块<br>5) session.save_path = &quot;X:phptmp&quot;  //设置session目录，同时在php目录下新<br>建tmp目录<br><br>再重启apache以重载php.ini，php安装并配置完成。<br><br>三、配置MySQL<br>&nbsp;&nbsp;&nbsp;     解压mysql-4.0.22-win.zip到随便一个目录下，运行setup.exe进行安装，以t<br>ypical模式安装在X:mysql目录下。进入X:mysqlbin目录下，运行winmysqladmi<br>n.exe，会要求你输入用户名和密码。这是管理程序的密码，非数据库中root用户的<br>密码。设置过程中防火墙可能会跳出，此时要让mysql通行。完成后，任务栏里出现<br>红绿黄三色的mysql灯，绿色表示正常工作。右击灯选择Show me，弹出管理窗口，<br>点击my.ini setup中的Save Modification生成my.ini文件在windows目录下。然后<br>运行cmd进入命令行模式，输入：<br><br>cd X:mysqlbin<br><br>进入bin目录，再输入：<br><br>mysql -u root -p<br><br>回车，提示输入密码，由于root初始状态密码为空，直接按回车即可。进入mysql，<br>输入：<br><br>use mysql;<br><br>转向mysql库，输入：<br><br>delete from user where user=’’;<br><br>删除空用户。然后退出mysql：<br><br>quit;<br><br>修改root的密码：<br><br>mysqladmin -u root -p password 你的密码<br><br>会提示输入旧密码，回车，密码即改成你设置的密码。期间防火墙只要临时允许即<br>可。至此MySQL安装完成，回到wwwroot目录下，修改index.php文件为：<br><br>&lt;?php<br>$conn=mysql_connect(&quot;localhost&quot;, &quot;root&quot;, &quot;你的密码&quot;);<br>if(!$conn) die(&quot;Errors occured!&quot;);<br>else echo &quot;Success!&quot;;<br>mysql<em>close($conn);<br>?&gt;<br><br>返回浏览器，输入：<a href="http://你的IP或域名/index.php，如果显示出&ldquo;Success!&rdquo;的" target="_blank" rel="external">http://你的IP或域名/index.php，如果显示出&ldquo;Success!&rdquo;的</a><br>页面，则MySQL安装成功。<br>OK，整个过程安装完成。配置比较简单和粗陋，以后逐渐完善后再修改一下这篇文<br>章，如有不妥之处还望大家指出，谢谢^</em>^<br><br><br> <hr><a href="http://www.phpe.net/articles/364.shtml" target="_blank">http://www.phpe.net/articles/364.shtml</a><br><br>Apache 2和PHP是创建交互式网站的流行方案，而且成本很低。在Windows中安装Apache 2是一件轻而易举的事情，但要使PHP 4与Apache 2配合无间地运行，就需要一定的技巧。</p><p>在PHP 4.3手册的Windows安装小节，没有解释如何让PHP与Apache 2配合使用，而有关Apache 2安装的小节缺失了你需要的大量信息。在网上公布的其他安装指南中，也包含了不少错误，使一些安装人员只好不断试验和犯错。例如，有些人甚至将PHP的 DLL替换成其他PHP版本的DLL。OK，为了节省你的宝贵时间，我们准备了这篇最权威的指南文章，帮你扫除一切烦恼。</p>使用正确版本的Windows<p>首先要说一说兼容性：Apache 2不能在Windows 95上运行；在Windows 98上勉强能够运行，但不能作为服务使用。从4.3版本开始，PHP也不再支持Windows 95。所以，你的Windows操作系统必须是Windows NT、2000或者XP。<br><br>Apache 2：源码还是二进制?<br>如果你有Visual C++ 5.0或更高的版本，或者安装了Microsoft Visual Studio，那么虽然可以根据源码来生成Apache，但请绝对不要这样做。在Visual Studio IDE中，<a target="_target" href="http://httpd.apache.org/docs-2.0/platform/win_compiling.html">Windows下的生成过程</a>非常复杂。即使从命令行编译，也绝对不是一件易事。所以，除非你喜欢创建makefile，否则最好获得<a target="_target" href="http://httpd.apache.org/download.cgi">一份Windows Installer二进制发行包</a>，也就是一个.msi文件。等你对Apache有了足够多的认识，知道自己要进行哪些定制操作时，才可考虑亲手生成（编译）Apache。<br><br>如果已经安装好并正在运行老版本的Apache，首先要停止它，卸载它，然后才能开始安装新服务器。多个版本的Apache 2不能共存。<br><br>双击Apache 2 .msi文件。同意许可协议后，会出现如图A所示的对话框。</p><p>图A</p><p><a target="_blank" href="http://phpe.net/uploads/images/article_aa_3831.jpg"><img src="http://phpe.net/uploads/images/article_aa_3831.jpg" alt="点击查看原图"></a></p><p><br>正确地设置Network Domain和Server Name（如果不打算将Apache安装到远程计算机，那么设置localhost就可以了），在Administrator&rsquo;s Email Address区域输入你的电子邮件地址，保持端口80/服务选项单选钮的选中状态。在下一个对话框中如果选择Typical安装，可以快速地获得一个能 实际工作的服务器环境。</p><hr><p>安装提示<br>建议将默认安装目录从C:Program FilesApache Group变成C:Apache或者符合8.3文件名格式的其他名称。这样一来，以后每次输入Apache安装路径时，都不必为其添加引号。</p><hr><p><br>稍候片刻，安装向导会告诉你Apache 2安装成功。接下来惟一要做的事情就是进行测试，请打开浏览器并访问localhost，这样应该看到默认的Apache 2主页。<br><br>然 后可以删除主Web服务器目录中的所有示例文件，它们默认位于C:InstallDirectoryApacheApache2htdocs中。 如果有一个现成的主页Index.html，请把它拷贝到这里；另外，也可以马上创建一个空白主页。对于未初始化的HTML，以下代码就可以了：</p><p><br>&lt;html&gt;<br>&lt;head&gt;title=default server page&lt;/head&gt;<br>&lt;body&gt;Default server page&lt;/body&gt;<br>&lt;/html&gt;</p><br>让Apache 2为PHP做好准备<p>从现在开始，你需要较多地以人工方式进行安装，不能简单地点击和选择几个选项了事。尽快习惯它吧，这才是Apache的方式。你需要编辑文件来设置 不同的配置选项；如果操作不当，你所做的修改就会妨碍Apache的正确加载。如果设置引发错误，那么错误可能被记录到Apache 2错误日志中（默认为C:InstallDirApache2LogsError.log）。但能够像这样进行记录的毕竟是少数，大多数错误只会 记录到Windows事件日志中（开始| 设置| 控制面板|  管理工具| 事件查看器）。</p><p>令人遗憾的是，在你对安装设置进行调试时，Windows事件日志并不是一个方便的工具。更好的做法是在命令行窗口中测试Apache服务器的加 载，这样能立即看到错误报告。所以，在完成了我即将讨论的配置修改后，请打开一个命令行窗口，切换到Apache的binary目录（C: InstallDirApache2bin），在那里启动Apache。</p><p>Apache配置文件是C:ApacheApache2ConfHttpd.conf，可用任何文本编辑器来编辑。查找DirectoryIndex，定位到下面这一行：<br><br>DirectoryIndex index.html index.html.var # index.php<br><br>为了允许Apache处理PHP页，要删除注释字符（<em>#</em>），变成：<br><br>DirectoryIndex index.html index.html.var index.php</p><p>还要允许在任何目录中使用.htaccess文件，所以请在配置文件中查找AllowOverride，把这个设置从None改成All。保存了所做的改动后，可继续在文本编辑器中打开该文件，因为等会儿安装PHP时，要再次编辑这个文件。</p>安装PHP<p>虽然可以下载PHP的源码，但和Apache 2一样，最好直接使用二进制发行包。Apache 2可采取2种方式来运行PHP程序：通过一个CGI接口来运行（外部调用Php.exe），或者使用PHP的DLL文件在Apache的内部运行。后一种 方式的速度较快。所以，针对每个版本的PHP，都会提供2个Windows二进制发行包。较小的是.msi包，它会安装CGI可执行程序Php.exe， 但其中拿掉了通过Apache DLL来运行PHP脚本所需的模块。较大的.zip包则包含了所有这些东西，你可以从snaps.php.net网站的Win32区域<a href="http://snaps.php.net/win32/php4-win32-STABLE-latest.zip" target="_blank" rel="external"><u>下载</u></a>它们。文件下载完毕后，把它解压到C:Php（保留文件夹名称）。除非你有绝对的把握，请同时下载<a target="_target" href="http://www.php.net/download-docs.php"><u>PHP手册</u></a>，它有多种语言的版本可供选择。</p>配置Apache 2来运行PHP4<p>现在来到了最有趣的部分：将Apache和PHP完美地配合起来。首先，请将C:PhpDlls目录中的所有DLL文件拷贝到Windows的 System目录（%windir%System）。接着，在Apache的配置文件（Httpd.conf）中查找包含了大量AddType命令那个 小节，自己添加下面这一行：<br><br>AddType application/x-httpd-php .php<br><br>将C: PhpPhp.ini-recommended拷贝到Windows目录（%windir%），把它重命名为Php.ini，并用文本编辑器打开它。 编辑其中对doc_root、extension_dir和session.save_path进行设置的3行，使其和下面展示的一致，注意要把 InstallDir替换成你的Apache 2的安装目录的名称。<br><br>doc_root = c:apacheapache2htdocs<br>extension_dir = c:phpextensions<br>session.save_path = c:/temp<br><br>在session.save_path中使用正斜杠和反斜杠都是允许的。PHP手册声称这些路径参数需要在最后添加一个反斜杠，但这个说法是不正确的。在PHP 4.3中不需要这样做。另外，如果C:Temp不存在，请自己创建它。<br><br>下 一步是允许Apache将PHP程序作为模块来运行，这要求你采取2个步骤。首先，将C:PhpPhp4ts.dll拷贝到Windows的系统文件 夹（%windir%System）。在Httpd.conf中找到LoadModule小节，自己添加下面这一行： <br><br>LoadModule php4_module &ldquo;c:/php/php4apache2.dll&rdquo;<br><br>如果你出于某种原因而需要在CGI模式中运行PHP程序（使用Php.exe），请将上面这一行变成注释，并在Httpd.conf中添加下面这些行：<br><br>ScriptAlias /php/ &quot;c:/php/&quot;<br>Action application/x-httpd-php &quot;/php/php.exe&quot;</p>一切都搞定了吗?保存所做的更改后，你需要亲自去证明两点，才能确保Apache 2/PHP 4成为一对完美的搭档：Apache能正常加载吗，它能正确处理PHP页吗？<br><br>要知道Apache是否能够正常加载，在你已经打开的命令行窗口中输入以下命令：<br><br>apache ?k start<br><br>另外，如果Apache正在运行，可用以下命令重新启动它：<br><br>apache ?k restart<br><br>从 命令行启动Apache的好处在于，如果出现一个错误，Apache会立即报告它。你可能遇到的最常见的问题在于，Apache可能由于某种原因而无法加 载Php4apache2.dll。如果Apache报告了这个错误，请按前面所述的步骤重新操作一遍，确保一切都没有错误。<br><br>要知道Apache是否能正确地处理PHP页，请用你的文本编辑器创建一个简单的PHP页，命名为Phptest.php，其中只包含下面这一行：<br><br>&lt;? phpinfo(); ?&gt;<br><br>将 文件保存到主Web服务器目录（C:InstallDirectoryApacheApache2Htdocs），用浏览器访问http: //localhost/phptest.php。如果一切正常，应该看到一个含有PHP徽标的网页，其中包含大量设置和其他信息。要知道PHP当前是通 过CGI来运行，还是在Apache内部运行，可以检查一下环境变量<em>orig_script_name</em>。如果PHP通过CGI来运行，这个变量的值就是/Php/Php.exe。如果Apache将PHP脚本作为模块来运行，该变量的值应该是/Phptest.php。<br><br>虽然在Windows上安装Apache 2和PHP并不是一件容易的事情，但也完全没必要采取摸着石头过河的做法。通过本文的说明，你应该可以快速搭建起这个史上最好的、成本最低的Web开发环境。 <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/02/03/【zz】在Windows中安装Apache2和PHP4/" class="archive-article-date">
  	<time datetime="2008-02-03T10:59:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-02-03</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-go-home" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/01/27/go-home/">go home</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> &nbsp;&nbsp;&nbsp;  明天的现在就已经在火车上了!<br>&nbsp;&nbsp;&nbsp;  晚上在校园里逛，逛着逛着来到了校门口，突然想起了对面的锅贴，好久没来了，虽然晚上吃的很饱，但还是忍不住要去光顾光顾。过马路是红灯，看着没有车辆，居然没多少犹豫就横穿马路，-_-! 唉，都被grape给带坏了…<br>&nbsp;&nbsp;&nbsp;  …<br>&nbsp;&nbsp;&nbsp;  还是早点为明天回家做准备把…<br><br><br>&nbsp;&nbsp;&nbsp; </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/01/27/go-home/" class="archive-article-date">
  	<time datetime="2008-01-27T14:49:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-01-27</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-【zz】phplib-template简明教程" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2008/01/07/【zz】phplib-template简明教程/">【zz】phplib template简明教程</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <a href="http://su.100steps.net/xxblog/archives/108.html" target="_blank" rel="external">[摘]phplib template简明教程</a><br><strong>第一章 如何进行安装配置</strong> <br><br>PHP世界中比较流行的模板处理工具有PHPLIB Template和FastTemplate两种。据笔者看有关资料介绍，PHPLIB Template的技术易用性和速度较为理想，所以俺就学习使用了PHPLIB Template。 <br><br>phplib template 的安装其实非常简单。现在说简单，呵呵，其实刚开始上手的时候竟然花了好几天的功夫才知道大概是怎么一回事儿。那我们首先来认识一下phplib吧。 <br><br>随着php的应用和推广，众多开发人员和很多爱好者在php的基础上开发了很多php的程序库，这些程序库大大简化了程序设计和提高了代码的可重 用性。其中phplib就是这些库中相当优秀的产品。phplib有五大功能：将数据库驱动和对数据库操作完全分离；支持session；权限许可；模 板；购物车。我们要用的模板功能只是phplib这个库的诸多功能中的一种。笔者刚开始看phplib 的网方官站 ，就看得一头雾水，怎么还有数据库、 session等等，最后才明白原来俺需要的只是template。 <br><br>要说安装，其实就是下载phplib库文件。你可以到phplib的官方网站下载最新的版本：<a target="_blank" href="http://phplib.sourceforge.net/">http://phplib.sourceforge.net</a>  这是一个 tar.gz 压缩包，下载完之后就是解压了。打开解压后的文件夹，里边有一个php文件夹，将该php文件夹复制到任何你想要的其它位置，但 不要放在网页 服务器的目录下。比如：我的网页服务器根目录是：/var/www，我可以将php文件夹放在/ var下，与www文件夹平行。然后打开 php的配置文件php.ini进行编辑。更改include_path,使其指向刚刚复制的php文件夹的位置。比如：include_path =  &quot;.:/var/www/php&quot;。phplib的官方站quick guide to installation讲了十个步骤，我们只用 phplib template这一项功能的话，其它的安装步骤其实根本不用理会。保存退出，重启 apache2服务。然后就可以尝试编写你的第一个模 板页了。 <br><br><strong>第二章 第一个简单的模板页</strong> <br><br>我理解，所谓&quot;模板&quot;，就是将界面和实现代码分离开来，这样做的目的一是将美工和程序员的工作分离开来，提高工作效率，二是方便维护。下面我们就开始尝试写一个简单的模板了，文件名first.htm。 <br><br>&lt;HTML&gt; <br>&lt;HEAD&gt; <br>&lt;TITLE&gt; 我的第一个模板文件 &lt;/TITLE&gt; <br>&lt;/HEAD&gt; <br>&lt;BODY&gt; <br>你知道吗？ {man}真是一个好人。 <br>&lt;font color=&quot;#0000FF&quot;&gt; 作者：{author}&lt;/font&gt; <br>&lt;/BODY&gt; <br>&lt;/HTML&gt;<br><br>first.html模板中的{man}{author}{date}可以称为&quot;模板变量&quot;，用花括号({})括起来。 <br><br>上面我们定义三个变量的原因是我们想随时改变它们的值，下面我们就来做这个工作。新建first.php文件，内容如下: <br><br>&lt;?php <br>include (‘template.inc’); //包含进模板类 template.inc <br>$tpl = new Template; //创建一个新模板 <br>$tpl-&gt;set_file(‘main’, ‘first.html’); //把模板文件加载进来 <br>$tpl-&gt;set_var(‘man’, ‘fuyatao’); // //给文件中的模板变量赋值 <br>$tpl-&gt;set_var(‘author’, ‘fuyatao’); <br>$tpl-&gt;parse(‘mains’, ‘main’); // //完成替换 <br>$tpl-&gt;p(‘mains’); // //输出替换的结果 <br>?&gt;<br><br>你也可以一次完成给变量赋值，这样 <br>$tpl-&gt;set_var( <br>array(‘man’=&gt;’fuyatao’, ‘author’=&gt;’fuyatao’) <br>);<br><br>浏览器中浏览这个文件,你就会发现输出：你知道吗？fuyatao真是一个好人。作者：fuyatao. <br><br>初次尝试还算顺利吧？如果没有如你所愿地看到上述文字，那一定是你哪里弄错了。浏览器会有提示。还有如果你将这些代码复制到本机不能正确执行，有 可能是标点符号的问题，必须用英文的标点符号，程序中用中文的引号或分号都会引起程序不能正常运行，本人就曾经吃过这个亏，反复检查程序没有错，可就是执 行不了，后来才发现是一个地方用错了标点。  <br><br><strong>第三章 稍复杂点的应用</strong> <br><br>现在我们设想稍微复杂一点的情况，新建一个second.htm模板文件，内容为： <br>&lt;HTML&gt; <br>&lt;HEAD&gt; <br>&lt;TITLE&gt;第二个模板文件&lt;/TITLE&gt; <br>&lt;/HEAD&gt; &lt;BODY&gt; <br>下面是一个列表 <br>&lt;UL&gt; <br>&lt;li&gt;谷军涛 的身高是 170cm <br>&lt;li&gt;武剑 的身高是 171cm <br>&lt;li&gt;青竹 的身高是 180cm <br>&lt;li&gt;王聪聪 的身高是 172cm <br>&lt;/UL&gt; <br>&lt;/BODY&gt; <br>&lt;/HTML&gt;<br>以上页面是纯静态的，假设要使用数据库，用PHP代码嵌入HTML的话，是这样写的: <br>&lt;HTML&gt; <br>&lt;HEAD&gt; <br>&lt;TITLE&gt;第二个模板文件&lt;/TITLE&gt; <br>&lt;/HEAD&gt; &lt;BODY&gt; <br>下面是一个列表 <br>&lt;?php <br>$link=mysql_connect(‘localhost’,’fuyatao’,’ passwd’); <br>$result=mysql_db_query(‘gfs’,’select name,tall from my_table’); <br>echo &quot;&lt;UL&gt;&quot;; <br>while ($a = mysql_fetch_array($result)){ <br>echo &quot;&lt;li&gt;$a[name]的身高是$a[tall]&quot;; <br>} <br>?&gt; <br>&lt;/UL&gt; <br>&lt;/BODY&gt; <br>&lt;/HTML&gt;<br><br>PHP新手一般都这样写，但你很快发现：你或者美工改这个列表样式的时候需要多么的小心翼翼,特别是美工，如果他不懂PHP代码，那么他会终日在 恐惧之中！因为稍微的不小心，可能就会带来程序的运行错误。对于页面的维护来说，非常不方便。即便是你自己写的代码，过一段时间你也可能有所遗忘，修改起 来一样要备加小心。 <br><br>现在有了模板，你可以把PHP代码抽取出来。 我们可以这样修改second.htm文件。 <br><br>&lt;HTML&gt; <br>&lt;HEAD&gt; <br>&lt;TITLE&gt;第二个模板文件&lt;/TITLE&gt; <br>&lt;/HEAD&gt; &lt;BODY&gt; <br>下面是一个列表 <br>&lt;UL&gt; <br>&lt;li&gt;{ name1} 的身高是 {tall1} <br>&lt;li&gt;{name2} 的身高是 {tall2} <br>&lt;li&gt;{name3} 的身高是 {tall3} <br>&lt;li&gt;{name4} 的身高是 {tall4} <br>&lt;/UL&gt; <br>&lt;/BODY&gt; <br>&lt;/HTML&gt;<br><br>建立second.php： <br><br>&lt;?php <br>include (‘template.inc’); <br>$tpl = new Template; <br>$tpl-&gt;set_file(‘main’, ‘second.htm’); <br>$link=mysql_connect(‘localhost’,’fuyatao’,’passwd’); <br>$result=mysql_db_query(‘fyt’,’select name,tall from my_table’); <br>$i=0; <br>while ( $a = mysql_fetch_array($result)) <br>{ <br>$i++; <br>$tpl-&gt;set_var(‘name’ . $i, $a[name]); <br>$tpl-&gt;set_var(‘tall’ . $i, $a[tall]); <br>} <br>$tpl-&gt;parse(‘mains’, ‘main’); <br>$tpl-&gt;p(‘mains’, ‘main’); <br>?&gt;<br><br>在浏览器里执行 second.php 一样会得到正确的结果。这样以后不管是你还是美工修改页面的时候，再也不用胆颤心惊、担心会把程序弄坏了。  <br><br><strong>第四章 block的应用</strong> <br><br>在上一章中，我们使用模板把html和php代码分开。其中second.htm模板中关于列表部分是这样写的： <br><br>&lt;UL&gt; <br>&lt;li&gt;{name1} 的身高是 {tall1} <br>&lt;li&gt;{name2} 的身高是 {tall2} <br>&lt;li&gt;{name3} 的身高是 {tall3} <br>&lt;li&gt;{name4} 的身高是 {tall4} <br>&lt;/UL&gt;<br><br>是不是有点烦琐？本来没用模板之前，我们用了一句 <br><br>while ($a = mysql_fetch_array($result)){ <br>echo &quot;&lt;li&gt;$a[name]的身高是$a[tall]&quot;; <br>} <br>就搞定了，用了模板，反而要写4次，如果是100人的列表，岂不是我们要写100次？天啊！够吓人的。好在phplib templete为我们提供了block，将其真译为&quot;块&quot;。通过定义块，也可以用一行轻松搞定。 <br><br>&lt;UL&gt; <br>&lt;!&ndash; BEGIN list &ndash;&gt; <br>&lt;li&gt;{name} 的身高 {tall} <br>&lt;!&ndash; END list &ndash;&gt; <br>&lt;/UL&gt;<br><br>需要注意的是，BEGIN list与前后的中划线&ndash;之间必须有空格，前后中划都是两个，此处可能由于显示太小，两个中划线连到一块儿了。 <br><br>在 second.php中需要加载块。 <br><br>&lt;?php <br>include (‘template.inc’); <br>$tpl = new Template; <br>$tpl-&gt;set_file(‘main’, ‘second.htm’); <br>$tpl-&gt;set_block(‘main’, ‘list’, ‘nlist’); //加载模板main中的块list,并给其一个名字nlist <br>$link=mysql_connect(‘localhost’,’fuyatao’,’passwd’); <br>$result=mysql_db_query(‘fyt’,’select name,tall from my_table’); <br>while ( $a = mysql_fetch_array($result)) <br>{ <br>$tpl-&gt;set_var(‘name’,$a[name]); <br>$tpl-&gt;set_var(‘tall’,$a[tall]); <br>$tpl-&gt;parse(‘nlist’, ‘list’, true); <br>} <br>$tpl-&gt;parse(‘mains’, ‘main’); <br>$tpl-&gt;p(‘mains’); <br>?&gt; <br><br><strong>第五章 模板嵌套</strong> <br><br>在写PHP页面的时候，我们会发现像页面头部分和尾部分，有好多页都要用，每页写一遍就太麻烦了，这些&rdquo;公用代码&rdquo;我们可以把它单独写在一个文件 里，如果这个公用部分要有所改动,无需再去改每一个页面，能减少非常多的工作量。用Template模板可以很方便的把一个页面随意插入另一个模板的任意 地方。 <br>新建3个文件third.htm、header.htm、footer.htm，内容分为如下 <br>third.htm <br>&lt;!&ndash; 这是页面头部 &ndash;&gt; <br>{header} <br>&lt;BODY&gt; <br>下面是一个列表 <br>&lt;UL&gt; <br>&lt;!&ndash; BEGIN list &ndash;&gt; <br>&lt;li&gt;{name} 的身高是 {tall} <br>&lt;!&ndash; END list &ndash;&gt; <br>&lt;/UL&gt; <br>&lt;!&ndash; 这是页脚部分 &ndash;&gt; <br>{footer} <br>&lt;/BODY&gt; <br>&lt;/HTML&gt;<br><br>header.htm <br>&lt;HTML&gt; <br>&lt;HEAD&gt; <br>&lt;TITLE&gt; {title} &lt;/TITLE&gt; <br>&lt;/HEAD&gt;<br><br>footer.htm <br>&lt;P&gt;author &amp;copy; fuyatao<br><br>下面我们开始我们的PHP程序: <br><br>&lt;?php <br>include (‘template.inc’); <br>$tpl = new Template; <br>$tpl-&gt;set_file(‘main’, ‘third.htm’); <br>$tpl-&gt;set_file(‘my_header’, ‘header.htm’); <br>$tpl-&gt;set_file(‘my_footer’, ‘footer.htm’); <br>$tpl-&gt;set_var(‘title’, ‘这个是网页标题’); <br>$tpl-&gt;set_block(‘main’, ‘list’, ‘nlist’); <br>$link=mysql_connect(‘localhost’,’fuyatao’,’passwd’); <br>$result=mysql_db_query(‘fyt’,’select name,tall from my_table’); <br>while ( $a = mysql_fetch_array($result)) <br>{ <br>$tpl-&gt;set_var(‘name’,$a[name]); <br>$tpl-&gt;set_var(‘tall’,$a[tall]); <br>$tpl-&gt;parse(‘nlist’, ‘list’, true); <br>} <br>$tpl-&gt;parse(‘header’, ‘my_header’); <br>$tpl-&gt;parse(footer, my_footer); <br>$tpl-&gt;parse(‘mains’, ‘main’); <br>$tpl-&gt;p(‘mains’); <br>?&gt;<br><br>最后看看结果，一切正如我们期待的那样呈现出来。 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2008/01/07/【zz】phplib-template简明教程/" class="archive-article-date">
  	<time datetime="2008-01-07T03:41:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2008-01-07</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-questions-about-SFINAE" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/12/21/questions-about-SFINAE/">questions about SFINAE</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> SFINAE : Substitution Failure Is Not An Error<br><br>No. 1<br><br>Both of the following compiles error. (g++-3.4.4)<br><br>&gt;   template&lt;unsigned&gt;   struct   sample   {   };   <br>&gt;      <br>&gt;   struct   X   {   <br>&gt;               X(int,   int);   //   no   default   ctor   <br>&gt;   };   <br>&gt;      <br>&gt;   template&lt;class   T&gt;   void   check(   sample&lt;sizeof(new   T)&gt;<em>   )   {   }   <br>&gt;   template&lt;class   T&gt;   void   check(   int   )   {   }   <br>&gt;      <br>&gt;   int   main()   {   <br>&gt;               check&lt;X&gt;(0);   <br>&gt;               return   0;   <br>&gt;   }   <br><br>&gt;   template&lt;unsigned&gt;   struct   sample   {   };   <br>&gt;      <br>&gt;   struct   X   {   <br>&gt;               X(int,   int);   //   no   default   ctor   <br>&gt;   };   <br>&gt;      <br>&gt;   template&lt;class   T&gt;   void   check(   sample&lt;sizeof(new   T)&gt;</em>   )   {   }   <br>&gt;   template&lt;class   T&gt;   void   check(…)   {   }   <br>^^^^^   <br>&gt;      <br>&gt;   int   main()   {   <br>&gt;               check&lt;X&gt;(0);   <br>&gt;               return   0;   <br>&gt;   }   <br><br>an explanation from <a href="http://topic.csdn.net/t/20031120/22/2478518.html" target="_blank">http://topic.csdn.net/t/20031120/22/2478518.html</a><br><br>&gt;to   plainsong:   <br>这个例子里发生的事情比你想象的要微妙的多。   <br><br>&gt;to   plainsong   &amp;&amp;      firingme(木头)      <br>如果要要了解事情的全部，可以去   <br>comp.std.c++查找如下标题的帖子：   <br><br>14.8.2   Clarification?      <br><br>&lt;其次，按照我的理解在这里描述一下这个例子：   <br><br>》template&lt;class   T&gt;   void   check(   sample&lt;sizeof(new   T)&gt;<em>   )   {   }   <br>———#1   <br><br>》为何   <br>》template&lt;class   T&gt;   void   check(   int   )   {   }   <br>———#2   <br>》时可以编译通过？&nbsp;&nbsp;    // 实际上我用g++-3.4.4未编译通过<br><br>当调用check&lt;X&gt;(0)时，首先进行模板参数推导：   <br>#1：T   =   X,      ——————————◆◆◆   <br>因为   sizeof(new   T)虽然是无效表达式，   <br>但不是无效类型，所以这里不发生SFINAE。   <br>也就是模板参数推导成功。   <br>特殊化版本为：   <br>void   check&lt;X&gt;(sample&lt;sizeof(new   X)&gt;</em>);   <br>————–#3   <br>#2:   T   =   X   <br>模板参数推导成功。   <br>void   check&lt;X&gt;(int);   <br>—————#4   <br>#3和#4之间比较之后，#4被选中，然后，导致   <br>void   check&lt;X&gt;(int)的声明和定义产生   <br>隐式实例化。   <br><br>这里关键的一点是   <br>#3没有被隐式实例化，   <br>其中   <br>#3的定义没有被隐式实例化   <br>是很明显的，   <br>而让人产生争议的是   <br>#3的声明为什么没有被隐式实例化   <br>（如果隐式实例化声明，将导致sizeof&lt;new   T&gt;出现错误！！！   <br>关于这一点，是comp.std.c++上那一贴里的争论焦点）   <br>————————-★★★★★   <br><br>最后，一切正常,   <br>check&lt;X&gt;(0)调用#4,   编译通过。   <br><br><br>》而   <br><br>》template&lt;class   T&gt;   void   check(…)   {   }   <br>———–#5   <br><br>》时就不能通过了？   <br><br>当调用check&lt;X&gt;(0)时，首先进行模板参数推导：   <br>#1   ：T   =   X   <br>分析如前面所描述——–&gt;见◆◆◆   <br><br>void   check&lt;X&gt;(sample&lt;sizeof(new   X)&gt;<em>);   <br>————–#5   <br><br>#5   :   T   =   X   <br>模板参数推导成功：   <br>void   check&lt;X&gt;(…)   <br>————–#6   <br><br>#5,#6重载解析后,   #5被选中，   <br>导致#5这个模板特殊化版本产生一个   <br>隐式实例化(包含声明实例化和定义实例化)   <br>这一实例化过程将导致   <br>sizeof(new   X)   出现错误,   因为X没有无参数构造函数版本。   <br><br>结果是出现编译错误，提示的是   <br>sizeof(new   X)   出错，在实例化过程中。   <br><br><br>★★★★★处发生的事情让人产生些争论，这也是   <br>firingme(木头)   提的最后让david退却的地方。   <br>按照David的说法，★★★★★处发生了一部分声明的实例化，   <br>这个实例化被称之为   <br>&quot;partial   instantiation&quot;。   <br><br><br>这个例子虽然不直接应用SFINAE，因为每次它都成功了，但却很   <br>清楚的说明了我们在理解SFINAE时需要理解的很多东西。   <br><br>而这个例子：   <br>#include   &lt;iostream&gt;   <br>using   namespace   std;   <br><br>/</em>   <br>#include   &lt;iterator&gt;   <br>using   std::distance;   <br><em>/   <br><br>int   distance(int   a,   int   b)   <br>{   return   a   -   b;   }   <br><br>int   main()   <br>{   <br>int   a   =10;   <br>int   b   =   1;   <br>cout   &lt;&lt;   distance(a,   b);   <br>}   <br><br>则是真实的说明了现实中需要SFINAE:   <br>不然这个代码将不能   <br>编译通过，   <br>—–这绝对是不能容忍的<br><br><br>No. 2<br><br>The following will deduce OK.  see <a target="_blank" href="http://hi.baidu.com/j%5Ffo/blog/item/9ba80ed7107464dea144df88.html">http://hi.baidu.com/j_Ffo/blog/item/9ba80ed7107464dea144df88.html</a><br><br><p>template&lt;class T,class&gt;</p><p>struct check_helper</p><p>{</p><p>typedef T type;</p><p>};</p><p> </p><p>template&lt;class T,class =T&gt;</p><p>struct does_sometypedef_exists_1</p><p>{</p><p>static const bool value=false;</p><p>};</p><p> </p><p>template&lt;class T&gt;</p><p>struct does_sometypedef_exists_1&lt;T,</p><p>typename check_helper&lt;T, typename T::key_type&gt;::type&gt;</p><p>{</p><p>static const bool value=true;</p>};<br><br>No. 3<br><br>The following has problems again.<br><br><p>template&lt;class&gt; struct split;  // 缺省声明，因为不会被匹配所以不用定义</p><p> </p><p>// 以下是偏特化</p><p>template&lt; template&lt;class&gt; class T, class T1 &gt; // T为模板</p><p>struct split&lt; T&lt;T1&gt; &gt; {</p><p>struct type { };</p><p>};</p><p> </p><p>template&lt; template&lt;class, class&gt; class T, class T1, class T2 &gt;</p><p>struct split&lt; T&lt;T1, T2&gt; &gt; {</p><p>struct type { };</p><p>};</p><p> </p><p>// etc. :(，后面有支持更多模板参数的版本，从略</p><p> </p><p>template&lt;class T&gt; class has_template_key_type</p><p>{</p><p>private:</p><p>template&lt;class U&gt;</p><p>static yes_type check(</p><p>typename split&lt;</p><p>typename U::template key_type&lt;null_t&gt; &gt;::type</p></em></p><p>);</p><p> </p><p>template&lt;class U&gt;</p><p>static yes_type check(</p><p>typename split&lt;</p><p>typename U::template key_type&lt;null_t, null_t&gt; &gt;::type<em></em></p><p>);</p><p> </p><p>// etc. :( 后面有支持更多模板参数的版本，从略</p><p> </p><p>template&lt;class U&gt; static no_type check(…);</p><p> </p><p>public:</p><p>static const bool value</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    = sizeof(check&lt;T&gt;(0)) == sizeof(yes_type);</p><p>};</p><p> </p><p>template&lt;class T, bool V = <strong>has_template_key_type</strong>&lt;T&gt;::value&gt;</p><p>class has_key_type</p><p>{</p><p>private:</p><p>template&lt;class U&gt; static yes_type check(typename U::key_type);</p><p>template&lt;class U&gt; static no_type check(…);</p><p> </p><p>public:</p><p>static const bool value</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    = sizeof(check&lt;T&gt;(0)) == sizeof(yes_type);</p><p>};</p><p> </p><p>template&lt;class T&gt; struct has_key_type&lt;T, <strong>true</strong>&gt;</p><p>{</p><p>static const bool value = false;</p>};<br><br><br><br><br><br><br><br> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/12/21/questions-about-SFINAE/" class="archive-article-date">
  	<time datetime="2007-12-21T14:30:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-12-21</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-mojo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/12/18/mojo/">mojo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> source code for<br><a target="_blank" href="http://www.ddj.com/cpp/184403855">Generic&lt;Programming&gt;</a>: Move Constructors  by Andrei Alexandrescu<br><br>////////////////////////////////////////////////////////////////////////////////<br>// MOJO: MOving Joint Objects<br>// Copyright (c) 2002 by Andrei Alexandrescu<br>//<br>// Created by Andrei Alexandrescu<br>//<br>// Permission to use, copy, modify, distribute and sell this software for any <br>//&nbsp;&nbsp;&nbsp;&nbsp;   purpose is hereby granted without fee, provided that the above copyright <br>//&nbsp;&nbsp;&nbsp;&nbsp;   notice appear in all copies and that both that copyright notice and this <br>//&nbsp;&nbsp;&nbsp;&nbsp;   permission notice appear in supporting documentation.<br>// The author makes no representations about the suitability of this software <br>//&nbsp;&nbsp;&nbsp;&nbsp;   for any purpose. It is provided &quot;as is&quot; <br>//&nbsp;&nbsp;&nbsp;&nbsp;   without express or implied warranty.<br>////////////////////////////////////////////////////////////////////////////////<br><br>#ifndef MOJO<em>H</em><br>#define MOJO<em>H</em><br><br>#include &lt;cassert&gt;<br>#include &lt;iterator&gt;<br>#include &quot;TypeManip.h&quot;<br><br>namespace mojo<br>{<br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   class constant // type sugar for constants<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   const T<em> data<em>;<br>&nbsp;&nbsp;&nbsp;   public:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   explicit constant(const T&amp; obj) : data</em>(&amp;obj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   const T&amp; get() const<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return </em>data_;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;   };<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   class temporary : private constant&lt;T&gt; // type sugar for temporaries<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;   public:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   explicit temporary(T&amp; obj) : constant&lt;T&gt;(obj)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   T&amp; get() const<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return const_cast&lt;T&amp;&gt;(constant&lt;T&gt;::get());<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;   };<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt; <br>&nbsp;&nbsp;&nbsp;   class fnresult : public T<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;   public:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   // The cast below is valid given that nobody ever really creates a <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   // const fnresult object<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   fnresult(const fnresult&amp; rhs) <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   : T(temporary&lt;T&gt;(const_cast&lt;fnresult&amp;&gt;(rhs)))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   explicit fnresult(T&amp; rhs) : T(temporary&lt;T&gt;(rhs))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;   };<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt; struct enabled<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   operator temporary&lt;T&gt;()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return temporary&lt;T&gt;(static_cast&lt;T&amp;&gt;(<em>this));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   operator constant&lt;T&gt;() const<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return constant&lt;T&gt;(static_cast&lt;const T&amp;&gt;(</em>this));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   operator fnresult&lt;T&gt;()<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return fnresult&lt;T&gt;(static_cast&lt;T&amp;&gt;(<em>this));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;   protected:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enabled() {} // intended to be derived from<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   ~enabled() {} // intended to be derived from<br>&nbsp;&nbsp;&nbsp;   };<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   struct traits<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { enabled = Loki::SuperSubclassStrict&lt; enabled&lt;T&gt;, T &gt;::value };<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef typename <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Loki::Select&lt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enabled,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   temporary&lt;T&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   T&amp;&gt;::Result<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   temporary;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef typename <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Loki::Select&lt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enabled,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   fnresult&lt;T&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   T&gt;::Result<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   fnresult;<br>&nbsp;&nbsp;&nbsp;   };<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   inline typename traits&lt;T&gt;::temporary as_temporary(T&amp; src)<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef typename traits&lt;T&gt;::temporary temp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return temp(src);<br>&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class Iter1, class Iter2&gt;<br>&nbsp;&nbsp;&nbsp;   Iter2 move(Iter1 begin, Iter1 end, Iter2 dest)<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   for (; begin != end; ++begin, ++dest)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   </em>dest = as_temporary(<em>begin);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return dest;<br>&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class Iter1, class Iter2&gt;<br>&nbsp;&nbsp;&nbsp;   Iter2 uninitialized_move(Iter1 begin, Iter1 end, Iter2 dest)<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef typename std::iterator_traits&lt;Iter2&gt;::value_type T;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   for (; begin != end; ++begin, ++dest)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   new(</em>dest) T(as_temporary(<em>begin));<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   return dest;<br>&nbsp;&nbsp;&nbsp;   }<br>}<br><br>#endif // MOJO<em>H</em><br><br><strong>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;<br><br></strong>#include &quot;mojo.h&quot;<br>#include &lt;iostream&gt;<br>#include &lt;cassert&gt;<br>using namespace std;<br><br>class Y : public mojo::enabled&lt;Y&gt; <br>{<br>public:<br>&nbsp;&nbsp;&nbsp;   Y() // default constructor<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   cout &lt;&lt; &quot;CREATING default-constructed object at &quot; &lt;&lt; this <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;&lt; ‘n’;<br>&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   Y(const Y&amp; rhs) // source is a const value<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   cout &lt;&lt; &quot;COPYING const value at &quot; &lt;&lt; &amp;rhs <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;&lt; &quot; into object at &quot; &lt;&lt; this &lt;&lt; ‘n’;<br>&nbsp;&nbsp;&nbsp;   }<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   Y(mojo::fnresult&lt;Y&gt; src) // source is a fnresult<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Y&amp; rhs = src;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   cout &lt;&lt; &quot;MOVING mojo::fnresult&lt;Y&gt; at &quot; &lt;&lt; &amp;rhs <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;&lt; &quot; into object at &quot; &lt;&lt; this &lt;&lt; ‘n’;<br>&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;   Y(mojo::temporary&lt;Y&gt; src) // source is a temporary<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Y&amp; rhs = src.get();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   cout &lt;&lt; &quot;MOVING mojo::temporary&lt;Y&gt; at &quot; &lt;&lt; &amp;rhs <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   &lt;&lt; &quot; into object at &quot; &lt;&lt; this &lt;&lt; ‘n’;<br>&nbsp;&nbsp;&nbsp;   }<br><br>&nbsp;&nbsp;&nbsp;   ~Y()<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   //cout &lt;&lt; &quot;DESTROYING object at &quot; &lt;&lt; this &lt;&lt; ‘n’;<br>&nbsp;&nbsp;&nbsp;   }<br>};<br><br>const Y MakeConstY()<br>{<br>&nbsp;&nbsp;&nbsp;   return Y();<br>}<br><br>mojo::fnresult&lt;Y&gt; MakeY()<br>{<br>&nbsp;&nbsp;&nbsp;   //if (cout) return Y();<br>&nbsp;&nbsp;&nbsp;   Y x;<br>&nbsp;&nbsp;&nbsp;   return x;<br>}<br><br>void TakeConstY(const Y&amp;)<br>{<br>}<br><br>void TakeY(Y&amp;)<br>{<br>}<br><br>void Discriminate(mojo::temporary&lt;Y&gt;) {}<br>void Discriminate(mojo::constant&lt;Y&gt;) {}<br>void Discriminate(Y&amp; obj) { Discriminate(mojo::constant&lt;Y&gt;(obj)); }<br><br><br>////////////////////////////////////////////////////////////////////////////////<br><br>////////////////////////////////////////////////////////////////////////////////<br><br>////////////////////////////////////////////////////////////////////////////////<br><br>int main()<br>{<br>&nbsp;&nbsp;&nbsp;   Y nonConstLValue;<br>&nbsp;&nbsp;&nbsp;   const Y constLValue;<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   //Y y1(constLValue);<br>&nbsp;&nbsp;&nbsp;   //Y y2(nonConstLValue);<br>&nbsp;&nbsp;&nbsp;   //Y y3(MakeConstY());<br>&nbsp;&nbsp;&nbsp;   Y y4(MakeY());<br><br>&nbsp;&nbsp;&nbsp;   TakeConstY(Y());<br><br>&nbsp;&nbsp;&nbsp;   Discriminate(Y()); // calls Discriminate(mojo::temporary&lt;Y&gt;)<br>&nbsp;&nbsp;&nbsp;   Discriminate(MakeY()); // calls Discriminate(mojo::temporary&lt;Y&gt;)<br>&nbsp;&nbsp;&nbsp;   Discriminate(constLValue); // calls Discriminate(mojo::constant&lt;Y&gt;)<br>&nbsp;&nbsp;&nbsp;   Discriminate(nonConstLValue); // calls Discriminate(Y&amp;)<br>&nbsp;&nbsp;&nbsp;   //TakeConstY(MakeY());<br><br>&nbsp;&nbsp;&nbsp;   //TakeY(Y());<br>&nbsp;&nbsp;&nbsp;   //TakeY(MakeY());<br>}<br><br><strong>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;<br></strong><br>////////////////////////////////////////////////////////////////////////////////<br>// The Loki Library<br>// Copyright (c) 2001 by Andrei Alexandrescu<br>// This code accompanies the book:<br>// Alexandrescu, Andrei. &quot;Modern C++ Design: Generic Programming and Design <br>//&nbsp;&nbsp;&nbsp;&nbsp;   Patterns Applied&quot;. Copyright (c) 2001. Addison-Wesley.<br>// Permission to use, copy, modify, distribute and sell this software for any <br>//&nbsp;&nbsp;&nbsp;&nbsp;   purpose is hereby granted without fee, provided that the above copyright <br>//&nbsp;&nbsp;&nbsp;&nbsp;   notice appear in all copies and that both that copyright notice and this <br>//&nbsp;&nbsp;&nbsp;&nbsp;   permission notice appear in supporting documentation.<br>// The author or Addison-Welsey Longman make no representations about the <br>//&nbsp;&nbsp;&nbsp;&nbsp;   suitability of this software for any purpose. It is provided &quot;as is&quot; <br>//&nbsp;&nbsp;&nbsp;&nbsp;   without express or implied warranty.<br>////////////////////////////////////////////////////////////////////////////////<br><br>// Last update: November 22, 2001<br><br>#ifndef TYPEMANIP<em>INC</em><br>#define TYPEMANIP<em>INC</em><br><br>namespace Loki<br>{<br>////////////////////////////////////////////////////////////////////////////////<br>// class template Int2Type<br>// Converts each integral constant into a unique type<br>// Invocation: Int2Type&lt;v&gt; where v is a compile-time constant integral<br>// Defines ‘value’, an enum that evaluates to v<br>////////////////////////////////////////////////////////////////////////////////<br><br>&nbsp;&nbsp;&nbsp;   template &lt;int v&gt;<br>&nbsp;&nbsp;&nbsp;   struct Int2Type<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { value = v };<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>////////////////////////////////////////////////////////////////////////////////<br>// class template Type2Type<br>// Converts each type into a unique, insipid type<br>// Invocation Type2Type&lt;T&gt; where T is a type<br>// Defines the type OriginalType which maps back to T<br>////////////////////////////////////////////////////////////////////////////////<br><br>&nbsp;&nbsp;&nbsp;   template &lt;typename T&gt;<br>&nbsp;&nbsp;&nbsp;   struct Type2Type<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef T OriginalType;<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>////////////////////////////////////////////////////////////////////////////////<br>// class template Select<br>// Selects one of two types based upon a boolean constant<br>// Invocation: Select&lt;flag, T, U&gt;::Result<br>// where:<br>// flag is a compile-time boolean constant<br>// T and U are types<br>// Result evaluates to T if flag is true, and to U otherwise.<br>////////////////////////////////////////////////////////////////////////////////<br><br>&nbsp;&nbsp;&nbsp;   template &lt;bool flag, typename T, typename U&gt;<br>&nbsp;&nbsp;&nbsp;   struct Select<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef T Result;<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   template &lt;typename T, typename U&gt;<br>&nbsp;&nbsp;&nbsp;   struct Select&lt;false, T, U&gt;<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef U Result;<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>////////////////////////////////////////////////////////////////////////////////<br>// Helper types Small and Big - guarantee that sizeof(Small) &lt; sizeof(Big)<br>////////////////////////////////////////////////////////////////////////////////<br><br>&nbsp;&nbsp;&nbsp;   namespace Private<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   template &lt;class T, class U&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   struct ConversionHelper<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef char Small;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   struct Big { char dummy[2]; };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   static Big&nbsp;&nbsp;   Test(…);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   static Small Test(U);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   static T MakeT();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   }<br><br>////////////////////////////////////////////////////////////////////////////////<br>// class template Conversion<br>// Figures out the conversion relationships between two types<br>// Invocations (T and U are types):<br>// a) Conversion&lt;T, U&gt;::exists<br>// returns (at compile time) true if there is an implicit conversion from T<br>// to U (example: Derived to Base)<br>// b) Conversion&lt;T, U&gt;::exists2Way<br>// returns (at compile time) true if there are both conversions from T<br>// to U and from U to T (example: int to char and back)<br>// c) Conversion&lt;T, U&gt;::sameType<br>// returns (at compile time) true if T and U represent the same type<br>//<br>// Caveat: might not work if T and U are in a private inheritance hierarchy.<br>////////////////////////////////////////////////////////////////////////////////<br><br>&nbsp;&nbsp;&nbsp;   template &lt;class T, class U&gt;<br>&nbsp;&nbsp;&nbsp;   struct Conversion<br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   typedef Private::ConversionHelper&lt;T, U&gt; H;<br>#if defined(<strong>MWERKS</strong>) &amp;&amp; <strong>MWERKS</strong> &lt; 0x3000<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists = false };<br>#else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists = sizeof(typename H::Small) == sizeof((H::Test(H::MakeT()))) };<br>#endif<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists2Way = exists &amp;&amp; Conversion&lt;U, T&gt;::exists };<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { sameType = false };<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   struct Conversion&lt;T, T&gt;&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists = 1, exists2Way = 1, sameType = 1 };<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   struct Conversion&lt;void, T&gt;&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists = 0, exists2Way = 0, sameType = 0 };<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   template &lt;class T&gt;<br>&nbsp;&nbsp;&nbsp;   struct Conversion&lt;T, void&gt;&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists = 1, exists2Way = 0, sameType = 0 };<br>&nbsp;&nbsp;&nbsp;   };<br>&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   template &lt;&gt;<br>&nbsp;&nbsp;&nbsp;   struct Conversion&lt;void, void&gt;&nbsp;&nbsp;&nbsp;   <br>&nbsp;&nbsp;&nbsp;   {<br>&nbsp;&nbsp;&nbsp;   public:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   enum { exists = 1, exists2Way = 1, sameType = 1 };<br>&nbsp;&nbsp;&nbsp;   };<br><br>////////////////////////////////////////////////////////////////////////////////<br>// class template SuperSubclass<br>// Invocation: SuperSubclass&lt;B, D&gt;::value where B and D are types. <br>// Returns true if B is a public base of D, or if B and D are aliases of the <br>// same type.<br>//<br>// Caveat: might not work if T and U are in a private inheritance hierarchy.<br>////////////////////////////////////////////////////////////////////////////////<br><br>template &lt;class T, class U&gt;<br>struct SuperSubclass<br>{<br>enum { value = (::Loki::Conversion&lt;const volatile U</em>, const volatile T<em>&gt;::exists &amp;&amp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   !::Loki::Conversion&lt;const volatile T</em>, const volatile void<em>&gt;::sameType) };<br>};<br><br>////////////////////////////////////////////////////////////////////////////////<br>// class template SuperSubclassStrict<br>// Invocation: SuperSubclassStrict&lt;B, D&gt;::value where B and D are types. <br>// Returns true if B is a public base of D.<br>//<br>// Caveat: might not work if T and U are in a private inheritance hierarchy.<br>////////////////////////////////////////////////////////////////////////////////<br><br>template&lt;class T,class U&gt;<br>struct SuperSubclassStrict<br>{<br>enum { value = (::Loki::Conversion&lt;const volatile U</em>, const volatile T<em>&gt;::exists &amp;&amp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   !::Loki::Conversion&lt;const volatile T</em>, const volatile void<em>&gt;::sameType &amp;&amp;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   !::Loki::Conversion&lt;const volatile T</em>, const volatile U<em>&gt;::sameType) };<br>};<br><br>}&nbsp;&nbsp;   // namespace Loki<br><br>////////////////////////////////////////////////////////////////////////////////<br>// macro SUPERSUBCLASS<br>// Invocation: SUPERSUBCLASS(B, D) where B and D are types. <br>// Returns true if B is a public base of D, or if B and D are aliases of the <br>// same type.<br>//<br>// Caveat: might not work if T and U are in a private inheritance hierarchy.<br>// Deprecated: Use SuperSubclass class template instead.<br>////////////////////////////////////////////////////////////////////////////////<br><br>#define SUPERSUBCLASS(T, U) <br>&nbsp;&nbsp;&nbsp;   ::Loki::SuperSubclass&lt;T,U&gt;::value<br><br>////////////////////////////////////////////////////////////////////////////////<br>// macro SUPERSUBCLASS_STRICT<br>// Invocation: SUPERSUBCLASS(B, D) where B and D are types. <br>// Returns true if B is a public base of D.<br>//<br>// Caveat: might not work if T and U are in a private inheritance hierarchy.<br>// Deprecated: Use SuperSubclassStrict class template instead.<br>////////////////////////////////////////////////////////////////////////////////<br><br>#define SUPERSUBCLASS_STRICT(T, U) <br>&nbsp;&nbsp;&nbsp;   ::Loki::SuperSubclassStrict&lt;T,U&gt;::value<br><br>////////////////////////////////////////////////////////////////////////////////<br>// Change log:<br>// June 20, 2001: ported by Nick Thurn to gcc 2.95.3. Kudos, Nick!!!<br>// November 22, 2001: minor change to support porting to boost<br>// November 22, 2001: fixed bug in Conversion&lt;void, T&gt;<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   (credit due to Brad Town)<br>// November 23, 2001: (well it’s 12:01 am) fixed bug in SUPERSUBCLASS - added<br>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   the volatile qualifier to be 100% politically correct<br>// September 16, 2002: Changed &quot;const volatile&quot; to &quot;const volatile </em>&quot;, to enable<br>//&nbsp;&nbsp;&nbsp;&nbsp;   conversion to succeed. Done earlier by MKH.<br>//&nbsp;&nbsp;&nbsp;&nbsp;   Added SuperSubclass and SuperSubclassStrict templates. The corresponding<br>//&nbsp;&nbsp;&nbsp;&nbsp;   macros are deprecated.<br>//&nbsp;&nbsp;&nbsp;&nbsp;   Added extra parenthesis in sizeof in Conversion, to disambiguate function<br>//&nbsp;&nbsp;&nbsp;&nbsp;   call from function declaration. T.S.<br>////////////////////////////////////////////////////////////////////////////////<br><br>#endif // TYPEMANIP<em>INC</em><br> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/12/18/mojo/" class="archive-article-date">
  	<time datetime="2007-12-18T12:45:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-12-18</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-关于重载决议：boost-is-base-and-derived和Move-Constructors中的手法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/12/17/关于重载决议：boost-is-base-and-derived和Move-Constructors中的手法/">关于重载决议：boost::is_base_and_derived和Move Constructors中的手法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <a target="_blank" href="http://www.ddj.com/cpp/184403855">Generic&lt;Programming&gt;</a>: Move Constructors  by Andrei Alexandrescu<br><br>see <a href="http://hi.baidu.com/j%5Ffo/blog/item/3d6dfe0348d42b8bd53f7c42.html" target="_blank">source code</a><br></p><p>。。。 。。。</p><p>Now in starting to overload <strong>Connect</strong>, an idea would be to define <strong>Connect(const String&amp;)</strong> to catch &quot;genuine&quot; constant objects. This, however, would be a mistake because this declaration will &quot;eat&quot; all <strong>String</strong> objects &mdash; be they lvalues or temporaries. So the first good idea is to <em>not</em> declare a function that accepts a <strong>const</strong> reference, because it swallows all objects like a black hole.</p><p>A second try is to define <strong>Connect(String&amp;)</strong> in an attempt to catch non-<strong>const</strong> lvalues. This works well, and in particular <strong>const</strong> values and unnamed temporaries can’t be &quot;eaten&quot; by this overload &mdash; a good start. Now we only have to differentiate between <strong>const</strong> objects and non-<strong>const</strong> temporaries.</p><p>To do this, the technique we apply is to define two &quot;type sugar&quot; classes <strong>ConstantString</strong> and <strong>TemporaryString</strong>, and to define conversion operators from <strong>String</strong> to those objects:</p><p> </p>class String;<br><p><br>// &quot;type sugar&quot; for constant Strings<br>struct ConstantString <br>{<br>  const String<em> obj<em>;<br>};</em></em></p><p><br>// &quot;type sugar&quot; for temporary Strings<br>// (explanation coming)<br>struct TemporaryString : public ConstantString {};</p><p><br>class String<br>{<br>public:<br>  … constructors, destructors,<br>  operations, you name it … <br>  operator ConstantString() const<br>  {<br>  ConstantString result;<br>    result.obj = this;<br>    return result;<br>  }<br>  operator TemporaryString()<br>  {<br>    TemporaryString result;<br>    result.obj_ = this;<br>    return result;<br>  }<br>};</p><p> </p><p>So now <strong>String</strong> defines two conversion operators. One notable difference between them is that <strong>TemporaryString</strong> doesn’t apply to <strong>const String</strong> objects.</p><p>Now say you define the following three overloads:</p><p> </p>// binds to non-const temporaries<br>void Connect(TemporaryString); <br>// binds to all const objects (lvalues AND temporaries)<br>void Connect(ConstantString); <br>// binds to non-const lvalues<br>void Connect(String&amp; str) <br>{<br>  // just forward to the other overload<br>  // since ContantString has no constructor taking a String as parameter, <br>  // two convertion route exist:<br>  //    str —&gt; str const —&gt; ConstantString<br>  //    str —&gt; TemporaryString —&gt; ConstantString  // #1<br>  // <br>  Connect(ConstantString(str)); <br>}<p> </p><p>Here’s how it all works. Constant <strong>String</strong> objects are &quot;attracted&quot; by <strong>Connect(ConstantString)</strong>. There is no other binding that could work; the other two work for non-<strong>const</strong> <strong>String</strong>s only.</p><p>Temporary objects can’t go to <strong>Connect(String&amp;)</strong>. They could, however, go to either <strong>Connect(TemporaryString)</strong> or <strong>Connect(ConstantString)</strong>, and the former overload must be chosen unambiguously. That’s the reason for deriving <strong>TemporaryString</strong> from <strong>ConstantString</strong>, a trick that deserves some attention.</p><p>Consider for a moment that <strong>ConstantString</strong> and <strong>TemporaryString</strong> were totally independent types. Then, when prompted to copy a temporary object, the compiler would be equally motivated to go either:</p><p> </p>operator TemporaryY() &mdash;&gt; Y(TemporaryY)<p> </p><p>or:</p><p> </p>operator ConstantY() const &mdash;&gt; Y(ConstantY)<p> </p><p>Why the equal motivation? This is because the non-<strong>const</strong> to <strong>const</strong> conversion is &quot;frictionless&quot; as far as selecting member functions is concerned. (两个不同参数的函数，两个用户自定义转换，因此两个转换一样好，see C++ primer ———–&gt; this is not the case!!! see the following)</p><p>【explanation:<br>for  void Connect(ConstantString);<br> Y —&gt; Y const —&gt; Constant (UDC)<br> Y —&gt; Temporary (UDC) —&gt; Constant<br>for  void Connect(TemporaryString);<br>Y —&gt; Temporary (UDC)</p><p>for the first function, choose the second conversion, for the second, there is only one choice.<br>finally the last conversion is chosen obviously.</p><p>//Testing source code:<br> class String;<br>struct ConstantString<br>{<br>&nbsp;&nbsp;&nbsp;     const String obj_;<br>};<br><br>struct TemporaryString : public ConstantString<br>{<br>};<br><br>class String<br>{<br>public:<br>&nbsp;&nbsp;&nbsp;     operator ConstantString() const<br>&nbsp;&nbsp;&nbsp;     {<br>&nbsp;&nbsp;&nbsp;     &nbsp;&nbsp;&nbsp;     cout &lt;&lt; &quot;operator ConstantString() const&quot; &lt;&lt; endl;<br>&nbsp;&nbsp;&nbsp;     }<br>&nbsp;&nbsp;&nbsp;     operator TemporaryString()<br>&nbsp;&nbsp;&nbsp;     {<br>&nbsp;&nbsp;&nbsp;     &nbsp;&nbsp;&nbsp;     cout &lt;&lt; &quot;operator TemporaryString()&quot; &lt;&lt; endl;<br>&nbsp;&nbsp;&nbsp;     }<br>};<br><br>void test(ConstantString s){}<br><br>int main()<br>{<br>&nbsp;&nbsp;&nbsp;     test(String());<br>&nbsp;&nbsp;&nbsp;     return 0;<br>}</p><p>output : operator TemporaryString()</p><p>】</p><p>【 note<br>// compiled by g++-3.4.4 &amp; VC8.0<br>struct Class<br>{<br>&nbsp;&nbsp;&nbsp;          Class(){}<br>&nbsp;&nbsp;&nbsp;          operator int() const<br>&nbsp;&nbsp;&nbsp;          {<br>&nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp;          cout &lt;&lt; &quot;int() const&quot; &lt;&lt; endl;<br>&nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp;          return 0;<br>&nbsp;&nbsp;&nbsp;          }<br>&nbsp;&nbsp;&nbsp;          operator int()<br>&nbsp;&nbsp;&nbsp;          {<br>&nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp;          cout &lt;&lt; &quot;int()&quot; &lt;&lt; endl;<br>&nbsp;&nbsp;&nbsp;          &nbsp;&nbsp;&nbsp;          return 0;<br>&nbsp;&nbsp;&nbsp;          }<br>};<br>int main()<br>{<br>&nbsp;&nbsp;&nbsp;          Class a;<br>&nbsp;&nbsp;&nbsp;          int i = Class();&nbsp;&nbsp;           // output &quot;int()&quot;, so by default a r-value temparory is not treated as const<br>}<br> 】</p><p>The need, therefore, is to give the compiler more &quot;motivation&quot; to choose the first route than the second. That’s where the inheritance kicks in. Now the compiler says: &quot;Ok, I guess I could go through <strong>ConstantString</strong> or <strong>TemporaryString</strong>… but wait, the <em>derived</em> class <strong>TemporaryString</strong> is a better match!&quot;</p><p>The rule in action here is that matching a derived class is considered better than matching a base class when selecting a function from an overloaded set.</p><p>Finally, an interesting twist &mdash; the inheritance doesn’t necessarily have to be <strong>public</strong>. Access rules are orthogonal onto overloading rules. (  If private, #1 will be error by gcc: <code>ConstantString&#39; is an inaccessible base of</code>TemporaryString’, because conversion to the private base of TemporaryString leads to inaccessibility. This error can be eliminated by adding to class ConstantString a constructor taking a String as parameter , ie ConstantString(const String &amp;){} )</p><strong> &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</strong><br><p>boost::is_base_and_derived</p><p> template &lt;typename B, typename D&gt;<br>struct bd_helper<br>{<br>&nbsp;&nbsp;&nbsp;                     template &lt;typename T&gt;<br>&nbsp;&nbsp;&nbsp;                     static type_traits::yes_type check_sig(D const volatile <em>, T);<br>&nbsp;&nbsp;&nbsp;                     static type_traits::no_type check_sig(B const volatile </em>, int);<br>};<br><br>template&lt;typename B, typename D&gt;<br>struct is_base_and_derived_impl2<br>{<br>&nbsp;&nbsp;&nbsp;                     struct Host<br>&nbsp;&nbsp;&nbsp;                     {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                     operator B const volatile <em>() const;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                     operator D const volatile </em>();<br>&nbsp;&nbsp;&nbsp;                     };<br>&nbsp;&nbsp;&nbsp;                     static const bool value = sizeof(bd_helper&lt;B,D&gt;::check_sig(Host(), 0)) == sizeof(type_traits::yes_type);<br>};<br>   // Host() 临时对象是一个右值<br></p><p>Let’s take the multiple base class below as an example, and the following<br>will also show why there’s not a problem with private or ambiguous base<br>class:<br><br>struct B {};<br>struct B1 : B {};<br>struct B2 : B {};<br>struct D : private B1, private B2 {};<br><br>is_base_and_derived&lt;B, D&gt;::value;<br><br>First, some terminology:<br><br>SC  - Standard conversion<br>UDC - User-defined conversion<br><br>A user-defined conversion sequence consists of an SC, followed by an UDC,<br>followed by another SC. Either SC may be the identity conversion.<br><br>When passing the default-constructed Host object to the overloaded check_sig()<br>functions (initialization 8.5/14/4/3), we have several viable implicit<br>conversion sequences:<br><br>For &quot;static no_type check_sig(B const volatile <em>, int)&quot; we have the conversion<br>sequences:<br><br>C -&gt; C const (SC - Qualification Adjustment) -&gt; B const volatile</em> (UDC)<br>C -&gt; D const volatile<em> (UDC) -&gt; B1 const volatile</em> / B2 const volatile<em> -&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;                      B const volatile</em> (SC - Conversion)<br><br>For &quot;static yes_type check_sig(D const volatile <em>, T)&quot; we have the conversion<br>sequence:<br><br>C -&gt; D const volatile</em> (UDC)<br><br>According to 13.3.3.1/4, in context of user-defined conversion only the<br>standard conversion sequence is considered when selecting the best viable<br>function, so it only considers up to the user-defined conversion. For the<br> first function this means choosing between C -&gt; C const and C -&gt; C, and it<br>chooses the latter, because it’s a proper subset (13.3.3.2/3/2) of the<br>former. Therefore, we have:</p><p>【 C++ primer<br>类似地很可能有两个构造函数都能被用来把一个值变成转换的目标类型。在这种情况<br>下，在用户定义转换之前的标准转换序列会成为&ldquo;选择最佳的用户定义转换序列&rdquo;的依据<br>例如：<br>class SmallInt {<br>&nbsp;&nbsp;&nbsp;               public:<br>&nbsp;&nbsp;&nbsp;               SmallInt( int ival ) : value( ival ) { }<br>&nbsp;&nbsp;&nbsp;               SmallInt( double dval )<br>&nbsp;&nbsp;&nbsp;               : value( static_cast&lt; int &gt;( dval ) )<br>&nbsp;&nbsp;&nbsp;               { }<br>};<br>extern void manip( const SmallInt &amp; );<br>int main() {<br>&nbsp;&nbsp;&nbsp;               double dobj;<br>&nbsp;&nbsp;&nbsp;               manip( dobj ); //ok: SmallInt( double )<br>}<br>】</p><p>【 C++ primer<br>如果两个转换函数都可以使用，则跟在转换函数之后的标准转换序列会成为选择最佳<br>的用户定义转换序列的依据。<br>class Number {<br>public:<br>&nbsp;&nbsp;&nbsp;              operator float();<br>&nbsp;&nbsp;&nbsp;              operator int();<br>};<br>Number num;<br>float ff = num;&nbsp;&nbsp;               // operator float()<br>】</p><p>【 C++ primer<br>class SmallInt {<br>public:<br>&nbsp;&nbsp;&nbsp;              operator int();<br>&nbsp;&nbsp;&nbsp;              operator float();<br>&nbsp;&nbsp;&nbsp;              // …<br>};<br>void compute( float );<br>void compute( char );<br>SmallInt si ( 68 );<br>main() {<br>&nbsp;&nbsp;&nbsp;              compute( si ); // 二义的<br>}<br>而这里考虑的是两个不同的函数，带有不同的参数类型，且目<br>标类型是变化的。如果两个参数类型要求不同的用户定义的转换，则不可能选择哪一个参数<br>类型比另一个更好，除非用户定义的转换涉及到相同的转换函数。</p><p>因为两个用户定义的转换序列使用了不同的转换函数，所以不能判定哪个函数对该<br>调用有最佳的参数类型。标准转换序列的等级也不能被用来判定最佳转换序列，以及最佳参<br>数类型，所以，该调用被编译器标记为二义的。<br>】<br></p><p>C -&gt; D const volatile<em> (UDC) -&gt; B1 const volatile</em> / B2 const volatile<em> -&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;                      B const volatile</em> (SC - Conversion)<br>C -&gt; D const volatile<em> (UDC)<br><br>Here, the principle of the &quot;shortest subsequence&quot; applies again, and it<br>chooses C -&gt; D const volatile</em>. This shows that it doesn’t even need to<br>consider the multiple paths to B, or accessibility, as that possibility is<br>eliminated before it could possibly cause ambiguity or access violation.<br><br>If D is not derived from B, it has to choose between C -&gt; C const -&gt; B const<br>volatile<em> for the first function, and C -&gt; D const volatile</em> for the second<br>function, which are just as good (both requires a UDC, 13.3.3.2), had it not<br>been for the fact that &quot;static no_type check_sig(B const volatile <em>, int)&quot; is<br>not templated, which makes C -&gt; C const -&gt; B const volatile</em> the best choice<br>(13.3.3/1/4), resulting in &quot;no&quot;.<br><br>Also, if Host::operator B const volatile<em> hadn’t been const, the two<br>conversion sequences for &quot;static no_type check_sig(B const volatile </em>, int)&quot;, in<br>the case where D is derived from B, would have been ambiguous.</p><br><strong><br>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</strong> <br><br>C++ primer<br><br>右值只是一个表达式，它表示了一个值或一个引用了临时对象的表达式，用户不能寻址该<br>对象，也不能改变它的值。<br><br>精确匹配的实参并不一定与参数的类型完全一致，有一些最小转换可以被应用到实参上。<br>在精确匹配的等级类别中可能存在的转换如下：<br>&nbsp;&nbsp;&nbsp;                从左值到右值的转换<br>&nbsp;&nbsp;&nbsp;                从数组到指针的转换<br>&nbsp;&nbsp;&nbsp;                从函数到指针的转换<br>&nbsp;&nbsp;&nbsp;                限定修饰转换（这种转换只影响指针，它将限定修饰符const或volatile 或两者加到指针指向的类型上）<br><br>即使一个实参必须应用一些最小的类型转换，才能将其转换为相应函<br>数参数的类型，它仍然是精确匹配的。<br><br><br><br>一个标准(standard) 转换序列潜在地由下列转换以下列顺序构成：<br>&nbsp;&nbsp;&nbsp;                左值转换&mdash;&mdash;&gt;<br>&nbsp;&nbsp;&nbsp;                &nbsp;&nbsp;&nbsp;                提升或者标准转换&mdash;&mdash;&gt;<br>&nbsp;&nbsp;&nbsp;                &nbsp;&nbsp;&nbsp;                &nbsp;&nbsp;&nbsp;                限定修饰转换<br>（至多每种转换会有一个被应用上，以将实参转换成相应的参数）<br>这种转换序列被称为标准(standard) 转换序列，还有另外一种转换序列被称为用户定义<br>的user-defined 转换序列。<br><br>限定转换（把const 或volatile 修饰符加到指针指向的类型上的转换）具有精确匹配的等<br>级。但是，如果两个转换序列前面都相同，只是一个在序列尾部有一个额外的限定转换，则<br>另一个没有额外限定转换的序列比较好。eg：<br>void reset( int <em> );<br>void reset( const int </em> );<br><br><br><br><p> </p><p> </p> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/12/17/关于重载决议：boost-is-base-and-derived和Move-Constructors中的手法/" class="archive-article-date">
  	<time datetime="2007-12-17T13:31:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-12-17</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/43/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/42/">42</a><a class="page-number" href="/page/43/">43</a><span class="page-number current">44</span><a class="page-number" href="/page/45/">45</a><a class="page-number" href="/page/46/">46</a><span class="space">&hellip;</span><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/45/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 jfo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">87</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino-OpenWrt/">Arduino/OpenWrt</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DefaultCategory/">DefaultCategory</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Computing/">Distributed Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Google/">Google</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-App/">Linux App</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Debug/">Linux Debug</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Virtualization/">Linux Virtualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OS-X/">Mac OS X</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Saying/">Saying</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebDev/">WebDev</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-algorithm/">c/c++/algorithm</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cocos2d-x-模拟器/">cocos2d-x/模拟器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/com组件/">com组件</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js-html-python/">js/html/python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/l4ka-pistachio-iguana/">l4ka::pistachio/iguana</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux-图形/">linux 图形</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/self-collect/">self_collect</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/教育/">教育</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学-物理/">数学/物理</a><span class="category-list-count">3</span></li></ul>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iguangba.pickbox.me/">爱逛吧</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.pickbox.me/">收藏夹</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://note.pickbox.me/">网络剪贴板</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">jfojfo#gmail.com</div>
  	  	
    	</section>
    
  </div>
  
</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>