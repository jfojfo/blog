<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>jfo planet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="jfo planet">
<meta property="og:url" content="http://blog.pickbox.me/page/59/index.html">
<meta property="og:site_name" content="jfo planet">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jfo planet">
  
    <link rel="alternative" href="/atom.xml" title="jfo planet" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">jfo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">分类</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">jfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">jfo</h1>
			</hgroup>
			
			<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-pkgconfig／PKG-CONFIG-PATH" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/03/pkgconfig／PKG-CONFIG-PATH/">pkgconfig／PKG_CONFIG_PATH</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <strong>如何从源码包安装软件？<br><br>从源码包安装软件最重要的就是仔细阅读README INSTALL等说明文件<br><br>它会告诉你怎样才能成功安装  <img class="inlineimg" title="微笑" src="http://www.linuxsir.org/bbs/images/smilies/smile.gif"><br>通常从源码包安装软件的步骤是：<br>tar jxvf gtk+-2.4.13.tar.bz2  解开源码包<br>cd gtk+-2.4.13/ 进入源码目录<br>./configure  似乎在某些环境下./configure会造成终端退出<br>而使用. configure则会正常运行,如果有这个现象，就试试 . configure<br><br>通过configure程序猜测主机信息，最终建立Makefile,以完成make，所以如果./configure不成功<br>而去make的话,就会出现&quot;make: <strong><em> No targets specified and no makefile found. Stop.&quot;<br>make 当./configure成功结束后，就开始正式编译程序了.<br>make install  编译成功后使用make install安装<br>make uninstall 某些软件支持卸载，可能使用该方法卸载，如果支持的话，通常会在README中写到(似乎比较少)<br><br>configure程序带有很多参数，可以通过 ./configure –help 查看详细内容,通常位于前面的是常规configure的<br>参数说明，末尾是该程序的可用参数说明。<br>./configure –prefix=/usr 指定安装目录，通常从源码包编译安装的软件默认会放在/usr/local下<br>因为这是FHS(Filesystem Hierarchy Standard)的规定，不知道什么是FHS？看看这篇文章吧：<br><a target="_blank" href="http://www.pathname.com/fhs/pub/fhs-2.3.html">http://www.pathname.com/fhs/pub/fhs-2.3.html</a> 相信它会让你对linux系统结构有更好的理解，很值得读读。<br><br>再说一下几个关系到能否成功编译的东东：/etc/ld.so.conf  ldconfig   PKG_CONFIG_PATH<br><br></em></strong><strong>首先说下/etc/ld.so.conf: <br><br>这个文件记录了编译时使用的动态链接库的路径。<br>默认情况下，编译器只会使用/lib和/usr/lib这两个目录下的库文件<br>如果你安装了某些库，比如在安装gtk+-2.4.13时它会需要glib-2.0 &gt;= 2.4.0,辛苦的安装好glib后<br>没有指定 –prefix=/usr  这样glib库就装到了/usr/local下，而又没有在/etc/ld.so.conf中添加/usr/local/lib<br>这个搜索路径，所以编译gtk+-2.4.13就会出错了 <img class="inlineimg" title="皱眉" src="http://www.linuxsir.org/bbs/images/smilies/frown.gif"><br>对于这种情况有两种方法解决：<br>一：在编译glib-2.4.x时，指定安装到/usr下，这样库文件就会放在/usr/lib中，gtk就不会找不到需要的库文件了 <img class="inlineimg" title="微笑" src="http://www.linuxsir.org/bbs/images/smilies/smile.gif"><br>对于安装库文件来说，这是个好办法，这样也不用设置PKG_CONFIG<em>PATH了 (稍后说明)<br><br>二：将/usr/local/lib加入到/etc/ld.so.conf中，这样安装gtk时就会去搜索/usr/local/lib,同样可以找到需要的库 <img class="inlineimg" title="微笑" src="http://www.linuxsir.org/bbs/images/smilies/smile.gif"><br>将/usr/local/lib加入到/etc/ld.so.conf也是必须的，这样以后安装东东到local下，就不会出现这样的问题了。<br>将自己可能存放库文件的路径都加入到/etc/ld.so.conf中是明智的选择 ^</em>^<br>添加方法也极其简单，将库文件的绝对路径直接写进去就OK了，一行一个。例如：<br>/usr/X11R6/lib<br>/usr/local/lib<br>/opt/lib<br><br></strong><strong>再来看看ldconfig是个什么东东吧 ：<br><br>它是一个程序，通常它位于/sbin下，是root用户使用的东东。具体作用及用法可以man ldconfig查到<br>简单的说，它的作用就是将/etc/ld.so.conf列出的路径下的库文件 缓存到/etc/ld.so.cache 以供使用<br>因此当安装完一些库文件，(例如刚安装好glib)，或者修改ld.so.conf增加新的库路径后，需要运行一下/sbin/ldconfig<br>使所有的库文件都被缓存到ld.so.cache中，如果没做，即使库文件明明就在/usr/lib下的，也是不会被使用的，结果<br>编译过程中抱错，缺少xxx库，去查看发现明明就在那放着，搞的想大骂computer蠢猪一个。 ^_^<br>我曾经编译KDE时就犯过这个错误，(它需要每编译好一个东东，都要运行一遍)，所以<br><br>切记改动库文件后一定要运行一下ldconfig，在任何目录下运行都可以。<br><br><br></strong><strong>再来说说 PKG_CONFIG_PATH这个变量吧:<br><br>经常在论坛上看到有人问&quot;为什么我已经安装了glib-2.4.x，但是编译gtk+-2.4.x 还是提示glib版本太低阿？<br>为什么我安装了glib-2.4.x，还是提示找不到阿？。。。。。。&quot;都是这个变量搞的鬼。<br>先来看一个编译过程中出现的错误 (编译gtk+-2.4.13):<br><br>checking for pkg-config… /usr/bin/pkg-config<br>checking for glib-2.0 &gt;= 2.4.0 atk &gt;= 1.0.1 pango &gt;= 1.4.0… Package glib-2.0 was not found in the pkg-config search path.<br>Perhaps you should add the directory containing `glib-2.0.pc’<br>to the PKG_CONFIG_PATH environment variable<br>No package ‘glib-2.0’ found<br><br>configure: error: Library requirements (glib-2.0 &gt;= 2.4.0 atk &gt;= 1.0.1 pango &gt;= 1.4.0) not met; consider adjusting the PKG_CONFIG_PATH environment variable if your libraries are in a nonstandard prefix so pkg-config can find them.<br>[root@NEWLFS gtk+-2.4.13]#                                               <br>很明显，上面这段说明，没有找到glib-2.4.x,并且提示应该将glib-2.0.pc加入到PKG_CONFIG_PATH下。<br>究竟这个pkg-config PKG_CONFIG<em>PATH glib-2.0.pc 是做什么的呢？ let me tell you ^</em>^<br>先说说它是哪冒出来的，当安装了pkgconfig-x.x.x这个包后，就多出了pkg-config，它就是需要PKG_CONFIG_PATH的东东<br>pkgconfig-x.x.x又是做什么的？ 来看一段说明：<br><br></strong><strong></strong><strong></strong><strong></strong><strong>代码:</strong><strong></strong><strong></strong><strong></strong><strong>The pkgconfig package contains tools for passing the include path and/or library paths to build tools during the make file execution.<br><br>pkg-config is a function that returns meta information for the specified library.<br><br>The default setting for PKG_CONFIG_PATH is /usr/lib/pkgconfig because of the prefix we use to install pkgconfig. You may add to PKG_CONFIG_PATH by exporting additional paths on your system where pkgconfig files are installed. Note that PKG_CONFIG_PATH is only needed when compiling packages, not during run-time.</strong><strong></strong><strong></strong><strong></strong><strong>我想看过这段说明后，你已经大概了解了它是做什么的吧。<br>其实pkg-config就是向configure程序提供系统信息的程序，比如软件的版本啦，库的版本啦，库的路径啦，等等<br>这些信息只是在编译其间使用。你可以 ls /usr/lib/pkgconfig 下，会看到许多的.pc,用文本编辑器打开<br>会发现类似下面的信息：<br><br>prefix=/usr<br>exec_prefix=${prefix}<br>libdir=${exec_prefix}/lib<br>includedir=${prefix}/include<br><br>glib_genmarshal=glib-genmarshal<br>gobject_query=gobject-query<br>glib_mkenums=glib-mkenums<br><br>Name: GLib<br>Description: C Utility Library<br>Version: 2.4.7<br>Libs: -L${libdir} -lglib-2.0<br>Cflags: -I${includedir}/glib-2.0 -I${libdir}/glib-2.0/include<br><br>明白了吧，configure就是靠这些信息判断你的软件版本是否符合要求。并且得到这些东东所在的位置，要不去哪里找呀。<br>不用我说你也知道为什么会出现上面那些问题了吧。<br><br>解决的办法很简单，设定正确的PKG_CONFIG_PATH，假如将glib-2.x.x装到了/usr/local/下，那么glib-2.0.pc就会在<br>/usr/local/lib/pkgconfig下，将这个路径添加到PKG_CONFIG_PATH下就可以啦。并且确保configure找到的是正确的<br>glib-2.0.pc,就是将其他的lib/pkgconfig目录glib-2.0.pc干掉就是啦。(如果有的话 ^-^)<br>设定好后可以加入到~/.bashrc中，例如：<br>PKG_CONFIG_PATH=/opt/kde-3.3.0/lib/pkgconfig:/usr/lib/pkgconfig:/usr/local/pkgconfig:<br>/usr/X11R6/lib/pkgconfig<br>[root@NEWLFS ~]#echo $PKG_CONFIG_PATH<br>/opt/kde-3.3.0/lib/pkgconfig:/usr/lib/pkgconfig:/usr/local/pkgconfig:/usr/X11R6/lib/pkgconfig<br><br>从上面可以看出，安装库文件时，指定安装到/usr，是很有好处的，无论是/etc/ld.so.conf还是PKG_CONFIG_PATH<br>默认都会去搜索/usr/lib的，可以省下许多麻烦，不过从源码包管理上来说，都装在/usr下<br>管理是个问题，不如装在/usr/local下方便管理<br>其实只要设置好ld.so.conf，PKG_CONFIG<em>PATH路径后，就OK啦 ^</em>^<br><br>另外某些软件因为版本原因(比如emacs-21.3)，在gcc-3.4.x下编译无法成功,(make 出错)<br>使用低版本的gcc就可能编译通过。<br>可能是因为gcc-3.3.x和gcc-3.4.x变化很大的缘故吧。<br><br>暂时想到了这么多，先记下这些吧，如果你对源码包编译有了一点的了解，就不枉我打了这么半天字啦。 ^_^ <br><br>另外./configure 通过，make 出错，遇到这样的问题比较难办，只能凭经验查找原因，比如某个头文件没有找到，<br>这时候要顺着出错的位置一行的一行往上找错，比如显示xxxx.h  no such file or directory 说明缺少头文件<br>然后去google搜。<br>或者找到感觉有价值的错误信息，拿到google去搜，往往会找到解决的办法。还是开始的那句话，要仔细看README,INSTALL<br>程序如何安装，需要什么依赖文件，等等。<br><br>另外对于newbie来说，编译时，往往不知道是否成功编译通过，而编译没有通过就去make install<br>必然会出错，增加了解决问题的复杂性，可以通过下面方法检查是否编译成功：<br><br>一：编译完成后，输入echo $? 如果返回结果为0,则表示正常结束，否则就出错了 <img class="inlineimg" title="皱眉" src="http://www.linuxsir.org/bbs/images/smilies/frown.gif"><br>echo $? 表示 检查上一条命令的退出状态，程序正常退出 返回0,错误退出返回非0。<br>二：编译时，可以用&amp;&amp;连接命令， &amp;&amp; 表示&quot;当前一条命令正常结束，后面的命令才会执行&quot;，就是&quot;与&quot;啦。<br>这个办法很好，即节省时间，又可防止出错。例：<br>./configure –prefix=/usr &amp;&amp; make &amp;&amp; make install<br><br>编译DOSBOX时出现&quot;cdrom.h:20:23: SDL_sound.h: No such file or directory&quot;<br><br>今天忽然想回味下经典DOS游戏，于是编译这个DOSBOX模拟器，README中说明需要SDL_SOUND<br>于是下载，安装，很顺利，没有指定安装路径，于是默认的安装到了/usr/local/<br>当编译DOSBOX make 时，出现如下错误：<br>if g++ -DHAVE_CONFIG_H -I. -I. -I../.. -I../../include -I/usr/include/SDL -D_REENTRANT -march=pentium4 -O3 -pipe -fomit-frame-pointer -MT dos_programs.o -MD -MP -MF &quot;.deps/dos_programs.Tpo&quot; -c -o dos_programs.o dos_programs.cpp; <br>then mv -f &quot;.deps/dos_programs.Tpo&quot; &quot;.deps/dos_programs.Po&quot;; else rm -f &quot;.deps/dos_programs.Tpo&quot;; exit 1; fi<br>In file included from dos_programs.cpp:30:<br>cdrom.h:20:23: SDL_sound.h: No such file or directory  &lt;——错误的原因在这里<br>In file included from dos_programs.cpp:30:<br>cdrom.h:137: error: ISO C++ forbids declaration of <code>Sound_Sample&#39; with no type&lt;br /&gt;cdrom.h:137: error: expected</code>;’ before ‘<em>‘ token<br>make[3]: </em></strong> [dos_programs.o] Error 1<br>make[3]: Leaving directory <code>/root/software/dosbox-0.63/src/dos&#39;&lt;br /&gt;make[2]: *** [all-recursive]  Error 1&lt;br /&gt;make[2]: Leaving directory</code>/root/software/dosbox-0.63/src’<br>make[1]: <strong><em> [all-recursive] Error 1<br>make[1]: Leaving directory `/root/software/dosbox-0.63’<br>make: </em></strong> [all] Error 2<br>[root@NEWLFS dosbox-0.63]#<br>看来是因为cdrom.h没有找到SDL_sound.h这个头文件<br>所以出现了下面的错误，但是我明明已经安装好了SDL_sound阿？<br>经过查找，在/usr/local/include/SDL/下找到了SDL_sound.h<br>看来dosbox没有去搜寻/usr/local/include/SDL下的头文件，既然找到了原因，就容易解决啦<br><br>[root@NEWLFS dosbox-0.63]#ln -s /usr/local/include/SDL/SDL<em>sound.h /usr/include<br><br>做个链接到/usr/include下，这样DOSBOX就可以找到了，顺利编译成功，回味仙剑ing….^</em>^<br>曾经编译Xorg-6.8.1的时候，也出现找不到freetype.h的问题，原因也是如此。<br>编译安装软件时，经常遇到类似的情况，都是因为找不到需要的头文件而出现错误，也许是因为<br>没有安装相关的头文件，或者是安装了但没有找到，如上例。<br>找不到的情况：做个链接到/usr/include下，就可以了。<br>没安装的情况：去google找什么东东包括该头文件，安装上就应该可以了。<br>通常错误提示也都是&quot;No such file or directory&quot;，所以编译失败时要好好找找错误信息哦。<br>错误信息总是在Error上面不远的，耐心点 ^_^<br><br></strong><strong>不修改/etc/ld.so.conf使用非默认路径下的库文件—–LD_LIBRARY_PATH<br><br>环境变量LD_LIBRARY_PATH列出了查找共享库时除了默认路径之外的其他路径。<br>如果不想修改或无法修改(无root权限)/etc/ld.so.conf而使用其他路径下的库文件<br>就需要设置LD_LIBRARY_PATH了，例：export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/lib<br>这样就可以使用/opt/lib下的库文件啦。当然还是修改/etc/ld.so.conf方便。</strong> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/03/pkgconfig／PKG-CONFIG-PATH/" class="archive-article-date">
  	<time datetime="2006-12-03T05:09:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-03</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-tcl-patch" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/11/24/tcl-patch/">tcl patch</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="tcl-file-tcl8-x-x-unix-tcl-m4-tk-file-tk8-x-x-unix-tcl-m4-otcl-file-otcl-1-x-configure-in-According-to-Gauraz-The-line-generating-the-problem-was-system-MP-RAS-awk-39-print-3-39-etc-relid-39-The-problem-lies-in-how-bash-3-1-x-and-4-x-x-parse-the-configure-file-This-will-simply-pass-through-bash-3-0-x-and-lower-versions-So-in-order-to-make-things-work-I-changed-the-above-line-to-system-MP-RAS-awk-39-print-3-39-etc-relidYou-will-have-to-take-following-steps-in-order-to-bring-the-changes-into-effect-Remove-the-second-last-character-‘-from-the-line-and-do-this-for-all-the-three-files-above-Now-after-changing-the-configuration-files-you-will-have-to-delete-older-configure-file-and-any-cache-if-it-exists-in-the-respective-folders-After-that-do-not-forget-to-run-autoconf-from-command-line-in-the-respective-folders-to-generate-a-fresh-configure-file"><a href="#tcl-file-tcl8-x-x-unix-tcl-m4-tk-file-tk8-x-x-unix-tcl-m4-otcl-file-otcl-1-x-configure-in-According-to-Gauraz-The-line-generating-the-problem-was-system-MP-RAS-awk-39-print-3-39-etc-relid-39-The-problem-lies-in-how-bash-3-1-x-and-4-x-x-parse-the-configure-file-This-will-simply-pass-through-bash-3-0-x-and-lower-versions-So-in-order-to-make-things-work-I-changed-the-above-line-to-system-MP-RAS-awk-39-print-3-39-etc-relidYou-will-have-to-take-following-steps-in-order-to-bring-the-changes-into-effect-Remove-the-second-last-character-‘-from-the-line-and-do-this-for-all-the-three-files-above-Now-after-changing-the-configuration-files-you-will-have-to-delete-older-configure-file-and-any-cache-if-it-exists-in-the-respective-folders-After-that-do-not-forget-to-run-autoconf-from-command-line-in-the-respective-folders-to-generate-a-fresh-configure-file" class="headerlink" title="tcl: file tcl8.x.x/unix/tcl.m4.# tk: file tk8.x.x/unix/tcl.m4.# otcl: file otcl-1.x/configure.in.According to Gauraz,The line generating the problem was :system=MP-RAS-awk &#39; { print $3 } &#39;/etc/.relid&#39;The problem lies in how bash 3.1.x and 4.x.x parse the configure file. This will simply pass through bash 3.0.x and lower versions. So in order to make things work I changed the above line to:system=MP-RAS-awk &#39; { print $3 } &#39;/etc/.relidYou will have to take following steps in order to bring the changes into effect:Remove the second last character ( ‘ ) from the line and do this for all the three files above. Now after changing the configuration files you will have to delete older configure file and any cache if it exists in the respective folders. After that do not forget to run autoconf from command line in the respective folders to generate a fresh configure file."></a>tcl: file tcl8.x.x/unix/tcl.m4.<br><br># tk: file tk8.x.x/unix/tcl.m4.<br><br># otcl: file otcl-1.x/configure.in.<br><br><br>According to Gauraz,<br><br>The line generating the problem was :<br><br>system=MP-RAS-<code>awk &#39; { print $3 } &#39;/etc/.relid&#39;</code><br><br>The problem lies in how bash 3.1.x and 4.x.x parse the configure file. This will simply pass through bash 3.0.x and lower versions. So in order to make things work I changed the above line to:<br><br>system=MP-RAS-<code>awk &#39; { print $3 } &#39;/etc/.relid</code><br><br>You will have to take following steps in order to bring the changes into effect:<br>Remove the second last character ( ‘ ) from the line and do this for all the three files above. Now after changing the configuration files you will have to delete older configure file and any cache if it exists in the respective folders. After that do not forget to run autoconf from command line in the respective folders to generate a fresh configure file.</h1>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/11/24/tcl-patch/" class="archive-article-date">
  	<time datetime="2006-11-24T04:47:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-11-24</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-samba-config2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/11/24/samba-config2/">samba config2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <dl><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec1" target="_blank" rel="external">为什么选用Samba</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec2" target="_blank" rel="external">Samba的配置</a> </dt><dd> <dl><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec3" target="_blank" rel="external">sam.conf文件简介</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec4" target="_blank" rel="external">配置选项</a> </dt><dd> <dl><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec5" target="_blank" rel="external">Samba全局设置</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec6" target="_blank" rel="external">大小写管理</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec7" target="_blank" rel="external">默认全局设置-全局设置</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec8" target="_blank" rel="external">配置共享</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec9" target="_blank" rel="external">共享打印机</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec10" target="_blank" rel="external">配置登录目录</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec11" target="_blank" rel="external">默认全局设置-目录与打印机</a> </dt></dl> </dd><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec12" target="_blank" rel="external">配置片段</a> </dt></dl> </dd><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec13" target="_blank" rel="external">排除错误</a> </dt><dd> <dl><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec14" target="_blank" rel="external">基本网络是否正常</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec15" target="_blank" rel="external">Samba 服务是否运行</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec16" target="_blank" rel="external">防火墙是否打开</a> </dt><dt> <a href="http://learn.tsinghua.edu.cn:8080/2001012143/wiki/publish/GNU/samba.html#sec17" target="_blank" rel="external">用户口令是否使用</a> </dt></dl> </dd></dl>  Samba是Windows操作系统用来共享文件和打印机的协议.利用Samba可以把Linux计算机放进Microsoft网络中.</p><p>Samba是个异构服务.配置好的Linux服务器放入Microsoft的网络后,其他计算机看不到它与Microsoft计算机的任何区别.</p><p>Samba可以沟通Linux与Microsoft Windows, 即可以在这些操作系统中无差异的通信.可以将提供Samba服务的Linux服务器的特定目录配置成与Microsoft Windows 网络的任何其他成员一样的共享目录.</p>为什么选用Samba<p>文件共享的工具有很多,比如ftp,nfs等等. Samba不同于ftp,提供在线运行程序的功能,即不需要下载到本地硬盘也能够使用一些程序.最常见的是提供在线观看电影. 虽然nfs也能提供文件共享功能,但是nfs的共享功能需要类Unix的系统,在一般的网络中,很多用户使用Windows系统.</p><p>基于上述的考虑,学习使用Samba是有用处的.</p><p>Samba提供了很全的共享功能,同时配置文件中的选项十分丰富.</p><p>Samba的主要配置文件是smb.conf.</p>Samba的配置sam.conf文件简介sam.conf文件记录samba的配置信息.建议修改前备份安装Samba时默认的配置文件,每次修改后使用 service smb reload 命令读取新的配置.<p>配置文件一般有三部分,全局配置,打印机配置,共享配置.配置文件以[]标识某一部分配置的开始.全局配置中的内容可以作为后续配置的默认选项.</p><p>修改配置文件的方法有两类:修改文本smb.conf,使用有交互界面的配置程序,如SWAT,redhat-config-samba等,后者也是通过修改smb.conf文件达到配置的目的的.一般推荐修改smb.conf文件的方法进行配置.</p>配置选项Samba全局设置smb.conf文件中有大量全局变量.如果不用某个变量,则Samba程序采用默认值.<ul> <li>基本网络类型: 描述要加入的网络类型.    workgroup = WORKGROUP    计算机的描述    server string = CPSELinux Samba Server    </li> <li>IP地址限制: 除可以用iptables限制对Samba的访问外,可以用hosts allow命令进一步限制访问.    hosts allow = 166.111.8.238    或者允许一个网段的访问    hosts allow = 166.111.    更多限制    hosts allow = 59.66. 166.111.8.238    </li> <li>Samba与打印机: 默认情况下,打印机放在共享的可浏览的项目列表中.通过Samba在标准的CUPS系统装入一系列打印机:    printcap name = /etc/printcap<br>load printers = yes<br>printing = cups    </li> <li>宾客账号: Samba可以生成标准的guest帐号.如果要使用宾客帐号,要保证pcguest是Linux系统中的实名用户:    ;guest account = pcguest    </li> <li>日志文件: 下列选项对连接Samba服务器的每台计算机配置不同的日志文件。    log file = /var/log/samba/%m.log    指定日志文件大小，size为0时表示日志文件的长度不受限制。当指定大小时， 文件长度的单位为K。    max log size ＝0    </li> <li>安全模式: Microsoft Windows 网络提供了几个基本的安全模式。选择的方法取决于共享目录的条件和共享网络的类型。    security = share<br>security = user<br>security = server<br>security = domain    Samba的安全模式                                        share                共享目录只要用口令即可访问的系统。                                        user                共享目录通过用户名和口令限制的系统。                                        server                用户名和口令优先选择集中式数据库的系统。                                        domain                选择windows域系统，要求/etc/samba中有smbuser与smbpasswd数据库文件。                            </li> <li>口令设置: 如果设置security = share或security = domain，则还应指定网络的口令服务器。如果已知主域控制器和备份域控制器名称为ntserv1与ntserv2，则需使用下 列命令:    password server = ntserv1 ntserv2    如果不知道主域控制器和备份域控制器名称，则可以将Samba服务器设置成搜索主域控制器:    password server = <em>    试验八字符口令与用户名的所有大小写字母组合：    ;password level = 8<br>;username level = 8    将Samba配置成以标准Samba口令文件发送加密口令。可以用smbadduser添加 Microsoft Windows 用户和口令。    encrypt passwords = yes<br>smb passwd file = /etc/samba/smbpasswd    用户在Microsoft Windows计算机上更改口令，下列命令同步相应的Linux口令：    unix password sync = yes<br>passwd program = /usr/bin/passwd %u<br>passwd chat = New Password %nn Retype new password %nn passwd: all<br>authentication tokens updated successfully    用PAM(可插入验证模块)保护口令，PAM将覆盖password program变量    pam password change = yes    如果设置明文口令，下列命令用PAM控制对系统的访问    obey pam restrictions = yes    </em></li> <li>映射Linux 与 Windows 用户: 可以用不同的用户名匹配Linux与Windows用户。可以使用smbadduser添加用户，也可以直接修改/etc/samba/smbusers文件。    ;username map = /etc/samba/smbusers    </li> <li>计算机定制 Samba: 可以在远程计算机上配置Samba服务器。激活下面的命令，则每台计算机会寻找特定的配置文件。    ; include = /etc/samba/smb.conf.%m    </li> <li>性能管理: 优化网络性能。TCP_NODELAY通常使Samba性能加倍，SO_RCVBUF与SO_SNDBUF变量 是进出Samba的数据缓冲区。    socket options = TCP_NODELAY SO_RCVBUF = 8192 SO_SNDBUF = 8192    </li> <li>网络接口: 服务器可以配置多个网络接口卡，将Samba访问限制在一个网卡上，也可以将Samba服务器设置用于特定的远程网络。    interfaces eth1 172.168.88.0/24    </li> <li>浏览: 在Microsoft Windows网络中，浏览就是计算机显示可用的共享目录与打印机。一台计算机是浏览主计算机，其他计算机将共享信息发送到这台计算机。 如果不知道网络中的主浏览器的IP地址，则可以使用广播地址。    remote browse sync = 192.168.1.255    Microsoft 网络中的一台计算机保存浏览表，通过&ldquo;选举&rdquo;确定此计算机，不参与选举。    ;local master = no    参与&ldquo;选举&rdquo;，同时战胜除域名控制器和Microsoft Windows NT 服务器外的其他计算机。  不让别的计算机有任何机会，将Samba设置为域中的主浏览器    ;domain master = yes    Samba服务器的工作量不足，设置为优选主浏览器    ;preferred master = yes    </li> <li>登录管理: 网络中有Linux和Microsoft Windows计算机，激活下面的命令，将Samba设置为这个网络的主域控制器，控制用户名与口令数据库:    ;domain logons = yes    Microsoft网络可以按用户或计算机配置登录，一个登录脚本配置一种，这些脚本可以放在Samba服务器中。%m对应与每台机器，即计算机，%U对应每个用户。    ; logon script = %m.bat<br>; logon script = %U.bat    利用中央配置文件，用户登录时可以向网络中的任何Microsoft计算机提供一致的外观。可以将配置文件存放在Samba服务器的登录路径中。%L表示服务器名，%U表示用户名。    ;logon path= \%LProfiles%U    </li> <li>WINS与DNS: WINS 是Windows Internet Name Server的缩写，与DNS相似，它是一个NetBIOS名称与IP地址的数据库。如果Samba无法在/etc/hosts中找到所需的计算机名，则WINS与DNS提供了两个其他的数据库。 下列命令在本地Samba服务器中设置WINS：    ;wins support = yes    也可以查找特定IP地址的不同WINS服务器（这里的地址是任意的，应换成相应的 地址）。这里Samba服务器成为WINS客户机:    ;wins server = 192.168.0.22    如果Microsoft网络中还有旧式计算机，激活下面的命令，使所有计算机都能访 问WINS数据库：    ;wins proxy = yes    如果计算机不再WINS数据库中，激活下面的命令，将DNS服务器设置为数据库：    ;dns proxy = yes    大小写管理    Linux是大小写相关的操作系统，Microsoft是大小写无关的操作系统。通常，Samba保留所传输的文件的大小写。可强制让一切保持小写，下面命令影响长文件名和采用Microsoft 8.3文件名格式的文件名:    ;preserve case = no<br>;short preserve case = no    用下列命令将所有文件名设置为默认大写:    ;default case = upper    如果所有用户都采用大小写相关的文件名，可以使用下面的命令使Samba服务器大小写相关：    ;case sensitive = yes    </li></ul>默认全局设置-全局设置这里列出了smb.conf默认的全局设置。如果使用默认参数，则不必在smb.conf中列出。                        变量            默认                            case sensitive            no                            default case            lower                            dns proxy            yes                            domain  logons            no                            encrypt passwords            no                            guest account            nobody                            hosts allow            所有主机                            include            无默认                            interfaces            除127.0.0.1外的所有活动接口                            load printers            yes                            local master            yes                            log file            无默认                            logon script            无默认                            max log size            5000KB                            obey pam restrictions            no                            pam password change            no                            passwd program            /bin/passwd                            passwd server            无默认                            passwd level            0                            preferred master            auto                            preserve case            yes                            printcap name            /etc/printcap                            printing            无默认                            remote announce            无默认                            remote browse sync            无默认                            security            user                            server string            Samba %v, %v显示版本号                            short preserve case            yes                            smb password file            无默认                            socket options            TCP_NODELAY                            ssl CA certFile            /usr/local/ssl/certs/trustedCAs.pem                            unix password sync            no                            username level            0                            username map            无默认                            wins proxy            no                            wins server            不支持                            wins support            no                            workgroup            WORKGROUP            配置共享<ul> <li>[Homes]共享    [homes]<br>comment = Home Directories<br>browseable = no<br>writeable = yes<br>valid users = %S<br>create mode = 0664<br>directory mode = 0775    </li> <li>[tmp]共享    [tmp]<br>comment = Temporary file space<br>path = /tmp<br>read only = no<br>public = yes    共享打印机    配置了CUPS打印机，则要配置基本共享。    [printers]<br>comment = All Printers<br>path = /var/spool/samba<br>browseable = no<br>guest ok = no<br>writeable = no<br>printanble = yes    配置登录目录    在Microsoft网络上用Samba将Linux计算机配置成域控制器时，要配置每个用户的登录和配置文件路径。要先建立相应的目录。 下列命令根据path指定的目录在Microsoft Windows域中配置登录:    [netlogon]<br>comment = Network Logon Service<br>path = /usr/local/samba/lib/netlogon<br>guest ok = yes<br>writable = no<br>share modes = no    下列命令可以对登录Samba服务器的用户配置本地配置文件:    [Profiles]<br>path=/usr/local/samba/profiles<br>broweable = no<br>guest ok = yes    默认全局设置-目录与打印机    目录与打印机的默认全局设置。                                        变量                默认                                        browseable                yes                                        comment                无默认                                        create mode                create mask = 0744                                        directory mode                directory mask = 0755                                        guest ok                no                                        path                无默认                                        printable                no                                        public                guest ok = no                                        read only                yes                                        writable                no                                        write list                无默认                                        valid users                无默认                            </li></ul>配置片段这里是几个例子。<ul> <li>[public]共享</li></ul><p>不一定要与所有人共享目录。</p>[public]<br>comment = Public Stuff<br>path = /home/samba<br>public = yes<br>writeable = yes<br>printalbe = no<br>write list = @staff<ul> <li>另一个[public]共享</li></ul><p>下列的目录使所有用户可以读取和写入该目录下的所有文件。only guest = yes命令使任何连接这个目录的用户只有guest用户的权限。</p>[public]<br>path = /usr/somewhere/else/public<br>public = yes<br>only guest = yes<br>writeable = yes<br>printable = no<ul> <li>两人共享</li></ul><p>仅有两人共享，只有两个人可以访问此共享目录。</p>[myshare]<br>comment =Mary’s and Fred’s stuff<br>path = /usr/somewhere/shared<br>valid users = mary fred<br>public = no<br>writable = yes<br>printable = no<br>create mask = 0765服务器中包含 /usr/somewhere/shared目录和用户mary与fred。<ul> <li>专有目录</li></ul><p>专有目录只有特定的人可以访问。</p>[fredsdir]<br>comment = Fred’s Service <br>path = /usr/somewhere/private<br>valid users = fred<br>public = no<br>write able = yes<br>printable = no<ul> <li>计算机的共享目录</li></ul><p>配置特定计算机的共享目录。</p>[pchome]<br>comment = PC Directories<br>path = /usr/local/pc/%m<br>public = no<br>write able = yes<p>%m表示计算机名。</p>排除错误基本网络是否正常广播地址应该与Samba服务器同学的所有客户端的广播地址相同。 使用下面的命令查看广播地址：# ifconfig -aSamba 服务是否运行在Linux系统上用smbclient命令检查Samba所需的进程是否在运行并且像预期的那样进行共享。<p>使用下面的命令：</p># smbclient -L localhost<br>Password: <strong>**</strong>如果显示出工作组中的所有机器，则说明Samba服务器在本地计算机上运行。如果服务器没有运行，将看到&quot;Connection refused&quot;的提示信息。此时需要重启Samba服务。防火墙是否打开如果Samba已经在本地计算机上运行，但是无法从局域网中的Windows或Linux客户端访问，有可能是Linux Samba服务器上的防火墙禁止对NetBIOS服务的访问。 在安全的局域网中，使用下列命令清除防火墙的规则：# iptables -F如果不是防火墙的问题，用下面的命令重新启动防火墙。# service iptables restart用户口令是否使用作为特定用户尝试访问Samba共享目录。使用如下的命令:# smbclient //localhost/tmp -U chris如果没有问题将看到Samba提示符，一个类似于DOS的提示符。 <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/11/24/samba-config2/" class="archive-article-date">
  	<time datetime="2006-11-23T16:11:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-11-24</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-samba-configure" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/11/23/samba-configure/">samba configure</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> [global]<br>&nbsp;&nbsp;&nbsp;  ; General server settings<br>&nbsp;&nbsp;&nbsp;  netbios name = ubuntu<br>&nbsp;&nbsp;&nbsp;  server string =<br>&nbsp;&nbsp;&nbsp;  workgroup = JFO_GROUP<br>&nbsp;&nbsp;&nbsp;  announce version = 5.0<br>&nbsp;&nbsp;&nbsp;  socket options = TCP_NODELAY IPTOS_LOWDELAY SO_KEEPALIVE SO_RCVBUF=8192 SO_SNDBUF=8192<br><br>&nbsp;&nbsp;&nbsp;  passdb backend = tdbsam<br>&nbsp;&nbsp;&nbsp;  security = user<br>&nbsp;&nbsp;&nbsp;  null passwords = true<br>&nbsp;&nbsp;&nbsp;  username map = /etc/samba/smbusers<br>&nbsp;&nbsp;&nbsp;  name resolve order = hosts wins bcast<br><br>&nbsp;&nbsp;&nbsp;  wins support = yes<br><br>&nbsp;&nbsp;&nbsp;  printing = CUPS<br>&nbsp;&nbsp;&nbsp;  printcap name = CUPS<br><br>&nbsp;&nbsp;&nbsp;  syslog = 1<br>&nbsp;&nbsp;&nbsp;  syslog only = yes<br><br>; NOTE: If you need access to the user home directories uncomment the<br>; lines below and adjust the settings to your hearts content.<br>;[homes]<br>&nbsp;&nbsp;&nbsp;  ;valid users = %S<br>&nbsp;&nbsp;&nbsp;  ;create mode = 0600<br>&nbsp;&nbsp;&nbsp;  ;directory mode = 0755<br>&nbsp;&nbsp;&nbsp;  ;browseable = no<br>&nbsp;&nbsp;&nbsp;  ;read only = no<br>&nbsp;&nbsp;&nbsp;  ;veto files = /<em>.{</em>}/.*/mail/bin/<br><br>; NOTE: Only needed if you run samba as a primary domain controller.<br>; Not needed as this config doesn’t cover that matter.<br>;[netlogon]<br>&nbsp;&nbsp;&nbsp;  ;path = /var/lib/samba/netlogon<br>&nbsp;&nbsp;&nbsp;  ;admin users = Administrator<br>&nbsp;&nbsp;&nbsp;  ;valid users = %U<br>&nbsp;&nbsp;&nbsp;  ;read only = no<br><br>; NOTE: Again - only needed if you’re running a primary domain controller.<br>;[Profiles]<br>&nbsp;&nbsp;&nbsp;  ;path = /var/lib/samba/profiles<br>&nbsp;&nbsp;&nbsp;  ;valid users = %U<br>&nbsp;&nbsp;&nbsp;  ;create mode = 0600<br>&nbsp;&nbsp;&nbsp;  ;directory mode = 0700<br>&nbsp;&nbsp;&nbsp;  ;writeable = yes<br>&nbsp;&nbsp;&nbsp;  ;browseable = no<br><br>; NOTE: Inside this place you may build a printer driver repository for<br>; Windows - I’ll cover this topic in another HOWTO.<br>[print$]<br>&nbsp;&nbsp;&nbsp;  path = /var/lib/samba/printers<br>&nbsp;&nbsp;&nbsp;  browseable = yes<br>&nbsp;&nbsp;&nbsp;  guest ok = yes<br>&nbsp;&nbsp;&nbsp;  read only = yes<br>&nbsp;&nbsp;&nbsp;  write list = root<br>&nbsp;&nbsp;&nbsp;  create mask = 0664<br>&nbsp;&nbsp;&nbsp;  directory mask = 0775<br><br>[printers]<br>&nbsp;&nbsp;&nbsp;  path = /tmp<br>&nbsp;&nbsp;&nbsp;  printable = yes<br>&nbsp;&nbsp;&nbsp;  guest ok = yes<br>&nbsp;&nbsp;&nbsp;  browseable = no<br><br>; Uncomment if you need to share your CD-/DVD-ROM Drive<br>;[DVD-ROM Drive]<br>&nbsp;&nbsp;&nbsp;  ;path = /media/cdrom<br>&nbsp;&nbsp;&nbsp;  ;browseable = yes<br>&nbsp;&nbsp;&nbsp;  ;read only = yes<br>&nbsp;&nbsp;&nbsp;  ;guest ok = yes<br><br>[MyFiles]<br>&nbsp;&nbsp;&nbsp;  path = /home/jfo<br>&nbsp;&nbsp;&nbsp;  browseable = yes<br>&nbsp;&nbsp;&nbsp;  read only = no<br>&nbsp;&nbsp;&nbsp;  guest ok = no<br>&nbsp;&nbsp;&nbsp;  create mask = 0644<br>&nbsp;&nbsp;&nbsp;  directory mask = 0755<br>&nbsp;&nbsp;&nbsp;  force user = jfo<br>&nbsp;&nbsp;&nbsp;  force group = jfo </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/11/23/samba-configure/" class="archive-article-date">
  	<time datetime="2006-11-23T14:23:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-11-23</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-在Visual-C-中检测和隔离内存泄漏" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/11/22/在Visual-C-中检测和隔离内存泄漏/">在Visual C++中检测和隔离内存泄漏</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <br> <strong>在Visual C++中检测和隔离内存泄漏                        </strong> <strong> 作者：佚名                  </strong><strong>来源：InterNet </strong><strong>加入时间：2005-1-28 </strong> <strong></strong><strong></strong><strong> </strong> <img width="1" height="1" src="http://img.pickbox.me/wp-content/uploads/pic/other_site/www_pcbookcn_ads_200.gif">               具有动态的分配和释放内存的能力是C/C++程序语言的重要特色之一。VisualC++ debugger和CRT库提供了一系列有效的检测和鉴定内存泄漏的工具。<br> <br> <strong>设置内存泄漏检测<br> <br>            检测内存泄漏的基本工具是调试器和CRT调试堆函数。为了使用调试堆函数，在你的程序中你必须含有下面的说明：<br> <br> </strong> <strong> </strong>                                                                        #define _CRTDBG_MAP_ALLOC<br>                        #include&lt;stdlib.h&gt;<br>                        #include&lt;crtdbg.h&gt;                                                            <strong> <br>            必须保证上面声明的顺序，如果改变了顺序，可能不能正常工作。&lt;crtdbg.h&gt;的_malloc_dbg和_free_dbg将取代标 准的malloc和free函数出现在DEBUG版中，它可以跟踪内存的分配和释放。但是这只会在DEBUG版本中发生(当#define _DEBUG的时候)，而Release版本仍使用标准的malloc和free功能。<br> <br>            #define _CRTDBG_MAP_ALLOC表示使用CRT堆函数的相应的DEBUG版本。这个定义不是必须的，但是没有它，内存泄漏报告含有的只是没有什么用处的信息。<br> <br>            一旦你已经添加了刚才的声明，你就能够通过在程序中加入下面的代码来报告内存泄漏信息：<br> <br> </strong>                                                                        _CrtDumpMemoryLeaks();                                                            <strong> <br>            当在DEBUG模式下运行程序时，在Output窗口的Debug标签处_CrtDumpMemoryLeaks会显示内存泄漏的信息，例如：<br> <br> </strong>                                                                        Detected memory leaks!<br>                        Dumping objects -&gt;<br>                        C:PROGRAM FILESVISUAL STUDIOMyProjectsleaktestleaktest.cpp(20) : {18} normal block at 0x00780E80, 64 bytes long.<br>                        Data:&lt; &gt; CD CD CD CD CD CD CD CD CD CD CD CD CD CD CD CD <br>                        Object dump complete.                                                            <strong> <br>            如果没有#define _CRTDBG_MAP_ALLOC，内存泄漏报告就会像下面这样：<br> <br> </strong>                                                                        Detected memory leaks!<br>                        Dumping objects -&gt;<br>                        {18} normal block at 0x00780E80, 64 bytes long.<br>                        Data: &lt; &gt; CD CD CD CD CD CD CD CD CD CD CD CD CD CD CD CD <br>                        Object dump complete.                                                            <strong> </strong> </p><p><strong><br>            由此可见，定义_CRTDBG_MAP_ALLOC时，_CrtDumpMemoryLeaks可以提供更多的有用信息。<br> <br>            如果没有定义_CRTDBG_MAP_ALLOC，那么内存泄漏报告如下显示：<br> <br>            内存分配数值（花括号内）<br>            模块的类型（normal、client或者CRT）<br>            以十六进制格式定位的内存<br>            以字节计模块的大小<br>            第一个十六字节的内容（也可以用十六进制）<br> <br>            如果定义了_CRTDBG_MAP_ALLOC，报告的内容还包括出现分配所泄漏内存的文件。在文件名之后括号内的数字是文件内的行数值。<br> <br>            此时双击包含行数值和文件名的输出行, 或者选择输出行并按F4：<br> <br>            C:PROGRAM FILESVISUAL STUDIOMyProjectsleaktestleaktest.cpp(20) : {18} normal block at 0x00780E80, 64 bytes long.<br> <br>            编辑窗口将会跳到文件中分配所泄漏内存的那一行代码，leaktest.cpp中的行号为20的那一行。<br> <br> </strong><strong>使用_CrtSetDbgFlag<br> <br>            如果你的程序只在一个地方退出，那么在选择调用_CrtDumpMemoryLeaks的位置是非常容易的。但是，如果你的程序可能会在程序多处位置退 出该怎么办？如果不希望在每一个可能的出口处调用_CrtDumpMemoryLeaks，那么你可以在你的程序开始处包含下面的调用：<br> <br>            _CrtSetDbgFlag( _CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF);<br> <br>            当程序退出时，将会自动地调用_CrtDumpMemoryLeaks(必须设置_CRTDBG_ALLOC_MEM_DF和 _CRTDBG_LEAK_CHECK_DF)。<br> <br> </strong><strong>翻译内存模块的类型<br> <br>            内存泄漏报告中把每一块泄漏的内存分为普通块、客户块和CRT块。事实上，你只需要留心普通块和客户块类型。<br> <br>            普通块(normal block)：是由你的程序分配的内存。<br> <br>            客户块(client block)：是一种特殊的内存块，它是由MFC使用的一个对象，程序退出时，该对象的析构函数没有被调用。MFC new操作符可以用来创建普通块和客户块。<br> <br>            CRT块(CRT block)：是由C RunTime Library供自己使用而分配的内存块。CRT库自己来管理这些内存的分配与释放，通常你不会在内存泄漏报告中发现有CRT内存泄漏，除非程序发生了严重的错误（例如CRT库崩溃）。<br> <br>            下面这两种类型的内存块不会出现在内存泄漏报告中：<br> <br>            空闲块(free block)：已经被释放(free)的内存块。<br> <br>            忽略块(Ignore block)：是程序员显式声明过不要在内存泄漏报告中出现的内存块。</strong></p> <strong></strong><strong></strong><strong> </strong> <p><strong></strong><strong></strong><strong> </strong><strong>设置CRT报告样式<br> <br>            通常 _CrtDumpMemoryLeaks()会dump内存泄漏的信息到output窗口的Debug栏位。你可以使用 _CrtSetReportMode()来重新设置输出到另一个位置。关于更详细的如何使用_CrtSetReportMode()说明，请查看 MSDN。<br> <br> </strong><strong>在内存分配数目处设置一个断点<br> <br>            在内存泄漏报告中的文件名和行号 可告诉分配泄漏的内存的代码位置，但是光是有这些信息对于完整了解泄漏原因，有时候还是不够的。因为一个程序在运行时，一段分配分配内存的代码将会被调用 很多次，但可能是某次调用后没有释放内存而导致了泄漏内存。为了确定是那些内存没有被释放，你必须不仅要知道泄漏的内存在那里被分配，还要知道泄漏产生的 条件。对你来说，有帮助的信息就是内存分配号&mdash;&mdash;在文件名和行号之后的花括号对中出现的数值。<br> <br>            例如，在下面的输出信息中，&quot;18&quot;是内存分配号，意思是泄漏的内存是你程序中分配的第十八个内存块：<br> <br> </strong> <strong></strong><strong> </strong>                                                                        Detected memory leaks!<br>                        Dumping objects -&gt;<br>                        C:PROGRAM FILESVISUAL STUDIOMyProjectsleaktestleaktest.cpp(20) : {18} normal block at <br>                        0x00780E80, 64 bytes long.<br>                        Data: &lt; &gt; CD CD CD CD CD CD CD CD CD CD CD CD CD CD CD CD <br>                        Object dump complete.                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            CRT库为在程序运行期间分配的所有内存模块计数，包括CRT自己分配的内存或者诸如MFC等分配的其它模块。因此带有分配号n的一个对象是在你的程序中分配的第n个对象，但不代表是由那段代码分配的第n个对象（在大部分情况下，它都不会是。）<br> <br>            这样的话，你可以利用分配号在内存分配的地方设置一个断点。为了设置这样一个端点，你可以在你的程序开始处，设置一个位置断点。当你的程序在那一点break时，你就能够从QuickWatch对话框或者Watch窗口设置这样一个位置断点。<br> <br>            例如，在Watch窗口中，在Name栏键入下面的表达式：<br> <br> </strong>                                                                        _crtBreakAlloc                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            如果你正在用CRT库dynamic-link library (DLL)的多线程版本，你必须含有上下文操作符，像这样： <br> <br> </strong>                                                                        {,,msvcrtd.dll}_crtBreakAlloc                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            现在按下RETURN键，调试器找到该值并把结果放置在value栏。如果你在内存分配过程中还没有设置任何内存分配断点，那么这个值是－1。用你想要去中断的内存分配的分配数值来，取代value表中的值&mdash;&mdash;例如，18。<br> <br>            当设置完内存分配断点之后，继续调试。这时，运行程序时一定要小心，要保证内存块分配的顺序不会改变。当你的程序在内存分配点中断的时候，你就能够查看 Call Stack窗口和其他的DEBUG信息来分析泄漏原因了。你仍然可以继续从那一点执行程序，以至于了解到底发生了什么，同时确定为什么内存没有被释放（设 置一个内存分配断点是很有帮助的）。<br> <br>            虽然在调试器中设置内存分配断点通常更容易，但是如果你喜欢的话，你也可以在你的代码中设置它们。为了在你的代码中设置一个内存分配断点，可以增加这样一行（对于第十八个内存分配）：<br> <br> </strong>                                                                        _crtBreakAlloc = 18;                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            你还有可以使用有相同效果的_CrtSetBreakAlloc函数：<br> <br> </strong>                                                                        _CrtSetBreakAlloc(18);                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong> <br> </strong><strong>比较内存状态<br> <br>            定位内存泄漏的另一个方法就是在关键点对应用程序的内存状态做快照。CRT库提供了一个结构类型_CrtMemState。你可以用它来存储内存状态的一个快照：<br> <br> </strong>                                                                        _CrtMemState s1, s2, s3;                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            为了在特定点对内存状态进行快照，可以传递一个_CrtMemState结构到he _CrtMemCheckpoint函数。此函数用当时内存状态的一个快照来填充此结构： <br> <br> </strong>                                                                        _CrtMemCheckpoint( &amp;s1 );                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            你可以通过传递此结构到_CrtMemDumpStatistics函数来dump _CrtMemState结构的任意点的内容： <br> <br> </strong>                                                                        _CrtMemDumpStatistics( &amp;s1 );                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            此函数打印出类似于下面这样的一堆内存分配信息：<br> <br> </strong>                                                                        0 bytes in 0 Free Blocks.<br>                        0 bytes in 0 Normal Blocks.<br>                        3071 bytes in 16 CRT Blocks.<br>                        0 bytes in 0 Ignore Blocks.<br>                        0 bytes in 0 Client Blocks.<br>                        Largest number used: 3071 bytes.<br>                        Total allocations: 3764 bytes.                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            为了确定一个内存泄漏是否在一节代码中出现，你可以在此节前和此节后对内存状态作快照，然后用_CrtMemDifference比较两种状态： <br> <br> </strong>                                                                        _CrtMemCheckpoint( &amp;s1 );<br> <br>                        // memory allocations take place here<br>                        ……<br> <br>                        _CrtMemCheckpoint( &amp;s2 );<br> <br>                        if ( _CrtMemDifference( &amp;s3, &amp;s1, &amp;s2) ) <br>                        _CrtMemDumpStatistics( &amp;s3 );                                                            <strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong> <br>            从名字上可以知道，_CrtMemDifference用来比较两个内存状态（最后面的那两个参数），并返回状态差异的结果（第一个参数）。在你的函数 开始和结尾处的_CrtMemCheckpoint调用和使有_CrtMemDifference来比较结果为检测内存泄漏提供了另一种方法。如果检测到 一个泄漏，那么可以使用_CrtMemCheckpoint调用来分割你的程序，并使用binary search technique来定位泄漏。<br> </strong></p> <strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong> <img width="1" height="1" src="http://www.pcbookcn.com/down_info.asp?id=2327"></strong> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/11/22/在Visual-C-中检测和隔离内存泄漏/" class="archive-article-date">
  	<time datetime="2006-11-22T13:10:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-11-22</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Windows/">Windows</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Fvwm-reference" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/09/24/Fvwm-reference/">Fvwm reference</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> Fvwm是一款优秀的、轻便的窗口管理系统，有很多的users &amp; fans。 <br>但是同KDE和Gnome这种综合的WM相比,新手上手的时候相对困难，而且使用的时候也会碰到较多比较复杂的问题。 <br>有鉴于此，现在本人提议在本版中设立一簇Fvwm相关的置顶精华贴。 <br>主要目的是引导新手入门FAQ(重点安装和配置中的问题)，使用中各种问题的讨论，以及高级应用方面的内容。 <br>希望大家能够踊跃跟贴，提供一些建版的意见和建议。 <br><br>现搜集一些链接(更新中…)： <br>－－－－－－－－－－【官方】－－－－－－－－－－ <br><a href="http://www.fvwm.org/" target="_blank">Fvwm主页(Home page)</a> <br><a href="http://fvwm-themes.sourceforge.net/" target="_blank">Fvwm themes 主页</a> <br><a href="http://people.freebsdchina.org/million/fvwm/fvwm.html" target="_blank">Fvwm i18n中文化主页</a> <br>－－－－－－－－－－【下载】－－－－－－－－－－－－ <br>FVWM的最新版本: <a href="http://www.fvwm.org/download" target="_blank">2.5.12</a> ，最新的稳定版本：<a href="http://www.fvwm.org/download" target="_blank">2.4.19</a> <br>－－－－－－－－－－【中文FAQ】－－－－－－－－－－－ <br>第l六、七完成翻译，特别感谢Hydra、Sixroom的工作。 <br>我正在翻译官方的FVWM FAQ,现在Hydra、Sixroom和我一同进行文档的翻译工作,看这里: <br><a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=67623" target="_blank">《中文FVWM FAQ》</a> <br>希望大家支持！(注：ManPage好像有人在翻译了！) <br>－－－－－－－－－【安装与使用】－－－－－－－－－－ <br>编译的时候需要&quot;libstroke&quot;，请先到<a href="http://www.etla.net/libstroke/" target="_blank">这里下载</a>。安装了libstoke以后还是提示找不到的话，原因请看<a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;p=4036470#4036470" target="_blank">这里</a>(包括解决方法)。 <br>☆zls☆的 :<a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=57369" target="_blank">《鸟写的，请别笑话–fvwm的安装》</a>一文！ <br>清华大学王垠博士的<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/fvwm_frame.html" target="_blank">《FVWM使用指南》</a>(强烈推荐recommended) <br>asvaboy的个人主页：<a href="http://sunwm2.cosoft.org.cn/" target="_blank">http://sunwm2.cosoft.org.cn</a> <br>－－－－－－－－－－【版内文章&amp;技巧搜集】－－－－－－－－－－－－－ <br>原子核武器: <a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=67258&amp;highlight=fvwm" target="_blank">《关于如何把fvwm加入到登陆sessions的选项中》</a>的文章。 <br>redflowflag, <a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=61750&amp;highlight=fvwm" target="_blank">《 在fvwm下实现一键控制播放背景音乐》</a>一文 <br>一篇七嘴八舌的文章，<a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=15184&amp;highlight=fvwm" target="_blank">《FVWM一出，谁与争锋(不酷不看)》</a>，值得一看！ <br>jashy,<a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=33511&amp;highlight=fvwm" target="_blank">《 紫光在debian, fvwm下安装(或者使用)的问题》</a>一文。 <br>learnman166, <a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=75154" target="_blank">《在FVWM下一键关机的方法，就算是给FVWM填砖加瓦，别笑话》</a>一文的技巧。 <br>mantas,<a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=100221" target="_blank"> 《FVWM 汉字 启动 输入法》</a> <br><strong><strong><strong><strong>_</strong></strong></strong></strong><br><a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=66079" target="_blank">Fvwm的专题置顶贴</a> <br><a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=67623" target="_blank">FVWM FAQ中文版</a>,第6，7部分完成。 <br><a href="http://www.linuxfans.org/nuke/modules.php?name=Forums&amp;file=viewtopic&amp;t=8304" target="_blank">介绍GUI、window manager,desktop..</a> <br>我的Blog:<a href="http://uugblog.blogchina.com/" target="_blank">http://uugblog.blogchina.com</a> <br>个人很喜欢王垠的网页：(现在又可以上了)<a href="http://learn.tsinghua.edu.cn/homepage/2001315450/" target="_blank">http://learn.tsinghua.edu.cn/homepage/2001315450/</a> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/09/24/Fvwm-reference/" class="archive-article-date">
  	<time datetime="2006-09-24T10:46:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-09-24</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-ubuntu6-06安装配置的个人总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/09/24/ubuntu6-06安装配置的个人总结/">ubuntu6.06安装配置的个人总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> ubuntu6.06安装配置的个人总结<br>我用的是6.06的desktop版，从光盘启动后，默认分辨率为1280<em>1024，所以先调为1024</em>768（系统－首选项－屏幕分辨率），然后点击桌面上的install安装（这个时候不要先上网，虽然安装的时候会提示无法更新，但是可以装完以后再更新，我两次上了网后再install都死机了，不知道是不是上网的缘故，但是不上网就不会死机。。。）。然后是6步安装设置，其中主要是第5步的硬盘分区吧，我是原来在windows下用partition magic分好了的，分了一个根分区／（ext3格式）和一个交换区swap就ok了。设置完成后就是等待安装的过程了，大概用了20分钟左右吧，这个还算挺快的。然后重启。<br>然后就是更新升级了，基本是按着《快速设置指南》来进行的。<br>在终端执行以下命令（第一条是备份现有服务器列表，第二条是使用Gedit编辑，您也可以使用自己喜爱的编辑器编辑。）<br>sudo cp /etc/apt/sources.list /etc/apt/sources.list_backup<br>sudo gedit /etc/apt/sources.list<br>然后把文件内容替换为下面的源（这个是杭州电信的服务器）：<br>deb <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper main restricted universe multiverse<br>deb <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper-security main restricted universe multiverse<br>deb <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper-updates main restricted universe multiverse<br>deb <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper-backports main restricted universe multiverse<br>deb <a href="http://mirror.lupaworld.com/ubuntu/ubuntu-cn" target="_blank" rel="external">http://mirror.lupaworld.com/ubuntu/ubuntu-cn</a> ;dapper main restricted universe multiverse<br>deb <a href="http://security.ubuntu.com/ubuntu" target="_blank" rel="external">http://security.ubuntu.com/ubuntu</a> ;dapper-security main restricted universe multiverse<br>deb-src <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper main restricted universe multiverse<br>deb-src <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper-security main restricted universe multiverse<br>deb-src <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper-updates main restricted universe multiverse<br>deb-src <a href="http://cn.archive.ubuntu.com/ubuntu" target="_blank" rel="external">http://cn.archive.ubuntu.com/ubuntu</a> ;dapper-backports main restricted universe multiverse<br>deb-src <a href="http://security.ubuntu.com/ubuntu" target="_blank" rel="external">http://security.ubuntu.com/ubuntu</a> ;dapper-security main restricted universe multiverse<br>保存编辑好的文件。<br>然后是下载更新了，由于学校里在linux下只能上校网而不能上外网，所以在下载更新前要先设置外网代理：<br>在终端执行：<br>export http_proxy=<a href="http://user:passward@*.*.*.*:port" target="_blank" rel="external">http://user:passward@*.*.*.*:port</a><br>要取消代理，执行：<br>unset http_proxy<br>然后执行以下命令更新。<br>sudo apt-get update<br>这个命令之后会有一堆下载更新，之后执行：<br>sudo apt-get dist-upgrade<br>这个要下载好多东东，然后再安装配置，下载的平均速度大概在100K左右，居然花了有一个小时多的时间，等得我好苦！在这一步还出现了一个让我郁闷之极 的事，就是在第一次安装到这里的时候，在过程中我出去了一下，回来的时候看到屏幕已经是屏保了，却一动不动，原来死机了。。。也不知道是怎么死的，重启后在输入用户名密码后就停留在那个红色的界面不动了，也不知道哪里不对劲了，试了两次都不行，只好再从头来一次～～～<br>这个之后系统的安装基本上算是完成了，然后就是配置了。<br>虽然这时候系统对中文的支持已经很好了，但是还不完全，中文输入法也还用不了，所以就先安装中文支持环境，执行：<br>sudo apt-get install language-support-zh<br>快速设置指南里说如果默认是中文环境不需要再安装输入法了，但是我的还是不能输入中文，只好装一下了，执行：<br>sudo apt-get install im-switch libapt-pkg-perl<br>sudo im-switch -s scim-pinyin -z default<br>设置完毕，注销一下电脑。登录后就可以使用输入法了。<br><br>然后进行的是一通的安装，如果出现需要输入[Y/n] 或 [y/N] 一律输入 y 并 回车<br><br>安装最新的文泉驿字体：<br>1. 打开终端，执行以下命令，或使用《新立得软件管理器》，在其中搜索&ldquo;xfonts-wqy&ldquo;并标记安装。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  sudo apt-get install xfonts-wqy<br>2.  让系统支持点阵字体执行以下命令。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  sudo gedit /etc/fonts/conf.d/50-xfonts-wqy.conf<br>在文件中加入如下配置后，保存退出。（你也可以使用其他你喜爱的编辑器进行编辑。） <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;selectfont&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;acceptfont&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;pattern&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;patelt name=&quot;family&quot;&gt;&lt;string&gt;WenQuanYi Bitmap Song&lt;/string&gt;&lt;/patelt&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/pattern&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/acceptfont&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/selectfont&gt;<br><br>安装JAVA环境<br>打开终端，执行以下命令，或使用《新立得软件管理器》，在其中分别搜索&ldquo;sun-java5-jre&ldquo;和&ldquo;sun-java5-jdk&rdquo;并标记安装。<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  sudo apt-get install sun-java5-jre<br>按设置指南的建议安装了JDK<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  sudo apt-get install sun-java5-jdk<br>设置当前默认的java解释器<br>sudo update-alternatives –config java<br>执行后会出现类似如下的画面:<br><br>There are 4 alternatives which provide `java’.<br><br>  Selection&nbsp;&nbsp;&nbsp;  Alternative<br>———————————————–<br><em>+&nbsp;&nbsp;&nbsp;  1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /usr/lib/jvm/java-gcj/jre/bin/java<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /usr/bin/gij-wrapper-4.1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /usr/bin/gij-wrapper-4.0<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  /usr/lib/jvm/java-1.5.0-sun/jre/bin/java<br><br>Press enter to keep the default[</em>], or type selection number:<br>输入 有包含 &quot;sun&quot; 的行的前面的数字。如上面显示，则输入 4，然后回车确定。我装的时候只有三个选项，然后选第三个就行了。<br><br>设置SUN JAVA5 中文字体(可选)<br>执行：sudo gedit /etc/java-1.5.0-sun/fontconfig.properties<br>复制 <a href="http://paste.ubuntu.org.cn/323" target="_blank" rel="external">http://paste.ubuntu.org.cn/323</a> ;的内容替换之，然后保存、退出。<br><br>安装浏览器的JAVA Plugin(可选)<br>sudo apt-get install sun-java5-plugin<br><br>注意确保debian alternatives指向正确的链接(第一次安装不需要考虑吧？)<br>使用如下命令(或图形化的galternatives工具)来配置<br> sudo update-alternatives –config mozilla-javaplugin.so<br>这个不知道在说什么。。。<br><br>安装上面的JAVA是因为装Luma QQ需要先安装JAVA环境<br><br>安装Luma QQ<br><br>1. 下载并安装，执行以下命令：<br><br>wget -c <a href="http://download.ubuntu.org.cn/software/lumaqq_2005-linux_gtk2_x86_no_jre.tar.gz" target="_blank" rel="external">http://download.ubuntu.org.cn/software/lumaqq_2005-linux_gtk2_x86_no_jre.tar.gz</a><br>sudo tar zxvf lumaqq_2005-linux_gtk2_x86_no_jre.tar.gz -C /opt/<br>wget -c <a href="http://download.ubuntu.org.cn/software/lumaqq_2005_patch_2006.02.02.15.00.zip" target="_blank" rel="external">http://download.ubuntu.org.cn/software/lumaqq_2005_patch_2006.02.02.15.00.zip</a><br>sudo unzip -o lumaqq_2005_patch_2006.02.02.15.00.zip -d /opt/LumaQQ/lib<br>sudo chown -R root:root /opt/LumaQQ/<br>sudo chmod -R 755 /opt/LumaQQ/<br>sudo gedit /usr/share/applications/LumaQQ.desktop<br><br>2. 在新增的文件内加入下面这几行<br><br>[Desktop Entry]<br>Name=LumaQQ<br>Comment=QQ Client<br>Exec=/opt/LumaQQ/lumaqq<br>Icon=/opt/LumaQQ/QQ.png<br>Terminal=false<br>Type=Application<br>Categories=Application;Network;<br><br>3. 保存编辑过的文件 安装完成后的快捷方式在(应用程序 -&gt; Internat -&gt; LumaQQ)。<br><br>安装多媒体播放驱动<br>sudo apt-get install beep-media-player totem-xine w32codecs libxine-extracodecs<br>安装完这个以后电脑上的视频已经基本上都可以播放了。<br><br>安装英汉辞典<br>sudo apt-get install stardict stardict-common stardict-cdict-gb stardict-cedict-gb stardict-hanzim stardict-langdao-ce-gb stardict-langdao-ec-gb stardict-oxford-gb stardict-xdict-ce-gb stardict-xdict-ec-gb<br>安装完成后的快捷方式在(应用程序 -&gt; 附件 -&gt; 星际译王)<br><br>安装浏览器的Flash支持<br>sudo apt-get install flashplugin-nonfree<br>重启FireFox就可以支持Flash了<br>解决播放时没有声音的方法：<br>sudo ln -s /usr/lib/libesd.so.0 /usr/lib/libesd.so.1<br><br>安装MPlayer<br>sudo apt-get install mplayer-386 <br>sudo apt-get install mplayer-fonts<br>sudo apt-get install mozilla-mplayer<br><br>安装Codecs<br>sudo apt-get install gstreamer0.8-plugins <br>sudo apt-get install gstreamer0.8-lame<br>sudo apt-get install gstreamer0.8-ffmpeg<br>sudo apt-get install w32codecs<br>sudo apt-get install libdivx4linux<br>sudo apt-get install lame<br>sudo apt-get install sox<br>sudo apt-get install ffmpeg<br>sudo apt-get install mjpegtools<br>sudo apt-get install vorbis-tools<br>gst-register-0.8<br><br>电影播放机totem总是提示没有安装插件无法播放<br>所以安装totem-xine<br>sudo apt-get install totem-xine<br>之后用totem也可以播放很多视频了。<br><br>安装DVDPlayback<br>sudo apt-get install libdvdcss2<br><br>安装XMMS<br>sudo apt-get install xmms<br>sudo apt-get install xmms-skins<br>wget -c <a href="http://easylinux.info/uploads/xmms-wma_1.0.4-2_i386.deb" target="_blank" rel="external">http://easylinux.info/uploads/xmms-wma_1.0.4-2_i386.deb</a><br>sudo dpkg -i xmms-wma_1.0.4-2_i386.deb<br>配置播放的文件格式<br>sudo cp /usr/share/applications/defaults.list /usr/share/applications/defaults.list_backup<br>sudo cp /usr/share/applications/defaults.list /tmp/defaults.list_tmp<br>sudo sed -e ‘s/audio/mpeg=.<em>/audio/mpeg=XMMS.desktop/g’ /tmp/defaults.list_tmp &gt; /tmp/defaults.mp3<br>sudo sed -e ‘s/audio/x-mpegurl=.</em>/audio/x-mpegurl=XMMS.desktop/g’ /tmp/defaults.mp3 &gt; /tmp/defaults.m3u<br>sudo sed -e ‘s/audio/x-wav=.<em>/audio/x-wav=XMMS.desktop/g’ /tmp/defaults.m3u &gt; /tmp/defaults.list<br>sudo mv /tmp/defaults.list /usr/share/applications/defaults.list<br>sudo rm -f /tmp/defaults.</em><br>由于XMMS是gtk1程序，界面和播放列表都是乱码，解决方法：<br>不管存在不存在 /etc/gtk/gtkrc.zh_CN 这个文件，都执行<br>sudo gedit /etc/gtk/gtkrc.zh_CN<br>将内容改为下面（如果原来存在这个文件，本来就是这个内容，如果原来不存在就是空白的）：<br># $(gtkconfigdir)/gtkrc.zh_CN<br>#<br># This file defines the fontsets for Chinese language (zh) using<br># the simplified chinese standard GuoBiao as in mainland China (CN)<br>#<br># 1999, Pablo Saratxaga &lt;pablo@mandrakesoft.com&gt;<br>#<br><br>style &quot;gtk-default-zh-cn&quot; {<br>fontset = &quot;-adobe-helvetica-medium-r-normal–12-<em>-</em>-<em>-</em>-<em>-iso8859-1,-</em>-<em>-medium-r-normal–16-</em>-<em>-</em>-<em>-</em>-gb2312.1980-0,<em>-r-</em>&quot;<br>-xtm-songti-medium-r-normal–<em>-</em>-<em>-</em>-c-<em>-gbk-0&quot;<br>}<br>class &quot;GtkWidget&quot; style &quot;gtk-default-zh-cn&quot;<br>再执行：sudo cp /etc/gtk/gtkrc.zh_CN /etc/gtk/gtkrc.zh_CN.utf-8<br>然后把xmms里的字体设为（设置位置：菜单，选倒数第四项（选项），在展开的菜单再选第一项（首选项），点倒数第三个选项夹（字体），在两个框里都填上）<br>-adobe-helvetica-medium-r-normal–12-</em>-<em>-</em>-<em>-</em>-iso8859-1,-<em>-</em>-medium-r-normal–16-<em>-</em>-<em>-</em>-<em>-gb2312.1980-0,</em>-r-<em><br>这样界面已经不是乱码了，但是我的播放列表还是乱码，只好继续寻找解决方法。<br>发现一篇文章说由于mp3文件自己的标签使用的字体编码不同，有一些不能正常显示，可以考虑安装有编码转换的插件，于是<br>安装 xmms-mpg123-ja(xmms-mpg123-ja比默认的mpg123多了编码转换)，执行：<br>sudo apt-get install xmms-mpg123-ja<br>然后进行设置：XMMS选项－首选项－音频输入输出插件，禁用libmpg123.so，启用libmpg123-ja.so并进行配置，点击 配置－》标题，选上输入转换，设置为GB18030 -》UTF-8，其他三项可以都不选上，如果选中覆盖通常标题后还可以自定义播放列表的显示方式，这样我的播放列表也正常了。<br> <br>XMMS的乱码解决有点麻烦，也可以选择用其他的播放器。<br>用Rhythmbox来播放mp3感觉也不错，不过需要装个gstreamer的mp3解码器<br>sudo apt-get install gstreamer0.10-fluendo-mp3<br><br>安装realplayer<br>sudo apt-get install realplayer<br>这样安装后会出现无法启动的问题，这是因为与SCIM冲突，可以安装SCIM-bridge替代SCIM解决问题<br><br>安装scim-bridge<br>sudo apt-get install scim-bridge<br>编辑im-switch生成的scim配置文件<br>sudo gedit /etc/X11/xinit/xinput.d/zh_CN<br>将默认的 GTK_IM_MODULE=scim 修改为 GTK_IM_MODULE=&quot;scim-bridge&quot;<br>将默认的 QT_IM_MODULE=scim 修改为 QT_IM_MODULE=&quot;xim&quot;<br><br>这样之后播放的时候没有声音，于是再找解决方法，看到说要装什么alsa驱动，执行：<br>sudo apt-get install alsa-oss<br>重启后就可以了。<br>标题还是乱码，暂时没找到解决方法。<br><br>安装视频编辑软件(Kino)<br>sudo apt-get install kino<br>sudo apt-get install kinoplus<br>sudo apt-get install kino-timfx<br>sudo apt-get install kino-dvtitler<br><br>安装刻录软件 (GnomeBaker)<br>sudo apt-get install gnomebaker<br><br>安装rar软件<br>sudo apt-get install rar<br>sudo ln -fs /usr/bin/rar /usr/bin/unrar<br><br>安装PDF Reader(Adobe Reader) with Plug-in for Mozilla Firefox<br>sudo apt-get install acroread mozilla-acroread acroread-plugins<br><br>安装xpdf，打开的速度比Adobe Reader快很多<br>sudo apt-get install xpdf <br><br>安装gFTP<br>sudo apt-get install gftp<br>这个有中文显示的问题～<br><br>安装BT下载软件Azureus<br>sudo apt-get install azureus<br><br>安装网页编辑软件bluefish<br>sudo apt-get install bluefish<br><br>安装IE＋flash9<br>需要先安装wine和cabextract<br>安装wine<br>首先，加源：sudo gedit /etc/apt/sources.list<br>把下面这个加到最后<br># Repository for wine<br>deb <a href="http://wine.budgetdedicated.com/apt" target="_blank" rel="external">http://wine.budgetdedicated.com/apt</a> ;dapper main<br>deb-src <a href="http://wine.budgetdedicated.com/apt" target="_blank" rel="external">http://wine.budgetdedicated.com/apt</a> ;dapper main<br>保存后执行：<br>sudo apt-get update<br>sudo apt-get install wine<br>安装cabextract<br>sudo apt-get instal cabextract<br><br>开始安装IE<br>在终端执行：<br>wget <a href="http://www.tatanka.com.br/ies4linux/downloads/ies4linux-2.0.tar.gz" target="_blank" rel="external">http://www.tatanka.com.br/ies4linux/downloads/ies4linux-2.0.tar.gz</a> ;-O - | tar xvzf -<br>然后再执行：<br>cd ies4linux-2.0<br>sh ies4linux<br>然后所有问题都输入y就好了。<br><br>安装qterm<br>sudo apt-get install qterm<br><br>设定/更改/启用 root的密码：<br>sudo passwd root<br>然后输入两次新密码<br>在终端中使用root帐号<br>sudo -s -H<br>这时候还不允许root从GDM登录，打开 系统－系统管理－登录窗口，在安全选项中勾中允许本地系统管理员登录即可。<br><br><br><br><br>下面就总结一下字体美化的事了<br>首先登录root帐户，然后在/usr/share/fonts下建立文件夹zh_CN<br>cd /usr/share/fonts<br>sudo mkdir zh_CN<br>然后从Windows中把字体文件(simsun.ttc tahoma.ttf verdana.ttf verdanab.ttf verdanaz.ttf tahomabd.ttf verdanai.ttf simhei.ttf sursong.ttf)复制到zh_CN目录下。<br>cd /usr/share/fonts/zh_CN<br>取得字体的权限<br>sudo chmod 644 </em><br>或者sudo chmod 755 * （我用的是644，但是有人只能用了755才行，不然在登录的时候显示方框）<br>再执行<br>sudo mkfontscale<br>sudo mkfontdir<br>更新linux字体列表<br>sudo fc-cache<br>修改language-selector.conf文件<br>sudo cp /etc/fonts/language-selector.conf /etc/fonts/language-selector.conf_backup<br>sudo gedit /etc/fonts/language-selector.conf<br><br>我修改后的文件内容为：<br><br>&lt;fontconfig&gt;<br><br> &lt;alias&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;serif&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;prefer&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Tahoma&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;SimSun&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Simsun&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Bitstream Vera Serif&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;DejaVu Serif&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;AR PL ZenKai Uni&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/prefer&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/alias&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;alias&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;sans-serif&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;prefer&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Tahoma&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;SimSun&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Simsun&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Bitstream Vera Sans&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;DejaVu Sans&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;AR PL ZenKai Uni&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/prefer&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/alias&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;alias&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;monospace&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;prefer&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Bitstream Vera Sans Mono&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;NSimSun&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;SimSun&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;Simsun&lt;/family&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;WenQuanYi Bitmap Song&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;DejaVu Sans Mono&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;AR PL ShanHeiSun Uni&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;family&gt;AR PL ZenKai Uni&lt;/family&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/prefer&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/alias&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;match target=&quot;font&quot; &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;test name=&quot;family&quot; compare=&quot;contains&quot; &gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;SimSun&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Song&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Sun&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Kai&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Ming&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/test&gt; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;test name=&quot;weight&quot; compare=&quot;less_eq&quot;&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;int&gt;100&lt;/int&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/test&gt; <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;test compare=&quot;more_eq&quot; target=&quot;pattern&quot; name=&quot;weight&quot; &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;int&gt;180&lt;/int&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/test&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit mode=&quot;assign&quot; name=&quot;embolden&quot; &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;bool&gt;true&lt;/bool&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br><br> &lt;/match&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;match target=&quot;font&quot; &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;test name=&quot;family&quot; compare=&quot;contains&quot; &gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Simsun&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;宋体&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;宋体-18030&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Song&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Sun&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Kai&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Ming&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;黑体&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;新宋体&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;仿宋_GB2312&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;隶体&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Simsun-18030&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;SimHei&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;NSimsun&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;NSimsun-18030&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;Fangsong_GB2312&lt;/string&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;string&gt;LiSu&lt;/string&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/test&gt; <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit name=&quot;globaladvance&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;bool&gt;false&lt;/bool&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit name=&quot;spacing&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;int&gt;0&lt;/int&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit name=&quot;hinting&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;bool&gt;true&lt;/bool&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit name=&quot;autohint&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;bool&gt;false&lt;/bool&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;bool&gt;true&lt;/bool&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;test name=&quot;pixelsize&quot; compare=&quot;more_eq&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;int&gt;12&lt;/int&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/test&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;test name=&quot;pixelsize&quot; compare=&quot;less_eq&quot;&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;int&gt;24&lt;/int&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/test&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;edit name=&quot;antialias&quot; mode=&quot;assign&quot; &gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;bool&gt;false&lt;/bool&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/edit&gt;<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &lt;/match&gt;<br><br>&lt;/fontconfig&gt;<br><br>更新了font.conf或者language-selector.conf后，最好在终端中执行<br>sudo fc-list<br>如果修改的内容不对，会有提示<br><br>这个基本上是完全按照别人的做法做下来的，但是我copy的字体和他们的并不完全一样，所以里面可能有的语句是没用的。<br>重启X-windows，然后进行设置：<br>系统字体设置，打开 系统&mdash;&gt;首选项&mdash;&gt;字体，上面三个都设为tahoma，窗口字体为tahoma bold，字号都为9号，等宽字体为simsun，字号为10号。终端下的字体就是这里等宽字体的设置，设为simsum比较好看。在细节的平滑中选无，不然英文字体会有点发虚。这里第一个程序字体必须设为tahoma，不然在firefox中的标签中的英文会很难看！<br>firefox字体设置，编辑&mdash;&gt;首选项&mdash;&gt;内容&mdash;&gt;高级，衬线和无衬线设为tahoma，等宽设为simsun，大小分别为14，12，12。这里衬线也可以设为serif，无衬线为sans serif，因为我们在字体的配置文件中就是把tahoma设为第一个的。<br>美化过程告一段落，再重启一下系统，效果已经很好了，但是还是有一些没有解决的问题，比如系统中出现斜体的时候都是原来的字体，变得很难看，有些网页中的英文粗体也很难看。这些问题只好等我摸索以后再解决吧。<br><br><br><br><br> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/09/24/ubuntu6-06安装配置的个人总结/" class="archive-article-date">
  	<time datetime="2006-09-24T05:50:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-09-24</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Xwindow" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/09/23/Xwindow/">Xwindow</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> Xwindow是工作站图形系统的工业标准，它有多种不同的实现，Ubuntu系统中使用的为Xorg。 <br><br>    （比较前卫的图形界面系统XGL，实际代替X服务器的作用，另外还有与之配套的窗口管理器） <br><br>历史 <br><br>    当然，Xwindow有悠久的历史和传统，不过那不在我们讨论的范围。您要注意的有两点： <br><br>        <em> Xwindow 和 Xbox 中的&ldquo;X&rdquo;本意是不同的， X 只是 W 后的一个字母，差不多应该这样理解，Xwindow 是 Window 的接班人 （注意，Window不是Windows） <br>        </em> 同样，也不要把 Xwindow 说成是 Xwindows，那是一种亵渎！一切伟大的创造，都应得到应有的理解和尊重。 <br><br>架构及原理 <br><br>    Xwindow使用服务器－客户端架构。无论本地图形界面，还是远程图形界面，都以同样的流程工作。这样便不需要分别进行设计和维护，极大的提高了网络透明性。 <br><br>        本地X客户端 ┐                        ┌ 键盘 <br>        远程X客户端 ┼ X协议 ─ X服务器 ─ 硬件规范 ┼ 鼠标 <br>        远程X客户端 ┘                        └ 显示器 <br><br>Xserver <br><br>    Xwindow系统服务器端，通过驱动程序（硬件规范）来管理硬件资源。 <br><br>    例如：当我们移动鼠标时，通过驱动程序 [5] ，向 Xserver 发送信息： <br><br>    &ldquo;向右移动200点，向上移动100点&rdquo;（向右上移动）；&ldquo;按下左键&rdquo;…… <br><br>    Xserver作出如下响应： <br>        1、上一次鼠标停止的坐标为600,500 <br>        2、向右200，向上100。现在鼠标位于坐标800,600 <br>        3、坐标800,600处，为窗口Firefox的&ldquo;关闭&rdquo;按钮 <br>        4、根据预设动作，将 &ldquo;点击Firefox窗口的关闭按钮&rdquo; 翻译为 &ldquo;关闭窗口Firefox&rdquo; <br>        5、向X客户端Firefox发送一个&ldquo;退出&rdquo;消息 <br>        6、Xserver通过显示子系统（显卡、显示器），全程显示鼠标的位置和移动 <br><br>        <em> 事实上，向程序发送&ldquo;退出&rdquo;信号，通常窗口管理器完成……为了描述方便，这里暂不区分。稍后，我们将向您介绍 窗口管理器 的其它一些细节。 <br><br>[5]   大多数的鼠标不需要专门的驱动程序，因为它们符合某一硬件规范，例如：有四个移动方向和三个键 <br>Xclient <br><br>    Xwindow系统客户端，通过X协议，实现与Xserver 的交互。 <br><br>    例如： <br>        1、Xclient （假设Firefox） 接收Xserver的消息： 输入焦点在地址栏的范围内，&ldquo;ubuntu.org.cn&rdquo;，回车 <br>        2、Firefox根据预设动作，将这些消息识别为 &ldquo;打开链接 ubuntu.org.cn&rdquo; <br>        3、Firefox向域名服务器请求 链接 &ldquo;ubuntu.org.cn&rdquo;。域名服务器将这个请求转换为 &ldquo;<a href="http://ubuntu.org.cn/&amp;rdquo" target="_blank" rel="external">http://ubuntu.org.cn/&amp;rdquo</a>; 和 IP地址211.148.131.7，发送回 Firefox <br>        4、Firefox将 &ldquo;<a href="http://ubuntu.org.cn/&rdquo;显示在地址栏（向Xserver发送请求，在地址栏位置显示这个地址）" target="_blank" rel="external">http://ubuntu.org.cn/&rdquo;显示在地址栏（向Xserver发送请求，在地址栏位置显示这个地址）</a> <br>        5、Firefox向地址 211.148.131.7 请示显示页面。 <br>        6、Firefox将服务器发送回的页面显示在主窗口中 <br><br>Xprotocol <br><br>    Xwindow系统协议，Xserver和Xclient之间进行通信的规则 <br><br>窗口管理器 <br><br>    Window Manager，一种特殊的Xclient。 <br><br>    使用窗口管理器时，Xserver并不直接与其它Xclient通信，而是通过WM中转，当一些消息被定义为WM指令时，它们会被拦截。例如Alt+F4关闭窗口、拖动标题栏…… <br><br>    消息&ldquo;打开链接 ubuntu.org.cn&rdquo;，具体内容如下： <br><br>    输入焦点在地址栏的范围内，&ldquo;ubuntu.org.cn&rdquo;，回车 <br><br>    Xserver并不能直接判断焦点，而是这样： <br>        1、Xserver向WM发送位置和点击的信息，WM根据当前的&ldquo;焦点策略&rdquo;确定激活（最上层）的窗口为Firefox <br>        2、Xserver将Firefox显示在最上层，高亮显示它的标题栏 <br>        3、在窗口Firefox内点击地址栏，或者 Ctrl+L，Xserver将位置信息发送给WM，WM再发送给Firefox <br>        4、Firefox判断当前焦点后，显示一个闪动的文字输入光标 <br>        5、Firefox将输入光标通过WM发送给Xserver，Xserver在屏幕相应位置进行显示 <br><br>    那么，&ldquo;窗口管理器&rdquo;到底能作些什么呢？其实它所作的一切都是管理窗口。例如： <br><br>       1. 最上层的窗口会把其它窗口挡住 <br><br>       2. 它通常是一个&ldquo;已激活窗口&rdquo;，根据不同的&ldquo;焦点策略&rdquo;，窗口管理器确定被激活的窗口。 <br>          激活窗口标题栏高亮显示，接收大部分的键盘消息和窗口内的鼠标点击消息。 <br><br>       3. 为了美观和容易分辨，大多数窗口都要有标题栏和边框。 <br>          为了方便，标题栏上还要有一些按钮，比如：最小化，最大化，关闭（这些按钮是窗口管理器请求的小窗口） <br><br>       4. 一个窗口可以在另一个窗口旁边显示，而不一定完全被遮挡。为了实现这一点，就要控制窗口显示的位置 <br><br>       5. 为了控制窗口的显示位置，需要将整个屏幕用座标描述，最好的办法是绘制一个填充整个屏幕的窗口，也就是根窗口。 <br><br>       6. 因为根窗口是最大的，所以它可以严严实实的遮挡任何窗口，为了避免这一点，根窗口永远在最底层。 <br>          这很形象的说明了为什么它叫作&ldquo;根窗口&rdquo; ……root <br><br>       7. 根窗口不一定只有一个，大多数的窗口管理器可以使用 &ldquo;工作区&rdquo; ，来切换显示多个根窗口 <br><br>       8. 根窗口固定位置上通常放置一些其它Xclient的窗口，例如底部面板，顶部面板，侧面板，程序启动图标 <br><br>       9. 面板上又可以放一些其它的Xclient窗口，如任务条，启动栏，菜单…… <br>          任务条可以以图标显示正在运行的任务，还可以作其它的杂活，像自动挂载USB设备…… <br><br>启动流程 <br><br>    我们知道 init 是linux的根进程，是所有进程的父进程。同样， xinit是所有Xwindow进程的根进程 <br><br>    Startx <br><br>        startx 命令可以在命令行下启动图形界面。执行startx 命令时，实际执行这一命令： <br><br>        xinit /etc/X11/xinit/xinitrc – /etc/X11/xinit/xserverrc <br><br>        根据脚本 /etc/X11/xinit/xserverrc 启动Xserver，同时根据脚本 /etc/X11/xinit/xinitrc 启动指定Xclient进程，例如窗口管理器 <br><br><br>        脚本 /etc/X11/xinit/xserverrc 以预设的参数运行程序 /usr/bin/X11/X <br><br>        /etc/X11/xinit/xinitrc 脚本则指向 /etc/X11/Xsession ，依次启动 /etc/X11/Xsession.d 目录中的脚本 <br><br>            </em> 您可以在用户配置文件 ~/.Xsession 中定义使用的WM，它的优先级高于全局配置文件 <br>            <em> startx启动时，并不会再进行身份认证。因为它启动的是 /etc/X11/Xsession.d/gnome-session ，而不是 GDM <br><br>    GDM会话 <br><br>        Ubuntu系统启动时自动进入图形界面，不需要运行 startx 命令 <br><br>        在某些启动级别中，包含了gdm的启动脚本，例如 ： /etc/rc2.d/S13gdm <br><br>               1. 指向 /etc/gdm/gdm-cdd.conf 文件，加载预设视觉主题，启动 /usr/lib/gdm/gdmgreeter（登录屏幕） <br>               2. 用户身份认证完成后，启动 /etc/X11/default-display-manager 这个文件中设定的默认窗口管理器 /usr/sbin/gdm <br><br>        gdm在启动时，会要求用户名和密码，也就是我们看到的登录屏幕（gdmgreeter） <br><br>            </em> /usr/share/xsessions 目录下为所有可用登录会话的脚本<br><br><br><br><br>Xwindow的主要配置文件 <br>＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝ <br><br>X服务器 <br>——————————— <br><br>X服务器的主要配置文件为 /etc/X11/xorg.conf <br><br> <strong>代码:</strong> <br>            Section &quot;ServerLayout&quot; <br>               Identifier     &quot;Default Layout&quot; <br>               Screen         &quot;Default Screen&quot; 0 0 <br>               InputDevice    &quot;Generic Keyboard&quot; <br>               InputDevice    &quot;Configured Mouse&quot; <br>            EndSection             <br>服务器布局：已激活输入、显示设备的名称 <br><br>Section &quot;Module&quot; <br>加载的模块 <br><br>Section &quot;Files&quot; <br>X核心字体路径 <br><br> <strong>代码:</strong> <br>            Section &quot;Screen&quot; <br>               Identifier &quot;Default Screen&quot; <br>               Device     &quot;ATI Technologies, Inc. RV370 5B62 [Radeon X600 (PCIE)]&quot; <br>               Monitor    &quot;DELL E176FP&quot; <br>               DefaultDepth     24 <br>               SubSection &quot;Display&quot; <br>              &nbsp;&nbsp;   Depth     1 <br>              &nbsp;&nbsp;   Modes    &quot;1280x1024&quot; &quot;1152x864&quot; &quot;1024x768&quot; &quot;800x600&quot; &quot;720x400&quot; &quot;640x480&quot; <br>               EndSubSection             <br>服务器布局中定义的显示设备。 包括 显卡、显示器、默认色深、可用分辨率 <br><br> <strong>代码:</strong> <br>            Section &quot;Device&quot; <br>               Identifier  &quot;ATI Technologies, Inc. RV370 5B62 [Radeon X600 (PCIE)]&quot; <br>               Driver      &quot;fglrx&quot; <br>               Option  &nbsp;&nbsp;    &quot;KernelModuleParm&quot; &quot;agplock=0&quot; <br>               VideoRam   131072 <br>            EndSection             <br>名为  &quot;ATI Technologies, Inc. RV370 5B62 [Radeon X600 (PCIE)]&quot; 的 &quot;Device&quot; <br>Driver 为驱动。如果不能正常启用图形界面，首先尝试 &ldquo;vesa&rdquo; <br><br>………… <br><br>整个配置文件的结构是这样的： <br> <strong>代码:</strong> <br>            ／ <br>            ├／Section &quot;ServerLayout&quot;                布局 <br>            │ ├Section &quot;InputDevice&quot; keyboard  键盘 <br>            │ ├Section &quot;InputDevice&quot; mouse      鼠标 <br>            │ │ <br>            │ └ ／Section &quot;Screen&quot;                      显示 <br>            │    ├Section &quot;Monitor&quot;                      显示器 <br>            │    ├Section &quot;Device&quot;  graphcard      显卡 <br>            │  <br>            │ <br>            ├Section &quot;Files&quot;                         字体 <br>            └Section &quot;Module&quot;                    模块             <br><br><br><br><br><br><br><br><br>X客户端 <br>——————————- <br><br>在/etc/X11/Xsession文件中可以发现下列内容 <br> <strong>代码:</strong> <br>               OPTIONFILE=/etc/X11/Xsession.options <br> <br>               SYSRESOURCES=/etc/X11/Xresources <br>               USRRESOURCES=$HOME/.Xresources <br> <br>               SYSSESSIONDIR=/etc/X11/Xsession.d <br>               USERXSESSION=$HOME/.xsession <br>               ALTUSERXSESSION=$HOME/.Xsession <br>               ERRFILE=$HOME/.xsession-errors             <br>OPTIONFILE=/etc/X11/Xsession.options 设定X进程的启动参数 例如允许用户进程allow-user-xsession <br>Xresources 为X资源文件。许多程序保留了X接口，允许X服务器管理一些视觉选项，例如窗口内的字体，配色等 <br>xsession为X进程，可以设置一些启动时自动运行的程序，也可以用来设定自己的窗口管理器（窗口管理器和桌面环境或者登录管理器是无关的）<br><br><br><br><br>字体 <br>==== <br><br>freetype渲染引擎 <br>————————– <br>作为Xorg服务器的一个模块，freetype的功能包括读取Truetype字体信息，如大小、分辨率、编码等，并以之为依据渲染字体 <br>freetype2.x相对于freetype1.x 增加了抗锯齿等功能 <br>(/etc/X11/xorg/conf 的 Module 字段中，可以选择使用的字体渲染模块，建议使用默认的freetype ) <br><br>freetype只负责渲染字体。而查找字体，则可以由X服务器、X客户端或者字体服务器来完成。 <br>找到字体后，使用freetype引擎就地渲染 <br><br><br>X服务器根据X客户端的请求（字符编码），查找字体并进行渲染，然后显示，我们称之为X核心字体 <br><br>X客户端自行查找字体并进行渲染，X服务器只负责显示，我们称之为Xft字体 <br>由于Xft字体的渲染在客户端完成，所以它可以动态的加载，而不需要随同X服务器一同启动 <br><br>另外还有一种字体服务器模式，例如Xfs字体：当客户端请求字体时，X服务器将请求转发到字体服务器，由字体服务器查找字体，并使用freetype引擎渲染，将结果传回X服务器，X服务器进行显示…… <br><br><br>X核心字体 <br>——————— <br>/etc/X11/xorg.conf 中可以配置X核心字体的搜索路径。 <br><br> <strong>代码:</strong> <br>            Section &quot;Files&quot;  <br>            FontPath &quot;/usr/X11R6/lib/X11/fonts/misc/&quot; <br>            FontPath &quot;/usr/X11R6/lib/X11/fonts/Type1/&quot; <br>            FontPath &quot;/usr/X11R6/lib/X11/fonts/Speedo/&quot; <br>            FontPath &quot;/usr/X11R6/lib/X11/fonts/100dpi/&quot; <br>            FontPath &quot;/usr/X11R6/lib/X11/fonts/75dpi/&quot;  <br>            EndSection             <br><br>当X客户端向X服务器请求显示文字的时候，X服务器会按上面列表的先后顺序查找字体 <br>例如：显示中文时，如果第一个路径中的字体不包含中文，则查找下面的路径，直到发现中文字体 <br>请把您偏好的字体放在最上的位置 <br><br>要使安装的字体能够作为X核心字体使用，将字体的安装路径添加到上面的列表中，使用 mkfontscale、mkfontdir扫瞄文件夹中的字体，并生成索引，就可以了（建议使用 ttmkfdir 生成fonts.scale ，将其复制为fonts.dir） <br><br>字体的选择及显示风格，可以修改GTK1的配置文件，或者在Xresources文件中对程序单独进行定义 <br><br>事实上，在我们的日常应用中，X核心字体环境并不常见，使用GTK1图形库的程序、某些类型的终端……Emacs也是这样一个老派的程序……不过Emacs23中刚刚加入了xft字体的支持<img src="http://img.pickbox.me/wp-content/uploads/pic/other_site/forum_ubuntu_icon_lol.gif" alt="Laughing"> <br><br><br><br><br><br><br>Xft字体 <br>————————– <br>Xft字体相关选项在 /etc/fonts/fonts.conf 文件中配置 <br><br>Xft字体可以使用命令 fc-cache 进行配置， 递归扫瞄以下目录中的字体（包括子文件夹中的字体），并建立字体缓存 <br><br>/usr/share/X11/fonts <br>/usr/share/fonts  <br>/usr/local/share/fonts <br>~/.fonts <br>(/etc/fonts/fonts.conf   &quot;&lt;dir&gt;&quot;字段） <br><br><br>多数支持GTK2或者Qt图形库的X客户端能够使用Xft字体渲染技术 （GTK2为Gnome使用的图形库，Qt为KDE使用的图形库。相对来说，GTK2图形库在程序的GUI设计中更加通用） <br><br>如果需要安装字体，只要把字体拷贝到以上任何一个目录， fc-cache -fv 刷新字体缓存即可 （参数 -f 为强制刷新，-v 显示过程） <br><br>fc-list 能够列出所有可用字体 <br><br>字体的选择及显示风格，可以修改GTK2或者Qt的配置文件，建议使用图形界面配置（通常桌面环境中附带了相关程序，例如gnome-font-properties） </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/09/23/Xwindow/" class="archive-article-date">
  	<time datetime="2006-09-23T12:12:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-09-23</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-安装wine出现的问题与解决" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/09/22/安装wine出现的问题与解决/">安装wine出现的问题与解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> Wine 安装使用问题集锦 ［2006-02-24］<br><br><strong>如果你是wine使用新手,请首先看这贴:</strong><strong><br><a href="http://www.easywine.org/bbs/viewthread.php?tid=709&amp;extra=page%3D1" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br><br>我怎么安装Wine?<br><a href="http://www.easywine.org/bbs/viewthread.php?tid=40&amp;extra=page%3D2" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D2</a><br><br><br></strong></p><p><strong></strong><strong>安装wine出现的问题与解决</strong></p><strong></strong><strong><br><br></strong><strong>1、安装wine出错了(缺少文件) <br>安装wine 的 RPM包时候出现如下错误。<br># rpm -ivh wine-xim-20030408-1.i386.rpm <br>error: Failed dependencies: <br>libsane.so.1 is needed by wine-xim-20030408-1 <br>libXv.so.1 is needed by wine-xim-20030408-1 <br>解决：上google搜索libsane.so.1和libXv.so.1,然后安装后再安装wine。<br><br></strong><strong>2、编译安装Wine的时候出现<br>checking build system type… i686-pc-linux-gnu<br>checking host system type… i686-pc-linux-gnu<br>checking whether make sets $(MAKE)… yes<br>checking for gcc… no<br>checking for cc… no<br>checking for cc… no<br>checking for cl… no<br>configure: error: no acceptable C compiler found in $PATH<br>See <code>config.log&#39; for more details.&lt;br /&gt;解决：请安装你的GCC编译器，安装你系统的开发包光盘就可以。&lt;br /&gt;&lt;br /&gt;&lt;/strong&gt;&lt;strong&gt;3、系统时间问题。&lt;br /&gt;./configure后 &lt;br /&gt;make depend 时出现问题 &lt;br /&gt;如下: &lt;br /&gt;[root@localhost wine-20030115]# make depend &lt;br /&gt;make: *** Warning: File</code>Makefile.in’ has modification time in the future (2003-01-05 09:05:12 &gt; 2002-03-22 10:49:55) <br>Makefile is older than Makefile.in configure, please rerun ./configure <br>make: <em>*</em> [Makefile] Error 1 <br>You have new mail in /var/spool/mail/root <br>解决：你的系统时间不对，检查一下！<br><br></strong><strong>4、用了root用户解压，wineinstall不能安装<br>./tools/wineinstall <br>出现 <br>WINE Installer v0.75 <br>~/download/wine-20050930 ~/download/wine-20050930/tools <br>The source directory is not writable. You probably extracted the sources as root. <br>You should remove the source tree and extract it again as a normal user. <br>解决：你可能是用root账户解压了。你应该删除它们，并用你现在的账户重新解压一遍。<br><br></strong><strong>5、编译的时候出现<br>/usr/local/lib doesn’t exist in your /etc/ld.so.conf, it will be added <br>when we perform the install… <br>解决:将usr/local/lib这行加到/etc/ld.so.conf文件，然后以root运行ldconfig .之后再进行安装。<br><br></strong><strong>6、编译Wine时出现&ldquo;X development files not found……&quot;<br>解决:—安装相关的devel支持，如用gnome桌面的，得安装上gnome-devel <br><br></strong><strong> </strong><p><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong>使用wine出现的问题与解决</strong></p><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong></strong><strong><br><br></strong><strong>1、用wine运行exe程序出现以下错误<br># wine XXX.exe<br>wine: error while loading shared libraries: libwine.so.1: cannot open shared object file: No such file or directory&rdquo;<br>解决：在&ldquo;/etc/ld.so.conf&rdquo;中加入&ldquo;/usr/local/lib&rdquo;并运行ldconfig使lib缓存到/etc/ld.so.cache中<br><br></strong><strong>2、关于Wine下面QQ乱码问题的说明<br>打字的时候出现&ldquo;？？？&rdquo;<br>解决：到QQ的安装目录下，将 Riched32.dll 改个名字，如 Riched32.dll.bak ，将 Riched20.dll 改个名字，如 Riched20.dll.bak 这样可以强行使用wine自带的 richedit 控件<br><br></strong><strong>3、我的wine运行软件速度，反应很慢<br>解决：尝试将你的locale转成非UTF8的代码。<br>或者参看这2编文章：<br><a href="http://www.easywine.org/bbs/viewthread.php?tid=337&amp;extra=page%3D1" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br><a href="http://www.easywine.org/bbs/viewthread.php?tid=563&amp;extra=page%3D1" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br><br></strong><strong>4、采用GB18030为默认汉字编码，第一次运行Wine会提示如下问题，如何解决？<br>[root@localhost wine-20040813]# ./wine<br>fixme:nls:get_env_lcid charset GB18030 was not recognized<br>/root/.wine updated successfully.<br>fixme:nls:get_env_lcid charset GB18030 was not recognized<br>Wine 0.9.3<br>Usage: wine PROGRAM [ARGUMENTS…] Run the specified program<br>wine –help Display this help and exit<br>wine –version Output version information and exit<br>解决方法：编辑.bashrc文件，在该文件尾部添加如下两行：<br>export LANG=zh_CN.gb2312<br>export LC_ALL=zh_CN.2312<br>重新运行bash后敲入locale命令，默认的编码就会显示GB2312了，再次运行Wine就不会有上述问题。<br><br></strong><strong>5、使用Wine运行程序后，无法看到和输入中文，如何解决？<br>解决方法：在GBK或 GB2312 编码状态下可以输入中文，但如果没有进行默认编码设置，就无法输入中文。<br>按照上面的方法设置locale。还有就是如果没有中文字体也无法显示中文，自然也就看不见汉字。<br><br></strong><strong>6、无法安装 Windows中由Installshield制作的安装程序，如何解决？<br>解决方法：要运行Installshield制作的安装程序需要安装支持文件DCOM98(DCOM95或其他支持文件)，所以为了在 Linux中安装使用 Installshield 做的安装程序，必须要装DCOM98，下载地址：<a href="http://www.microsoft.com/com/dcom/dcom98/download.asp" target="_top">http://www.microsoft.com/com/dcom/dcom98/download.asp</a>，然后再使用 wine dcom98.exe 命令来安装。<br><br></strong><strong>7、Wine对NTFS文件系统的支持如何？可以使用NTFS分区中的文件和程序吗？<br>解决方法：由于Linux内核默认不支持NTFS文件系统，即使重新编译内核支持 NTFS 也仅限于只读，如果要写的话，是十分危险的。所以最好不要在Linux中使用NTFS 分区上的程序和文件，建议使用 FAT32 文件系统分区或Linux分区。<br><br></strong><strong>8、配置Wine驱动器，需要将系统盘指向一个真实的Window系统分区吗？如果是这样又如何操作？<br>解决方法：不要将Wine配置文件中的[Driver X:] 指向一个存在的真实 Windows分区，只须使用Wine安装时创建 &ldquo;虚拟&rdquo;的Windows系统结构即可。<br>终端中键入winecfg 进入Drivers 选项卡就可以进行配置<br><br></strong><strong>9、如何知道哪些Windows程序可以在Wine中良好地运行？<br>解决方法：访问<a href="http://www.easywine.org/bbs/viewthread.php?tid=11&amp;extra=page%3D4" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D4</a> 这里有wine支持软件列表。当然没有列出的不一定不支持，可以到wine模拟任务区提出相关软件，让大家测试是否能模拟。<br><br></strong><strong>10、为什么我的wine某些按钮文字显示乱码？<br>解决方法：在编译之前得打上中文补丁。<br><a href="http://www.easywine.org/bbs/viewthread.php?tid=529&amp;extra=page%3D1" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br>patch -p1 &lt; wine_charset.patch<br><br></strong><strong>11、为什么我的wine默认字体变成楷体了？<br>我的wine默认字体变成楷体了，多数是因为装了office所带来的问题。<br>解决方法：<br><a href="http://www.easywine.org/bbs/viewthread.php?tid=651&amp;extra=page%3D1" target="_top">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a></strong> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/09/22/安装wine出现的问题与解决/" class="archive-article-date">
  	<time datetime="2006-09-22T12:28:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-09-22</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-FVWM安装资料技巧" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/09/22/FVWM安装资料技巧/">FVWM安装资料技巧</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <a href="http://fvwm-themes.sourceforge.net/deb/下载" target="_blank" rel="external">http://fvwm-themes.sourceforge.net/deb/下载</a><br>fvwm-themes_0.7.0-1_i386.deb<br>fvwm-themes-extra_0.7.0-1_i386.deb<br>假设下载存至download目录<br>#cd download<br>#dpkg -i <em>.deb安装下载的fvwm-themes包<br>在.xinitrc或者是.xsession文件中添加如下内容<br>exec fvwm-themes-start#请注释掉原先的windows manager<br>重新启动xwindow就可以看到fvwm-themes的模样了<br>点击左键在弹出菜单中选择themes manager然后挑选你喜欢的样式吧，成功了一大步<br>————————————————————————-<br>窗口标题栏乱码的解决<br>所选择的样式都在/usr/share/fvwm/themes存放以redmondxp为例<br>在redmondxp目录下有modules修改里面的<br>#cd /usr/share/fvwm/themes/redmondxp/modules<br>#grep -r Font </em> #注查找所有出现的Font的文件<br>将查找到文件中的Font中指定的字体全部以&ldquo;-<em>-simsun-medium-r-</em>-<em>-12-</em>-<em>-</em>-<em>-</em>-<em>-</em>&quot;替换这样就会显示出中文标题了，当然你也可以用自己喜欢的字体只要它能够显示中文<br>如果不用fvwm-themes而是直接用fvwm的话，那么就需要在.fvwm的.fvwm2rc中加入上—————————————————————————<br>研究redmond98的配置文件内容主要是modules/main文件和redmondxp下的同一个文件，试着将redmond98中的buttonbar弄到redmondxp样式下，欢迎喜欢fvwm-themes的大侠一起探讨<br>= = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =<br>相关网站:<br>1. <br>一个非常详细的FVWM配置网站,还有王垠写的 Fvwm简明使用手册<em>#日志日期：2005-3-11 星期五(Friday) 晴 </em><em> </em> <br> <em>最好是新建一个用户，然后把你原来的用户目录下的 .xsession文件考到新建用户目录下，把其中的 exec gnome-session 改为 exec fvwm<br>最好你到fvwm老巢去下点themes，装上之后 把上面的一句改为<br>fvwm-themes-start 再启动fvwm，里面的themes一大堆，自己看着办吧！ </em> <br> <em>一个很不错的FVWM专题网站<br><a href="http://learn.tsinghua.edu.cn/homepage/2003214890/publish/GNU/fvwm.html" target="_blank" rel="external">http://learn.tsinghua.edu.cn/homepage/2003214890/publish/GNU/fvwm.html</a> </em> <br> <em>怎么让让fvwm启动时启动gnome-setting-daemon<br><br>我是加在这里的。<br># 3.2 Commandes à l’initialisation<br>AddToFunc InitFunction &quot;I&quot; Module FvwmButtons<br>+ I Exec exec xscreensaver -no-splash<br>+ &quot;I&quot; Exec exec gnome-settings-daemon </em> <br> <em>1.apt-get install menu(菜单，需要) fvwm-icons fvwm2 libstroke0(手写功能)<br>xloadimage(背景图)<br><br>其它：apt-cache search fvwm<br>按需要安装，如 fvwm95 fvwm95-icons<br><br>2.建议用 startx 来启动 fvwm ,便于控制，修改下面文件：<br>(文件不存在，请自行建立)<br>vi ~/.xinitrc<br>LANGUAGE=zh_CN.GB2312<br>LANG=zh_CN.GB2312<br>LC_ALL=zh_CN.GB2312<br>KDE_LANG=zh_CN.GB2312<br>XMODIFIERS=@im=fcitx<br>export LANG LC_ALL KDE_LANG XMODIFIERS<br>fcitx &amp;<br>xloadimage ~/feige.jpg -onroot -fullscreen<br>exec fvwm2<br>killall fcitx<br>~<br>注：xloadimage ~/feige.jpg -onroot -fullscreen<br>导入背景图，背景图选自己喜欢的。<br><br>3. dpkg -L fvwm | grep fvwm2rc<br>找到 /etc/X11/fvwm/system.fvwm2rc<br>嘿嘿，系统默认的就是这个了，害的我找的好辛苦,拷贝到 ~/.fvwm<br>cd ~/.fvwm<br>cp /etc/X11/fvwm/system.fvwm2rc ./.fvwm2rc<br><br>4. startx 看看效果先。<br>光溜溜的，什么都没有，鼠标点击，跳出菜单，已经安装过的绝大部分软件都可以再这个菜单中找到。<br>记得以后每次安装新软件，用 update-menus 或 菜单restart fvwm 来更新菜单。<br><br>5.汉化。<br>可能你会发现标题栏处是乱码，不能正常显示汉字。<br>别着急，汉化很简单。<br>nano ~/.fvwm2rc<br>用 ctrl + w,找到<br>Style &quot;default-style&quot; Font -<em>-helvetica-bold-r-</em>-<em>-12-</em>-<em>-</em>-<em>-</em>-<em>-</em><br>改成你系统中的中文字体，例如：<br>Style &quot;default-style&quot; Font -sim-simsun-bold-r-<em>-</em>-12-<em>-</em>-<em>-</em>-<em>-</em>-<em><br><br>为了让图标上的中文正常，下面加一句：<br>Style &quot;default-style&quot; IconFont -sim-simsun-medium-r-</em>-<em>-12-</em>-<em>-</em>-<em>-</em>-<em>-</em><br>存盘退出，restart fvwm (注意不必退出 fvwm)<br>不出问题应该能看到效果了。<br><br>6.手写功能(libstroke0)，极酷！<br>这里推荐一篇文章：<br><a href="http://learn.tsinghua.edu.cn/homepage/015450/fvwm_frame.html" target="_blank" rel="external">http://learn.tsinghua.edu.cn/homepage/015450/fvwm_frame.html</a><br><br>我借用这位大侠的一个文件：<br><a href="http://learn.tsinghua.edu.cn/homepage/015450/src/fvwm.strokes" target="_blank" rel="external">http://learn.tsinghua.edu.cn/homepage/015450/src/fvwm.strokes</a><br>把它拷贝到 ~/.fvwm<br>cd ~/.fvwm<br>wget <a href="http://learn.tsinghua.edu.cn/homepage/015450/src/fvwm.strokes" target="_blank" rel="external">http://learn.tsinghua.edu.cn/homepage/015450/src/fvwm.strokes</a><br>大家可以自行修改，适合自己的习惯。<br><br>然后，vi ~/.fvwm2rc，在最后加入这样一句：<br>Read fvwm.strokes<br>存盘退出，restart fvwm.<br><br>激动人心的时刻到了，按住 ctrl， 用鼠标右键写个 &quot;M&quot; (参看小键盘，路线是 1478963)<br>稍等片刻，mozilla 就出来了。<br>怎么样，还等什么呢，赶快试试吧！ </em> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/09/22/FVWM安装资料技巧/" class="archive-article-date">
  	<time datetime="2006-09-22T07:44:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-09-22</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/58/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/57/">57</a><a class="page-number" href="/page/58/">58</a><span class="page-number current">59</span><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/60/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 jfo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">87</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino-OpenWrt/">Arduino/OpenWrt</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DefaultCategory/">DefaultCategory</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Computing/">Distributed Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Google/">Google</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-App/">Linux App</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Debug/">Linux Debug</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Virtualization/">Linux Virtualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OS-X/">Mac OS X</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Saying/">Saying</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebDev/">WebDev</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-algorithm/">c/c++/algorithm</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cocos2d-x-模拟器/">cocos2d-x/模拟器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/com组件/">com组件</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js-html-python/">js/html/python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/l4ka-pistachio-iguana/">l4ka::pistachio/iguana</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux-图形/">linux 图形</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/self-collect/">self_collect</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/教育/">教育</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学-物理/">数学/物理</a><span class="category-list-count">3</span></li></ul>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iguangba.pickbox.me/">爱逛吧</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.pickbox.me/">收藏夹</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://note.pickbox.me/">网络剪贴板</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">jfojfo#gmail.com</div>
  	  	
    	</section>
    
  </div>
  
</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>