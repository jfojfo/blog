<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>jfo planet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="jfo planet">
<meta property="og:url" content="http://blog.pickbox.me/page/50/index.html">
<meta property="og:site_name" content="jfo planet">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jfo planet">
  
    <link rel="alternative" href="/atom.xml" title="jfo planet" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">jfo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">分类</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">jfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">jfo</h1>
			</hgroup>
			
			<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-组件程序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/14/组件程序/">组件程序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> DictComp.cpp                                                                            //<br>// DictComp.cpp : Defines the entry point for the DLL application.<br>//<br><br>#include &quot;stdafx.h&quot;<br>#include &lt;comutil.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &quot;objbase.h&quot;<br>#include &quot;olectl.h&quot;<br><br>#include &quot;DictComp.h&quot;<br>#include &quot;factory.h&quot;<br>#include &quot;registry.h&quot;<br><br>ULONG    g_LockNumber = 0;<br>ULONG    g_DictionaryNumber = 0;<br>HANDLE  g_hModule;<br><br>// {54BF6567-1007-11D1-B0AA-444553540000}<br>extern &quot;C&quot; const GUID CLSID_Dictionary = <br>  { 0x54bf6567, 0x1007, 0x11d1,<br>  { 0xb0, 0xaa, 0x44, 0x45, 0x53, 0x54, 0x00, 0x00} } ;<br><br>extern &quot;C&quot; const GUID IID_Dictionary = <br>  { 0x54bf6568, 0x1007, 0x11d1,<br>  { 0xb0, 0xaa, 0x44, 0x45, 0x53, 0x54, 0x00, 0x00} } ;<br><br>extern &quot;C&quot; const GUID IID_SpellCheck = <br>  { 0x54bf6569, 0x1007, 0x11d1,<br>  { 0xb0, 0xaa, 0x44, 0x45, 0x53, 0x54, 0x00, 0x00} } ;<br><br><br><br>BOOL APIENTRY DllMain( HANDLE hModule, <br>                       DWORD  ul_reason_for_call, <br>                       LPVOID lpReserved<br>      )<br>{<br>    g_hModule = hModule;<br> return TRUE;<br>}<br><br><br>extern &quot;C&quot; HRESULT <strong>stdcall DllGetClassObject(const CLSID&amp; clsid, const IID&amp; iid, void <em>*ppv)<br>{<br> if (clsid == CLSID_Dictionary ) {<br> <br>  CDictionaryFactory </em>pFactory = new CDictionaryFactory;<br> <br>  if (pFactory == NULL) {<br>   return E_OUTOFMEMORY ;<br>  }<br> <br>  HRESULT result = pFactory-&gt;QueryInterface(iid, ppv);<br><br>  return result;<br> } else {<br>  return CLASS_E_CLASSNOTAVAILABLE;<br> }<br>}<br><br>extern &quot;C&quot; HRESULT </strong>stdcall DllCanUnloadNow(void)<br>{<br> if ((g_DictionaryNumber == 0) &amp;&amp; (g_LockNumber == 0))<br>  return S_OK;<br> else<br>  return S_FALSE;<br>}<br><br>//<br>// Server registration<br>//<br>extern &quot;C&quot; HRESULT <strong>stdcall DllRegisterServer()<br>{<br> char szModule[1024];<br> DWORD dwResult = ::GetModuleFileName((HMODULE)g_hModule, szModule, 1024);<br> if (dwResult == 0)<br>  return SELFREG_E_CLASS;<br> return RegisterServer(CLSID_Dictionary,<br>                       szModule, <br>        &quot;Dictionary.Object&quot;,<br>        &quot;Dictionary Component&quot;,<br>        NULL);<br>}<br><br><br>//<br>// Server unregistration<br>//<br>extern &quot;C&quot; HRESULT </strong>stdcall DllUnregisterServer()<br>{<br> return UnregisterServer(CLSID_Dictionary,<br>                         &quot;Dictionary.Object&quot;,NULL);<br>}<br><br>// class CDictionary implementation<br><br>CDictionary::CDictionary()<br>{<br> m_Ref = 0;<br> m_nWordNumber = 0;<br> m_nStructNumber = 0;<br> m_pData = NULL;<br> g_DictionaryNumber ++ ;<br>}<br><br>CDictionary::~CDictionary()<br>{<br> if (m_pData != NULL) <br> {<br>  delete [] m_pData;<br> }<br>}<br><br>HRESULT  CDictionary::QueryInterface(const IID&amp; iid, void <strong>ppv)<br>{<br> if ( iid == IID_IUnknown )<br> {<br>  <em>ppv = (IDictionary </em>) this ;<br>    ((IDictionary <em>)(</em>ppv))-&gt;AddRef() ;<br> } else if ( iid == IID_Dictionary ) <br> {<br>  <em>ppv = (IDictionary </em>) this ;<br>    ((IDictionary <em>)(</em>ppv))-&gt;AddRef() ;<br> } else if ( iid == IID_SpellCheck ) <br> {<br>  <em>ppv = (ISpellCheck </em>) this ;<br>    ((ISpellCheck <em>)(</em>ppv))-&gt;AddRef() ;<br> }<br> else<br> {<br>  <em>ppv = NULL;<br>  return E_NOINTERFACE ;<br> }<br> return S_OK;<br>}<br><br>ULONG   CDictionary::AddRef()<br>{<br> m_Ref ++;<br> return  (ULONG) m_Ref;<br>}<br><br>ULONG   CDictionary::Release()<br>{<br> m_Ref –;<br> if (m_Ref == 0 ) {<br>  g_DictionaryNumber – ;<br>  delete this;<br>  return 0;<br> }<br> return  (ULONG) m_Ref;<br>}<br><br>BOOL CDictionary::Initialize()<br>{<br> m_nWordNumber = 0;<br> m_nStructNumber = 0;<br> if (m_pData != NULL) <br> {<br>  delete [] m_pData;<br> }<br> m_pData = NULL;<br> return TRUE;<br>}<br><br>BOOL CDictionary::LoadLibrary(String filename)<br>{<br> char </em>pFileName = _com_util::ConvertBSTRToString(filename);<br> FILE <em>fp;<br> if( (fp = fopen( pFileName, &quot;rt&quot; )) == NULL ) {<br>  printf(&quot;Open dictionary file : %s failed.n&quot;, pFileName);<br>  delete pFileName;<br>  return FALSE;<br> }<br> char LineBuffer[128];<br> if (feof(fp)) {<br>  printf(&quot;It is a null file!n&quot;);<br>  fclose(fp);<br>  delete pFileName;<br>  return FALSE; <br> }<br> if (fgets(LineBuffer, 128, fp) == NULL) {<br>  printf(&quot;Read TotalNumber failed!n&quot;);<br>  fclose(fp);<br>  delete pFileName;<br>  return FALSE; <br> }<br> <br> int nTotalNumber = 0;<br> sscanf(LineBuffer, &quot;%d&quot;, &amp;nTotalNumber);<br> if ( (nTotalNumber &lt; 1) &amp;&amp; (nTotalNumber &gt; 5000) ) {<br>  printf(&quot;The Number of words is invalid!n&quot;);<br>  fclose(fp);<br>  delete pFileName;<br>  return FALSE; <br> }<br><br> Initialize();<br> m_nStructNumber = nTotalNumber+100;<br> m_pData = new DictWord[m_nStructNumber];<br> m_nWordNumber = 0;<br> <br> while(!feof(fp)) {<br>  if (fgets(LineBuffer, MaxWordLength, fp) == NULL) {<br>   printf(&quot;Read the first string failed!n&quot;);<br>   break;<br>  }<br>  sscanf(LineBuffer, &quot;%s&quot;, m_pData[m_nWordNumber].wordForLang1);<br>  if (fgets(LineBuffer, MaxWordLength, fp) == NULL) {<br>   printf(&quot;Read the second string failed!n&quot;);<br>   break;<br>  }<br>  sscanf(LineBuffer, &quot;%s&quot;, m_pData[m_nWordNumber].wordForLang2);<br>  m_nWordNumber ++;<br>  if (m_nWordNumber == nTotalNumber)<br>   break;<br>  if (m_nWordNumber &gt; m_nStructNumber)<br>   break;<br> } <br> <br> fclose(fp);<br> delete pFileName;<br> return TRUE;<br>}<br><br>BOOL CDictionary::InsertWord(String word1, String word2)<br>{<br> char </em>pWord1, <em>pWord2;<br> if (m_nWordNumber &lt; m_nStructNumber) {<br>  pWord1 = _com_util::ConvertBSTRToString(word1);<br>  pWord2 = _com_util::ConvertBSTRToString(word2);<br><br>  if (strlen(pWord1) &gt; MaxWordLength)<br>   </em>(pWord1+MaxWordLength-1) = ‘ ’;<br>  if (strlen(pWord2) &gt; MaxWordLength)<br>   <em>(pWord2+MaxWordLength-1) = ‘ ’;<br>  strcpy(m_pData[m_nWordNumber].wordForLang1, pWord1);<br>  strcpy(m_pData[m_nWordNumber].wordForLang2, pWord2);<br>  m_nWordNumber ++ ;<br>  delete pWord1;<br>  delete pWord2;<br>  return TRUE;<br> }<br> return FALSE;<br>}<br><br>void CDictionary::DeleteWord(String word)<br>{<br> char </em>pWord = _com_util::ConvertBSTRToString(word);<br> char <em>pUpperWord = strupr(pWord);<br> for (int i = 0; i &lt; m_nWordNumber; i++)<br> {<br>  char </em>tmpWord = strupr(m_pData[i].wordForLang1);<br>  if (strcmp(tmpWord, pWord) == 0) {<br>   for(int j = i + 1; j &lt; m_nWordNumber; j++) {<br>    strcpy( m_pData[j].wordForLang1, m_pData[j + 1].wordForLang1);<br>    strcpy( m_pData[j].wordForLang2, m_pData[j + 1].wordForLang2);<br>   }<br>   m_nWordNumber ++ ;<br>   break;<br>  }<br> }<br> delete pWord;<br>}<br><br>BOOL CDictionary::LookupWord(String word, String <em>resultWord)<br>{<br> char </em>pWord = _com_util::ConvertBSTRToString(word);<br> char <em>pUpperWord = strupr(pWord);<br> for (int i = 0; i &lt; m_nWordNumber; i++)<br> {<br>  char </em>tmpWord = strupr(m_pData[i].wordForLang1);<br>  if (strcmp(tmpWord, pWord) == 0) {<br>   <em>resultWord = _com_util::ConvertStringToBSTR(m_pData[i].wordForLang2);<br>   delete pWord;<br>   return TRUE;<br>  }<br> }<br> </em>resultWord = NULL;<br> delete pWord;<br> return FALSE;<br>}<br><br>BOOL CDictionary::RestoreLibrary(String filename)<br>{<br> char <em>pFileName = _com_util::ConvertBSTRToString(filename);<br> FILE </em>fp;<br> if( (fp = fopen( pFileName, &quot;wt&quot; )) == NULL ) {<br>  printf(&quot;Open dictionary file : %s failed.n&quot;, pFileName);<br>  delete pFileName;<br>  return FALSE;<br> }<br> char LineBuffer[128];<br> sprintf(LineBuffer, &quot;%dn&quot;, m_nWordNumber);<br> if (fputs(LineBuffer, fp) == EOF) {<br>  printf(&quot;Write TotalNumber failed!n&quot;);<br>  fclose(fp);<br>  delete pFileName;<br>  return FALSE; <br> }<br> <br> for(int i = 0; i &lt; m_nWordNumber; i ++ ) {<br>  if (fputs(m_pData[i].wordForLang1, fp) == EOF) {<br>   printf(&quot;Write the first string failed!n&quot;);<br>   fclose(fp);<br>   delete pFileName;<br>   return FALSE; <br>  }<br>  fputs(&quot;n&quot;, fp);<br>  if (fputs(m_pData[i].wordForLang2, fp) == EOF) {<br>   printf(&quot;Write the first string failed!n&quot;);<br>   fclose(fp);<br>   delete pFileName;<br>   return FALSE; <br>  }<br>  fputs(&quot;n&quot;, fp);<br> }<br> <br> fclose(fp);<br> delete pFileName;<br> return TRUE;<br>}<br><br>void CDictionary::FreeLibrary()<br>{<br> Initialize();<br>}<br><br> <br>BOOL CDictionary::CheckWord (String word, String <em>resultWord)<br>{<br> char </em>pWord = _com_util::ConvertBSTRToString(word);<br> char <em>pUpperWord = strupr(pWord);<br> char </em>pMinMaxWord, <em>pMaxMinWord;<br> int  nMinIndex = -1, nMaxIndex = -1;<br> pMinMaxWord = pMaxMinWord = NULL;<br> for (int i = 0; i &lt; m_nWordNumber; i++)<br> {<br>  char </em>tmpWord = strupr(m_pData[i].wordForLang1);<br>  if (strcmp(tmpWord, pWord) == 0) {<br>   delete pWord;<br>   return TRUE;<br>  } else if (strcmp(tmpWord, pWord) &lt; 0) {<br>   if ((pMinMaxWord == NULL) || (strcmp(tmpWord, pMinMaxWord) &gt; 0)) <br>   {<br>    pMinMaxWord = tmpWord;<br>    nMinIndex = i;<br>   }<br>  } else {<br>   if ((pMaxMinWord == NULL) || (strcmp(tmpWord, pMaxMinWord) &lt; 0)) <br>   {<br>    pMaxMinWord = tmpWord;<br>    nMaxIndex = i;<br>   }<br>  }<br> }<br> <br> <em>resultWord = NULL;<br> if (nMinIndex != -1)<br>  </em>resultWord = _com_util::ConvertStringToBSTR(m_pData[nMinIndex].wordForLang1);<br> else if (nMaxIndex != -1)<br>  <em>resultWord = _com_util::ConvertStringToBSTR(m_pData[nMaxIndex].wordForLang1);<br> delete pWord;<br> return FALSE;<br>}<br> <br><br>组件程序自注册 Registry：<br>Registry.cpp<br>(regsvr32 DictComp.dll)<br>(regsvr32 /u DictComp.dll)                                                                           //<br>// Registry.cpp<br>//<br><br>#include &lt;objbase.h&gt;<br>#include &lt;assert.h&gt;<br><br>#include &quot;Registry.h&quot;<br><br>////////////////////////////////////////////////////////<br>//<br>// Internal helper functions prototypes<br>//<br>//   - These helper functions were borrowed and modifed from<br>//     Dale Rogerson’s book Inside COM.<br><br>// Set the given key and its value.<br>BOOL SetKeyAndValue(const char</em> pszPath,<br>                    const char<em> szSubkey,<br>                    const char</em> szValue) ;<br><br>// Convert a CLSID into a char string.<br>void CLSIDtoString(const CLSID&amp; clsid, <br>                 char<em> szCLSID,<br>                 int length) ;<br><br>// Delete szKeyChild and all of its descendents.<br>LONG DeleteKey(HKEY hKeyParent, const char</em> szKeyString) ;<br><br>////////////////////////////////////////////////////////<br>//<br>// Constants<br>//<br><br>// Size of a CLSID as a string<br>const int CLSID_STRING_SIZE = 39 ;<br><br>/////////////////////////////////////////////////////////<br>//<br>// Public function implementation<br>//<br><br>//<br>// Register the component in the registry.<br>//<br>HRESULT RegisterServer(const CLSID&amp; clsid,         // Class ID<br>                       const char <em>szFileName,     // DLL module handle<br>                       const char</em> szProgID,       //   IDs<br>                       const char<em> szDescription,  // Description String<br>        const char</em> szVerIndProgID) // optional<br><br>{<br> // Convert the CLSID into a char.<br> char szCLSID[CLSID_STRING_SIZE] ;<br> CLSIDtoString(clsid, szCLSID, sizeof(szCLSID)) ;<br><br> // Build the key CLSID{…}<br> char szKey[64] ;<br> strcpy(szKey, &quot;CLSID\&quot;) ;<br> strcat(szKey, szCLSID) ;<br> <br> // Add the CLSID to the registry.<br> SetKeyAndValue(szKey, NULL, szDescription) ;<br><br> // Add the server filename subkey under the CLSID key.<br> SetKeyAndValue(szKey, &quot;InprocServer32&quot;, szFileName) ;<br><br> // Add the ProgID subkey under the CLSID key.<br> if (szProgID != NULL) {<br>  SetKeyAndValue(szKey, &quot;ProgID&quot;, szProgID) ;<br>  SetKeyAndValue(szProgID, &quot;CLSID&quot;, szCLSID) ;<br> }<br><br> if (szVerIndProgID) {<br>  // Add the version-independent ProgID subkey under CLSID key.<br>  SetKeyAndValue(szKey, &quot;VersionIndependentProgID&quot;,<br>        szVerIndProgID) ;<br><br>  // Add the version-independent ProgID subkey under HKEY_CLASSES_ROOT.<br>  SetKeyAndValue(szVerIndProgID, NULL, szDescription) ; <br>  SetKeyAndValue(szVerIndProgID, &quot;CLSID&quot;, szCLSID) ;<br>  SetKeyAndValue(szVerIndProgID, &quot;CurVer&quot;, szProgID) ;<br><br>  // Add the versioned ProgID subkey under HKEY_CLASSES_ROOT.<br>  SetKeyAndValue(szProgID, NULL, szDescription) ; <br>  SetKeyAndValue(szProgID, &quot;CLSID&quot;, szCLSID) ;<br> }<br><br> return S_OK ;<br>}<br><br>//<br>// Remove the component from the registry.<br>//<br>HRESULT UnregisterServer(const CLSID&amp; clsid,      // Class ID<br>                      const char<em> szProgID,       //   IDs<br>                      const char</em> szVerIndProgID) // Programmatic<br>{<br> // Convert the CLSID into a char.<br> char szCLSID[CLSID_STRING_SIZE] ;<br> CLSIDtoString(clsid, szCLSID, sizeof(szCLSID)) ;<br><br> // Build the key CLSID{…}<br> char szKey[64] ;<br> strcpy(szKey, &quot;CLSID\&quot;) ;<br> strcat(szKey, szCLSID) ;<br><br> // Delete the CLSID Key - CLSID{…}<br> LONG lResult = DeleteKey(HKEY_CLASSES_ROOT, szKey) ;<br><br> // Delete the version-independent ProgID Key.<br> if (szVerIndProgID != NULL)<br>  lResult = DeleteKey(HKEY_CLASSES_ROOT, szVerIndProgID) ;<br><br> // Delete the ProgID key.<br> if (szProgID != NULL)<br>  lResult = DeleteKey(HKEY_CLASSES_ROOT, szProgID) ;<br><br> return S_OK ;<br>}<br><br>///////////////////////////////////////////////////////////<br>//<br>// Internal helper functions<br>//<br><br>// Convert a CLSID to a char string.<br>void CLSIDtoString(const CLSID&amp; clsid,<br>                 char<em> szCLSID,<br>                 int length)<br>{<br> assert(length &gt;= CLSID_STRING_SIZE) ;<br> // Get CLSID<br> LPOLESTR wszCLSID = NULL ;<br> HRESULT hr = StringFromCLSID(clsid, &amp;wszCLSID) ;<br> assert(SUCCEEDED(hr)) ;<br><br> // Covert from wide characters to non-wide.<br> wcstombs(szCLSID, wszCLSID, length) ;<br><br> // Free memory.<br> CoTaskMemFree(wszCLSID) ;<br>}<br><br>//<br>// Delete a key and all of its descendents.<br>//<br>LONG DeleteKey(HKEY hKeyParent,           // Parent of key to delete<br>               const char</em> lpszKeyChild)  // Key to delete<br>{<br> // Open the child.<br> HKEY hKeyChild ;<br> LONG lRes = RegOpenKeyEx(hKeyParent, lpszKeyChild, 0,<br>                          KEY_ALL_ACCESS, &amp;hKeyChild) ;<br> if (lRes != ERROR_SUCCESS)<br> {<br>  return lRes ;<br> }<br><br> // Enumerate all of the decendents of this child.<br> FILETIME time ;<br> char szBuffer[256] ;<br> DWORD dwSize = 256 ;<br> while (RegEnumKeyEx(hKeyChild, 0, szBuffer, &amp;dwSize, NULL,<br>                     NULL, NULL, &amp;time) == S_OK)<br> {<br>  // Delete the decendents of this child.<br>  lRes = DeleteKey(hKeyChild, szBuffer) ;<br>  if (lRes != ERROR_SUCCESS)<br>  {<br>   // Cleanup before exiting.<br>   RegCloseKey(hKeyChild) ;<br>   return lRes;<br>  }<br>  dwSize = 256 ;<br> }<br><br> // Close the child.<br> RegCloseKey(hKeyChild) ;<br><br> // Delete this child.<br> return RegDeleteKey(hKeyParent, lpszKeyChild) ;<br>}<br><br>//<br>// Create a key and set its value.<br>//<br>BOOL SetKeyAndValue(const char<em> szKey,<br>                    const char</em> szSubkey,<br>                    const char<em> szValue)<br>{<br> HKEY hKey;<br> char szKeyBuf[1024] ;<br><br> // Copy keyname into buffer.<br> strcpy(szKeyBuf, szKey) ;<br><br> // Add subkey name to buffer.<br> if (szSubkey != NULL)<br> {<br>  strcat(szKeyBuf, &quot;\&quot;) ;<br>  strcat(szKeyBuf, szSubkey ) ;<br> }<br><br> // Create and open key and subkey.<br> long lResult = RegCreateKeyEx(HKEY_CLASSES_ROOT ,<br>                               szKeyBuf, <br>                               0, NULL, REG_OPTION_NON_VOLATILE,<br>                               KEY_ALL_ACCESS, NULL, <br>                               &amp;hKey, NULL) ;<br> if (lResult != ERROR_SUCCESS)<br> {<br>  return FALSE ;<br> }<br><br> // Set the Value.<br> if (szValue != NULL)<br> {<br>  RegSetValueEx(hKey, NULL, 0, REG_SZ, <br>                (BYTE </em>)szValue, <br>                strlen(szValue)+1) ;<br> }<br><br> RegCloseKey(hKey) ;<br> return TRUE ;<br>}<br> <br><br>Factory.cpp                                                                           #include &quot;stdafx.h&quot;<br>#include &quot;factory.h&quot;<br>#include &quot;dictcomp.h&quot;<br><br>extern ULONG    g_LockNumber;<br>extern ULONG    g_DictionaryNumber;<br><br>CDictionaryFactory::CDictionaryFactory()<br>{<br> m_Ref = 0;<br>}<br><br>CDictionaryFactory::~CDictionaryFactory()<br>{<br>}<br><br>HRESULT  CDictionaryFactory::QueryInterface(const IID&amp; iid, void </strong>ppv)<br>{<br> if ( iid == IID_IUnknown )<br> {<br>  <em>ppv = (IUnknown </em>) this ;<br>    ((IUnknown <em>)(</em>ppv))-&gt;AddRef() ;<br> } else if ( iid == IID_IClassFactory) <br> {<br>  <em>ppv = (IClassFactory </em>) this ;<br>    ((IClassFactory <em>)(</em>ppv))-&gt;AddRef() ;<br> } <br> else<br> {<br>  <em>ppv = NULL;<br>  return E_NOINTERFACE ;<br> }<br> return S_OK;<br>}<br><br>ULONG   CDictionaryFactory::AddRef()<br>{<br> m_Ref ++;<br> return  (ULONG) m_Ref;<br>}<br><br>ULONG   CDictionaryFactory::Release()<br>{<br> m_Ref –;<br> if (m_Ref == 0 ) {<br>  delete this;<br>  return 0;<br> }<br> return  (ULONG) m_Ref;<br>}<br><br>HRESULT CDictionaryFactory::CreateInstance(IUnknown </em>pUnknownOuter, <br>             const IID&amp; iid, void <strong>ppv)<br>{<br>   CDictionary <em> pObj;   <br>   HRESULT hr;<br> <br>   </em>ppv=NULL;<br>   hr=E_OUTOFMEMORY;<br>   if (NULL != pUnknownOuter)<br>    return CLASS_E_NOAGGREGATION;<br> <br>   //Create the object passing function to notify on destruction.<br>   pObj=new CDictionary();<br>   if (NULL==pObj)<br>      return hr;   <br> <br>   //Obtain the first interface pointer (which does an AddRef)<br>   hr=pObj-&gt;QueryInterface(iid, ppv);<br><br>   if (hr != S_OK) {<br>    //Kill the object if initial creation or FInit failed.<br>      g_DictionaryNumber –; // Reference count g_cDictionary be added in constructor<br>   delete pObj;<br>   }<br> <br>   return hr;   <br>}<br><br>HRESULT CDictionaryFactory::LockServer(BOOL bLock)<br>{<br>   if (bLock)<br>      g_LockNumber ++;<br>   else<br>      g_LockNumber –;<br><br>   return NOERROR;<br>}<br> <br><strong><br></strong>Factory.h                                    #ifndef <strong>DICTIONARY_FACTORY</strong><br>#define <strong>DICTIONARY_FACTORY</strong><br><br>#include &quot;Unknwn.h&quot;<br><br>class CDictionaryFactory : public IClassFactory<br>{<br>   protected:<br>      ULONG           m_Ref;<br><br>   public:<br>      CDictionaryFactory ();<br>      ~CDictionaryFactory ();<br><br>      //IUnknown members<br>      HRESULT __stdcall QueryInterface(const IID&amp; iid, void </strong>ppv);<br>      ULONG <strong>stdcall AddRef();<br>      ULONG </strong>stdcall Release();<br><br>      //IClassFactory members<br>      HRESULT <strong>stdcall CreateInstance(IUnknown <em>, const IID&amp; iid, void *</em>ppv);<br>      HRESULT </strong>stdcall LockServer(BOOL);<br>};<br><br>#endif // <strong>DICTIONARY_FACTORY</strong><br> <br><strong><br></strong><br><br><br> </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/14/组件程序/" class="archive-article-date">
  	<time datetime="2007-07-14T13:44:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-14</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/com组件/">com组件</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-归去来辞" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/08/归去来辞/">归去来辞</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <strong>归去来辞</strong><br><br> <br><br>　　归去来兮！田园将芜胡不归？既自以心为形役，奚惆怅而独悲？悟已往之不谏，<br>知来者之可追；实迷途其未远，觉今是而昨非。<br><br>　　舟摇摇以轻殇，风飘飘而吹衣。问征夫以前路，恨晨光之熹微。乃瞻衡宇，栽<br>欣载奔。童仆欢迎，稚子候门。三径就荒，松菊尤存。携幼入室，有酒盈樽。引壶<br>觞以自酌，眇庭柯以怡颜。倚南窗以寄傲，审容膝之易安。园日涉以成趣，门虽设<br>而常关。策扶老以流憩，时翘首而遐观。云无心以出〔山由〕，鸟倦飞而知还。景<br>翳翳以将入，抚孤松而盘桓。<br><br>　　归去来兮，请息交以绝游。世与我而相遗，复驾言兮焉求？悦亲戚之情话，乐<br>琴书以消忧。农人告余以春兮，将有事乎西畴。或命巾车，或〔木卓〕孤舟。既窈<br>窕以寻壑，亦崎岖而经丘。木欣欣以向荣，泉涓涓而始流。羡万物之得时，感吾生<br>之行休。<br><br>　　已矣乎！寓形宇内复几时？何不委心任去留？胡为惶惶欲何之？富贵非吾愿，<br>帝乡不可期。怀良辰以孤往，或执杖而耘耔。登东坳以舒啸，临清流而赋诗。聊乘<br>化以归尽，乐夫天命复奚疑？ </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/08/归去来辞/" class="archive-article-date">
  	<time datetime="2007-07-08T11:34:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-08</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-神于天，圣于地" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/08/神于天，圣于地/">神于天，圣于地</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> &ldquo;神于天，圣于地&rdquo;</p><p>&nbsp;&nbsp;&nbsp;  既有一片理想主义的天空，可以自由翱翔，而不妥协于现实世界上很多的规则与障碍；又有脚踏实地的能力，能够在这个大地上去进行他行为的拓展。</p><p>&nbsp;&nbsp;&nbsp;    只有理想而没有土地的人，是梦想主义者，不是理想主义者；只有土地而没有天空的人，是务实主义者不是现实主义者。理想主义与现实主义就是我们的天和地。</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   －于丹《伦语》心得</p> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/08/神于天，圣于地/" class="archive-article-date">
  	<time datetime="2007-07-08T11:14:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-08</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-软件业自由之神-Richard-Stallman" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/08/软件业自由之神-Richard-Stallman/">软件业自由之神---Richard Stallman</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> [<a href="http://freecity.cn/cgi-bin/bbscon?board=LinuxDev&amp;file=M.1183653738&amp;num=9067" target="_blank" rel="external">本篇全文</a>] [<a href="http://freecity.cn/cgi-bin/bbspst?board=LinuxDev&amp;file=M.1183653738&amp;num=9067&amp;title=%20%E8%BD%AF%E4%BB%B6%E4%B8%9A%E8%87%AA%E7%94%B1%E4%B9%8B%E7%A5%9E---Richard%20Stallman&amp;userid=luohandsome" target="_blank" rel="external">回复本文</a>] [本篇作者: <a href="http://freecity.cn/cgi-bin/bbsqry?userid=luohandsome" target="_blank" rel="external">luohandsome</a> ] [本篇人气: 2]<br>发信人: luohandsome (祝朋友们都快乐@阳光), 板面: LinuxDev<br>标  题:  软件业自由之神—Richard Stallman<br>发信站: 飘渺水云间 (Fri Jul  6 00:42:18 2007), 转信<br><br>原文链接：<a href="http://www.linuxforum.net/doc/stallman.html" target="_blank">http://www.linuxforum.net/doc/stallman.html</a><br>作者:方兴东 <em><br><br><br>导语：在Richard Stallman的理论下，用户彼此拷贝软件不但不是&ldquo;盗版&rdquo;，而是<br>体现了人类天性的互助美德。对Richard Stallman来说，自由是根本，用户可自由共<br>享软件成果，随便拷贝和修改代码。他说:&ldquo;想想看，如果有人同你说:&lsquo;只要你保证<br>不拷贝给其他人用的话，我就把这些宝贝拷贝给你。&rsquo;其实，这样的人才是魔鬼；而<br>诱人当魔鬼的，则是卖高价软件的人。&rdquo;可以断定，进入世纪末，软件业发生的最大<br>变革就是自由软件的全面复兴。在自由软件的浪潮下，软件业的商业模式将脱胎换骨<br>，从卖程序代码为中心，转化为以服务为中心。<br><br>Richard Stallman白描：五短身材，不修边幅，过肩长发，连鬓胡子，时髦的半袖<br>沙滩上装，一副披头士的打扮。看起来象现代都市里的野人。如果他将一件&ldquo;麻布僧<br>袍&rdquo;穿在身上，又戴上一顶圆形宽边帽子，有如绘画作品中环绕圣像头上的光环。一<br>眨眼的功夫，他又变成圣经中的耶稣基督的样子，散发着先知般的威严和力量。<br><br>    五短身材，不修边幅，过肩长发，连鬓胡子，时髦的半袖沙滩上装，一副披头<br>士的打扮。看起来象现代都市里的野人。如果他将一件&ldquo;麻布僧袍&rdquo;穿在身上，又戴<br>上一顶圆形宽边帽子，有如绘画作品中环绕圣像头上的光环。一眨眼的功夫，他又变<br>成圣经中的耶稣基督的样子，散发着先知般的威严和力量。野人与基督，恰恰就是自<br>由软件的精神领袖理查德·Richard Stallman的双重属性：他既是当今专有（私有）<br>商业软件领域野蛮的颠覆者，又是无数程序员和用户心目中神圣的自由之神。<br><br>    在他的理论下，用户彼此拷贝软件不但不是&ldquo;盗版&rdquo;，而是体现了人类天性的<br>互助美德。对Richard Stallman来说，自由是根本，用户可自由共享软件成果，随便<br>拷贝和修改代码。他说:&ldquo;想想看，如果有人同你说:&lsquo;只要你保证不拷贝给其他人用<br>的话，我就把这些宝贝拷贝给你。&rsquo;其实，这样的人才是魔鬼；而诱人当魔鬼的，则<br>是卖高价软件的人。&rdquo;可以断定，进入世纪末，软件业发生的最大变革就是自由软件<br>的全面复兴。在自由软件的浪潮下，软件业的商业模式将脱胎换骨，从卖程序代码为<br>中心，转化为以服务为中心。<br><br>    有人说，Richard Stallman应该算是世界上最伟大，软件写得最多的程序设计<br>师。但是，Richard Stallman真正的力量，还是他的思想。<br>    自由软件是计算机业的传统<br><br>    自由软件不是新生事物，而是计算机业与身俱来的传统。纵览计算机发展史，<br>从1946年到60年代，从IBM蓝色巨人到ARPANET，从集成电路到PC机，从互联网到电信<br>自由经营，每一个时期都留下了&ldquo;自由&rdquo;的影子。<br><br>    可以说自由拷贝和源代码开放是整个计算机业，包括个人电脑及互联网两大领<br>域的天然的软件开发和传播模式。早在60年代，就有以大学为阵地，以年轻人为主题<br>，自由地交流的风尚，并在软件开发与研究方面硕果累累：如Unix、TCP/IP、Fortr<br>an、Pascal、 LISP等等。<br><br>    当70年代，AT&amp;T被迫退出计算机业时，Ken Thompson和Dennis Ritche从贝尔<br>实验室将Unix的源代码拿出来，结果吸引了成千上万名程序员，为其改进、修正、添<br>加，诞生了多年来高端系统最核心的操作系统–Unix的繁荣。<br><br>    70年代中期，个人电脑革命还在酝酿之中，当时的软件是鼓励自由拷贝的（那<br>时还没有发明盗版的名目），正是这种自由拷贝、信息共享的精神上点燃了个人电脑<br>革命，促成了软件业的发展。甚至连盖茨起家的Basic也是依靠这种自由软件才流行<br>起来，才为事实标准。其实，后来的许多软件都是依靠共享方式才取得成功。<br><br>    在互联网发展初期，程序员也是将源代码自由共享。当时基于UUCP的UUCPNet<br>和基于TCP/P的ARPANet （互联网前身），都有Usenet社区，其目的就是共享源代码<br>交流经验。进入90年代，奠定互联网爆炸的一些关键技术，如伯纳斯-李发明的WWW技<br>术，浏览器以及Apache、BIND等等全部都不是诞生在专有软件世界里。可以说，是自<br>由软件的精神和创新奠定了整个计算机业的核心。忽视自由软件的传统和作用是不科<br>学的。<br><br>    70年代末，微软公司的创始人比尔·盖茨《致电脑业余爱好者的一封公开信》<br>为标志，以世界知识产权组织《伯尔尼公约》为框架，软件步入了Copyright的时代<br>。随着现代商业软件的发展，对利润的疯狂追逐不但割裂了传统，极大地偏离了计算<br>机的基本精神。而且还在不断变本加厉。因此，自由软件的复兴首先是对现有版权体<br>系的强力反叛。<br><br>    软件源代码是交流技术、交流思想的主要媒介，正象传统的科学是通过论文、<br>著作进行交流一样。企业为了保护软件的知识产权而将源码秘而不宣，已经背离了知<br>识产权保护创新的基本精神。<br><br>    Richard Stallman在《为什么软件不应有&lsquo;所有者&rsquo;？》一文中指出，软件的<br>编写者将软件&ldquo;据为己有&rdquo;看上去天经地义。但必须看到，一个软件并不是单纯的工<br>具，一旦软件的编写者将其传播出去，就不简单地是在提供&ldquo;工具&rdquo;，而是在传播&ldquo;<br>思想&rdquo;。在这一点上，现有的版权体系采用了所谓保护&ldquo;表达（Expression）&rdquo;，不<br>保护&ldquo;思想（Idea）&rdquo;的两分法，为软件保护问题设置了无法解释的障碍，造成了软<br>件的精神分裂。<br><br>    同时，自由和共享也是计算机发展的内在精神和永恒的追求目标。有人指出：<br>在互联网被标榜为&ldquo;资源共享&rdquo;、&ldquo;资源优化&rdquo;的利器的时代，却不能对软件产品真<br>正实现&ldquo;共享&rdquo;和&ldquo;优化&rdquo;，这不能不说是一个巨大的讽刺。<br>    黑客传统<br><br>    Steven Levy的名著《黑客：电脑时代的英雄》论述了个人计算机兴起的历史<br>。该书最后一章讲述了理查德·Richard Stallman的故事。题目就是：&ldquo;最后一个真<br>正黑客&rdquo;。这是对他最恰当的评价。连他的反对者也说：&ldquo;如果不存在Richard Sta<br>llman，人类也应该把他创造出来。&rdquo;<br><br>    1971年，年轻、聪明绝顶的程序员Richard Stallman进入MIT人工智能实验室<br>工作，成为软件共享社区的重要成员。其实这个社区已存在多年。当然，软件共享也<br>只不过局限于这个特定的社区中。它与计算机的历史一样悠久。就象配料共享与烹饪<br>一样古老。计算机业的传统就是：一切为人人所共享。私有让人嘲笑，专用受人鄙视<br>。<br><br>    当时，人工智能实验室使用一个ITS（不兼容分时系统）分时操作系统。黑客<br>们（不是大众媒体所谈的安全破坏分子，而是指酷爱编程的人）是用汇编语言为Dig<br>ital的PDP-10设计和编写的。PDP-10是当时最著名的计算机之一。作为社区成员和<br>实验室的系统黑客， Richard Stallman的工作就是改进系统。<br><br>    当时没有人称它为自由软件，因为这个词还不存在。但实际上就是这么回事。<br>无论是某个公司成员或另一所大学想获得它，大家都会非常高兴地把源程序给他。如<br>果你看到别人使用一种你没见过且有意思的程序，你可以坦然地向他索要程序，这样<br>你就可以读它、改它，或拆卸部分用于新的程序。进入80年代，这种自由发生急剧变<br>化，DEC的PDP-10系列发生中断了。它的自由体系架构，在60年代显得强劲、先进。<br>但到80年代就捉襟见肘，没有足够多的地址空间。这意味着几乎所有的为ITS编写的<br>程序都作废了。黑客社区也崩溃了。<br><br>    然而，到80年代后，计算机的商业化和软件专有化席卷整个产业，黑客们的黄<br>金时代结束了。一个又一个有才能的MIT编程员离开了校园，投入了市场的怀抱。尤<br>其是Symbolics公司的成立，挖走了社区中的许多黑客，大大伤了MIT人工智能实验室<br>的元气。Richard Stallman感到：一个时代结束了。<br><br>    Richard Stallman说:&ldquo;那时，人工智能实验室已没法再支持下去，我是最后<br>一个还想让它活起来的呆瓜。但后来我也没办法了，因为一个人根本发挥不了作用。<br>&rdquo; 开始，他觉得这样与现实抗争没有什么意义。但他终于看出，他真正的敌人不是<br>Symbolics，而是整个不开放源代码的商业软件业。<br><br>    1981年，当人工智能实验室购买了新的PDP-10时，领导决定用Digital专有的<br>分时系统来代替ITS。当时的计算机，无论是VAX或68020都有他们自己的操作系统。<br>但没有一个是自由软件：你要获得一份可执行的拷贝必须签署一份不准向外公开的协<br>议。<br><br>    这就意味着使用计算机就得承诺：不能帮助你的邻居和朋友。这是软软件业迈<br>出的可怕的第一步。一个相互协作、彼此交流的社区就这样被禁止了。由专有软件所<br>有者所制订的规则：&ldquo;如果你与你的邻居共享，你就是盗版者。如果你想作点改动，<br>那你得乞求我们来做。&rdquo;<br>    究竟谁违背了道德<br><br>    实际上，恰恰是专有软件的理念–不允许共享或改动软件–是反社会的，也是<br>不道德的，而且也是完全错误的。但是长期以来，软件出版商使人们相信：软件天生<br>就该如此。这种片面的认识禁锢了人们的思维。当他们在谈论如何加强版权或打击盗<br>版时，他们也认定这是天经地义，人们也会毫无异议地接受。<br><br>    他们的第一个假设就是：软件公司对自己的软件拥有毫无疑问的天然权力，因<br>而可以将权利施加到所有用户身上。（因为如果是天然权力，那不管对公众会造成多<br>大的损害，我们也不能加以反对。）但有意思的是，美国宪法和美国法律惯例否定了<br>这种看法，版权不是一项天然权力，只是一项人为由政府施加的独占，他限制了用户<br>拷贝的天然权力。<br><br>    另一个潜在的假设是，软件唯一重要的事就是它允许你可以做什么。而我们的<br>计算机用户不必考虑我们处在的社会状况，被动接受就行。第三个假设就是如果我们<br>不允许软件公司给用户施加权力，我们就没有可用的软件。这个假设看起来似是而非<br>。实际上当自由软件兴起后，我们无须戴上锁链就能获得大量优秀软件。<br><br>    如果我们拒绝接受上述假设，并从&ldquo;用户第一&rdquo;的基本道德常识上来考虑问题<br>，那么我们将得出截然不同的结论。计算机用户应该有自由根据自己的需求修正程序<br>；用户有自由共享软件，因为帮助别人是社会的基础。而软件厂商不可以对用户施加<br>压力，剥夺用户的各种自由。<br><br>    Richard Stallman经历过沉痛的遭遇。70年代，激光打印机大得像吉普车一样<br>，所以Xerox（施乐）送了一台图象激光打印机给人工智能实验室时，人们发现唯有<br>人工智能实验室的九楼机房里，才找得到位置放它。在大楼里所有人只要在各自的电<br>脑上打些指令，叫打印机帮你服务。<br><br>    它的打印速度令人满意，只是有时纸印光了或夹了纸，一大堆人的列印工作就<br>全部停了下来。有时有的人要印上一大堆东西，而有些人只要印一两张时，不得不爬<br>上九楼，把印表机的控制改一下，使它先印一两张。于是一天就这样爬上爬下，没有<br>人受得了。<br><br>    幸好印表机送来时，Xerox把驱动程序的源代码也随机附上，实验室的人就把<br>控制打印机驱动程序的功能作了些修改，大家都省了不少麻烦和汗水。Richard Sta<br>llman回忆地说:&ldquo;你的打印工作做完后，它还会通知你；如果夹了纸或你想问些什<br>么打印上的事情，它也会让你知道。&rdquo;<br><br>    1978年，一切都变了。Xerox送了一台叫Dover的新打印机机给人工智能实验室<br>，但不愿再附上源代码。Richard Stallman说:&ldquo;因此我们没办法修改驱动程序，于<br>是整个大楼的打印效率又回到从前，卡了纸或把纸印光了，你在下面也无法知道。&rdquo;<br><br>    他和人工智能实验室为给打印机添加功能以便机器更好工作，希望获得打印机<br>控制程序的源代码，结果被严正拒绝。&ldquo;因此，我再无法说服自己不公开协议是纯洁<br>清白的。当他们拒绝与我们共享时，我十分气愤。我不能更更弦改辙，对别人做出同<br>样的事。&rdquo;<br>    赤裸裸的道德抉择<br><br>    &ldquo;随着社区的终结，我面临着一个道德上的抉择。最简单的就是投身于专有软<br>件世界之中，签署不公开协议，并承诺不帮助同行、同事。而且自己也很可能编写软<br>件，并在不公开协议的前提下发布软件，去同流合污，迫使更多的人背叛自己的原则<br>。显然，走这条路，可以挣大钱，而且使编写代码的工作增添一份金钱上的快乐。但<br>是我知道，等到自己职业生涯终结时，我再回首这些年为分离人类而砌造的&lsquo;墙壁&rsquo;<br>。我会感受到，我将自己的一生都用在使这个世界变得更加糟糕。&rdquo;<br><br>    另一个选择，很直截了当，但令人不愉快，那就是从此离开计算机领域。&ldquo;这<br>样我的技能不会被滥用，但也将被浪费，我不会因为分化和限制计算机用户而感到有<br>罪，但这些事情会继续发生。&rdquo;&ldquo;因此，我开始寻找一条出路，使程序员可以做真正<br>的好事。我问自己，我能写什么软件，我能否让社区重焕生机。&rdquo;<br><br>    答案很明白：首先需要的是一个操作系统，这是开始使用计算机的关键软件。<br>有了操作系统，就能做许多事，没有操作系统，计算机都无法运行。有了自由操作系<br>统，我们就能再次组建一个相互合作的黑客社区。而且任何人使用自由软件都不必剥<br>夺他/她与朋友家人的共享权利。<br><br>    作为一名操作系统的开发人员，Richard Stallman无疑最胜任。&ldquo;虽然我没有<br>认为自己一定能成功，但我意识到自己就是命定做这项工作的。&rdquo;Richard Stallma<br>n选择做一个与Unix兼容的操作系统。这样容易被移植，而且Unix用户可以方便地转<br>移过来。GNU这个名字确定就是遵循黑客传统，是一个递归的缩略词：&ldquo;GNU</em>S NOT <br>Unix。&rdquo;<br><br>    一个操作系统并不仅仅意味着一个内核，而且仅能运行其他程序也是不够的。<br>一个完整的操作系统，要有指令处理器、汇编程序、编译器、解释程序、调试器、文<br>本编辑器、邮件软件等等一个完整的系统。<br><br>    自由软件&ldquo;free software&rdquo;是一个被广泛误解的词，这个&ldquo;free&rdquo;完全与价<br>格无关，它指&ldquo;自由&rdquo;。这就象&ldquo;自由讲演(free Speech)&rdquo;与&ldquo;免费啤酒(free Be<br>er)&rdquo;的区别。其主要内涵就是用户可以自由运行软件，可以按自己的要求自由修改<br>软件，用户也可以自己销售软件，不管是收费的还是免费的。自由软件与出售软件拷<br>贝并不冲突。<br><br>    开发一个完整的系统是项庞大的工程。Richard Stallman决定尽可能采用已有<br>的自由软件，比如一开始他将Tex作为主要的文本格式标识符，几年后他又用X Wind<br>ows系统作为GNU的图口系统。<br><br>    思想比代码更闪光，但没有代码，思想是没有躯体的。<br>    一个人的战争<br><br>    1984年1月，Richard Stallman辞去了MIT的工作，他担心MIT会要求产品的所<br>有权，会给产品强加入自己的销售条件，最终又会成为专有软件。一开始，GNU计划<br>只有他一个人。他发现自己原来在人工智能实验室的办公室，还没有分给其他人用时<br>，他就每天晚上溜进去工作。久而久之，白天他也跑去用实验室里的电脑。<br><br>    当时人工智能实验室主任Patrick H. Winston并不干涉。因为Winston始终不<br>把Richard Stallman的辞职当真，只要Richard Stallman能创造些好东西给大家用，<br>实在没有必要把这位共事13年的老同事打发走路。因此他爽快地邀请Richard Stall<br>man可以继续使用实验室的设备。从此，Richard Stallman就成了特殊的一员。<br><br>    工程启动后，Richard Stallman听到有一个自由大学编译器套件（VUCK）。他<br>去信询问能否用入GNU。答复是嘲弄式的，说对大学是自由的，但软件本身不行。于<br>是，决定他为GNU编写的第一个软件就是一个多语言、多平台的编译器。他想利用Pa<br>stel编译器的源代码，但最终放弃。从头编写了新的编译器，名为GCC。<br><br>    1984年9月，Richard Stallman开始GNU Emacs，1985年初，它开始可以工作。<br>这使它可以用Unix系统进行编辑。此时，人们开始想使用Emacs。因此一个现实的问<br>题是：如何传播它？当然，他将其放到了MIT计算机的匿名服务器上。但那时互联网<br> 还未普及，人们很难通过FTP获得拷贝。而失业的Richard Stallman也需要收入。<br>于是，他宣布任何人都可以用150美元的价格获得程序。自由软件的分销商业模式就<br>此诞生。如今，整个基于Linux的GNU 系统都是如此。<br><br>    为防止不肖厂商利用自由软件，使其专有化。Richard Stallman别出心裁，创<br>造了Copyleft的授权办法。所有的GNU程序遵循一种&ldquo;Copyleft&rdquo;原则，即可以拷贝<br>，可以修改，可以出售，只是有一条：源代码所有的改进和修改必须向每个用户公开<br>，所有用户都可以获得改动后的源码。它保证了自由软件传播的延续性。<br>    市场里出政权<br><br>    EMACS这样的程序最难的是开头。一旦第一版本推出之后，就有一大堆人去玩<br>它，然后精益求精，越改越好。目前已有几百种EMACS的副程序，可用在50多种电脑<br>上，从微电脑到Cray的超级电脑都可用EMACS。<br><br>    由于EMACS的成功，Richard Stallman设立了个新的基金会:自由软件基金会（<br>Free Software Foundation(FSF)）；捐助FSF和GNU计划的厂商，也可享有减税的优<br>待。单单1989年，FSF就收到267782美元的捐助，基金会也因出售GNU程序手册和电脑<br>磁带，而赚了330377美元。此外，Richard Stallman也不再天天溜回人工智能实验室<br>&ldquo;借&rdquo;用电脑，因为许多厂家已为FSF提供一大堆的高性能工作站等硬件设备，包括<br>HP、Thinking Machine、Sony，甚至UNIX的娘家—贝尔实验室，也贡献了不少设备<br>。也有一些厂商捐赠现金，并把技术人员送到FSF来向Richard Stallman学习，而且<br>支付Richard Stallman的员工薪水。<br><br>    FSF就用这些钱来养起14位基金会成员: 9位程序设计师，3位负责技术资料撰<br>写。虽然Richard Stallman自己不支薪，但他不能期望他的同仁也和他一样看得开，<br>而饿着肚子为理想拼斗。FSF的程序设计师一年也只有2万5千美元的薪水，这是一般<br>厂商的一半或三分之一。Richard Stallman之所以以低薪待人，原因就是可多请几位<br>志同道合的黑客，为理想而工作。<br><br>    GNU在工作站和微机市场很风光，许多工作站/UNIX和微机厂家，都把GNU纳入<br>他们操作系统，包括Convex Computer、DEC、Data General及以前的NeXT等。<br><br>    GNU工程激励了许许多多年轻的黑客，他们编写了大量自由软件。最后，是里<br>奴斯·托瓦斯编写了系统内核，称为Linux，把所有软件和硬件连接起来。Linux内核<br>为GNU工程画上了完满的句号。<br><br>    　　Richard Stallman说，Linux并不能代表整个操作系统。Linux只是内核，<br>整个系统还包含数以百计的软件工具和实用程序，大多是由GNU黑客们完成的。他认<br>为，整个操作系统称为GNU/Linux比较合适。<br><br>    Richard Stallman认为，在Copyleft时代，软件公司可以靠服务和训练赚钱。<br>如果你公司没有人会用源代码，你就得请位程序员，帮你修改由FSF得来的 Copylef<br>t程序；你不必怕你出钱所改的程序会流传到另一家公司，因为那家公司也许会为这<br>软件改头换面，帮它抓虫，或修改，或添加些新功能。而在任意拷贝的情况下，你也<br>因而受惠。<br><br>    所以程序员绝对饿不死，仍会像现在高价软件的时代一样，有许多&ldquo;服务&rdquo;的<br>大钱可赚，只不过不可能象盖茨这样积聚起世界第一的巨额财富。而GNU的软件也能<br>使写程序的人更具生产力，因为他不必凡事都从零做起，可根据已有的软件来改进。<br>所以Richard Stallman希望，有一天软件业者不是靠目前的&ldquo;Copyright&rdquo;版权法，<br>迫使客户花费巨额资金购买软件，而是依仗提供服务(如技术支援、训练) 来获取应<br>得的报酬，这种报酬可能会比一般人高，但是绝对不可能为一个小公司培养出几百个<br>百万富翁。简而言之，未来软件业的基本准则就是&ldquo;资源免费，服务收费&rdquo;。<br><br>    近几年，随着Linux的迅速崛起，再也没有人对自由软件的全新商业模式表示<br>怀疑。在 Richard Stallman思想的指导下，自由软件已经成功地步入市场主流，占<br>据了市场实地。毕竟，在商业横流的今天，思想在贬值。自由软件也只有在夺取市场<br>政权后，才能真正确立自己的实力地位，促使整个软件业模式发生巨变。<br>    孤独是思想家的归宿<br>    　<br><br>    　目前发展的势头表明，完全站在用户一边的自由软件不可抵挡。它面临的唯<br>一敌人还是自由软件领域内部的分裂和争斗。除了市场原有垄断者外，这是任何人都<br>不希望看到的。<br><br>    Richard Stallman总是风尘仆仆，行囊相随，四处布道。他带着一台笔记本电<br>脑，但这不是他个人的，而是属于自由软件基金（FSF）。其实，Richard Stallman<br> 从来就没有拥有过一台自己的计算机。也从来只用自由软件（当然他从来没有用过<br>Windows）。而且，他也没有自己的汽车、电视和房产。这位46岁的单身汉节俭地居<br>住在一间租来的房子里。已有15年了，没有领取过一个月的正式工资。因为他的工作<br>就是使软件获得自由。在商欲横流的今天，人们更愿意追逐财富，而不是贫寒的Ric<br>hard Stallman 的高尚思想。因此不足为怪，连自由软件团体内的许多人也开始离<br>他而去。<br><br>    随着自由软件迅速崛起，影响力大增。Richard Stallman毫不妥协的个性和思<br>想使其在自由软件内部也越来越成为争议人物。随着Apache Web服务器和GNU/Linux<br>操作系统的日渐流行，新一代黑客们受到鼓舞，纷纷投入商业领域，越来越多的人加<br>盟自由软件，他们是一类全新的黑客：一方面呼应自由软件的精神，一方面又积极拥<br>抱商业世界。他们鼓吹自己能够创建比专有软件更稳定更灵活更少&ldquo;臭虫&rdquo;的软件产<br>品，同时又积极捕捉每一个商机。<br><br>    于是，&ldquo;持不同政见者&rdquo;将自由软件的标签改成了&ldquo;开源软件&rdquo;。看起来好象<br>两者兼容，但Richard Stallman认为，两者最大的区别就是后者将自由精神放在首位<br>。但是对商人来说，自由（free）与免费（free）是同一个词。与Richard Stallma<br>n布道&ldquo;自由精神&rdquo;不同，他们更愿意谈论实际问题。为了避免纷涌而来的投资者被<br>Richard Stallman&ldquo;吓跑&rdquo;，他们还得联起手来，将Richard Stallman屏蔽起来。<br><br>    Richard Stallman不喜欢实用主义的辩词，他宣称即使一个自由软件不是他最<br>佳的解决方案，他也愿意作为首选。对Richard Stallman来说，自由是基本的道德美<br>德：所有的计算机用户都应该享有相互协作、共享，以及拷贝和交换源代码的自由。<br><br>    他的态度使一些&ldquo;开放源代码&rdquo;社区派系的人感到不安。实际上，他们标出&ldquo;<br>开放源代码&rdquo;新旗号的目的就是要与激进分子Richard Stallman划清界线。不可否认<br>，正是Richard Stallman领导了自由软件运动，正是他自己开发的千万行程序代码使<br>如今的&ldquo;Linux&rdquo;成为一个整体，并走向成功。但对于新一代的人， Richard Stall<br>man是一种困窘，是一种障碍，更是一个捣乱分子。必须将他不惜代价地推入密室，<br>以免吓跑投资者。<br>    现实主义与理想主义之争<br><br>    毫无疑问，无论是自由软件运动还是开放源代码，都来源他15年前开始的努力<br>，这肯定是计算机历史上最脍炙人口的传奇故事。对于目前的成功，Richard Stall<br>man感到非常高兴，但也有更多的焦虑。因为他感到自己明显被排斥在外。&ldquo;有人极<br>力想改变历史，否定我在这场运动中的地位&rdquo;对于人们用 Linux来指代整个操作系统<br>，Richard Stallman十分痛心，他说正确的用词应是&ldquo;GNU/Linux&rdquo;。 Richard Sta<br>llman承认托瓦斯的贡献很关键，是他完成了GNU/ Linux的内核。但是Richard Sta<br>llman估算，内核只占整个系统的3%，相比之下，GNU项目贡献了30%的代码，其余6<br>7%的代码来源于其他方面。但令他欣慰的是，GNU的一些原则仍在起作用。他认为这<br>种原则不仅使软件开发更显活力，更能生产出优质软件，还认识到这本身是一种行为<br>准则。<br><br>    批评者认为，Richard Stallman极力维护GNU的遗产，是沉湎于这场运动的枝<br>枝末末，对整个自由软件都是有害的。对大多数开放源代码倡导者来说，颠覆微软才<br>是主要的斗争方向。<br><br>    &ldquo;我关心的是精神，是GNU项目内在的哲学。这种哲学就是它存在的理由，那<br>就是自由软件不仅仅是为了方便，也不仅仅是为了可靠。真正重要的是自由，协作的<br>自由。我不关心某个人或公司。因此我认为单纯与微软作战偏离了这个运动的方向。<br>&rdquo;<br><br>    Richard Stallman的拥戴者还有，但是Richard Stallman的大多数主张还是被<br>人们忽略了。如今只有&ldquo;Linux&rdquo;充斥着媒体的标题，而背后的思想开始逐渐隐去。<br><br>    Richard Stallman被邀请参加在硅谷湾区举办的&ldquo;开放源代码开发者日&rdquo;。这<br>个1998年8月21日开幕的活动是程序员和自由软件热心家的大集会，由计算机图书出<br>版公司O<em>Reilly联合公司组织的。而在4月份组织的&ldquo;自由软件高峰会议&rdquo;上，Rich<br>ard Stallman没有被邀请。结果招致了广泛的批评，使得组织者再也不敢&ldquo;忽视&rdquo;<br>他了。但是组织者告诫他，要他以&ldquo;维护大局&rdquo;为重，让他在有分歧的地方免开尊口<br>。<br><br>    不足为奇，Richard Stallman让许多自由软件的同行们十分棘手。他这个人不<br>可控制，不可预知也不可能被改变。是这些非同寻常的素质促成了自由软件的兴起。<br>但是随着自由软件前景大开，江山指日可待，这些个性开始被视为障碍。Richard S<br>tallman的狂热和信仰保证了自由软件的成长，但如今人们认为他是多余的。在他们<br>眼里，现在剔除了Richard Stallman，自由软件不但不会受阻，反而会更顺畅。<br><br>    但不容置疑的是，正是Richard Stallman的思想成为自由软件运行的力量源泉<br>。GNU－Linux系统的确比Windows系统问题少，Apache也是Web服务器的更好选择。但<br>这只是问题的一个侧面，只有把实用和理想结合起来，自由软件运动才令人信服，才<br>能激发人们的热情和献身精神。无论如何，Richard Stallman仍然是有名气的，仍然<br>受到尊重，仍然被认为是自由软件运动的核心人物。Richard Stallman在计算机领域<br>的重要地位不容动摇。为了使自由软件商业化而牺牲Richard Stallman，那就可能会<br>失去这场重大革命的灵魂和方向。 后记<br><br>    Richard Stallman依旧没钱、没势，连原先的许多信徒都被分化而去。这场运<br>动给他带来的唯一收获可能就是：无论Richard Stallman走到哪里，都会有人乐意借<br>给他计算机，使他能及时查看电子邮件。他还是那样不修边幅，无所顾忌。但是与当<br>年执着相比，他的精神状态开始呈现一种新的焦虑和紊乱，而这一切正是他创造的自<br>由软件的成功，施加给他的。而且可以肯定，Richard Stallman必将越来越被自由软<br>件成功的浪潮所淹没。<br><br>    未来难以预测，唯一可以肯定的是：Richard Stallman自己引燃的这场革命已<br>经完全超越了他的驾驭范围。这也是许多思想家共同的命运。<br><br>    其实，人类导演的故事总是一模一样的。 <br><br><br><br></em>版权声明：本文发表于《计算机世界》报，由方兴东先生为本论坛特别提供. </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/08/软件业自由之神-Richard-Stallman/" class="archive-article-date">
  	<time datetime="2007-07-08T07:41:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-08</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-GCC-命令行选项-nodefaultlibs-nostartfiles-nostdlib" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/06/GCC-命令行选项-nodefaultlibs-nostartfiles-nostdlib/">GCC 命令行选项( -nodefaultlibs  -nostartfiles  -nostdlib)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <br><br> <strong>GCC</strong><strong>     技术参考大全</strong>            附录D  命令行选项                                        <a href="http://www.khp.com.cn/zhuanti/0613_1360GCC/ml.htm" target="_blank" rel="external">目录</a> <a href="http://www.khp.com.cn/zhuanti/0613_1360GCC/qy.htm" target="_blank" rel="external">前言</a>                            　                                    </p><p> </p> <p><strong>Linker </strong></p>            -nodefaultlibs            <p>标准系统库例程不应该作为被链接的可执行程序的一部分包含进来。用到的库仅仅是在命令行中所列出的那些库。</p> <p>编 译程序可能会产生对系统函数 memcpy() ， memcmp() ， memset() （对标准 C 和 System V 而言）， bcopy() 和 bzero() （对 BSD 而言）的调用。这些引用通常都可在 libc.a 中进行解析，因此需要在命令行中亲自提供这些例程。</p> <p>库 libgcc.a 包含了一系列目标平台相关的特殊例程，可以将它们视为编译程序的一部分，因此在没有标准库时应该指定 -lgcc 。</p> <p>参见选项 -nostartfiles 和 -nostdlib 。</p> <p><strong>Linker </strong></p>            -nostartfiles            <p>标准启动目标文件不应该作为链接的可执行程序的一部分被包含。参见选项 -nostdlib 和 -nodefaultlibs 。</p> <p><strong>Pre Ada </strong></p>            -nostdinc            <p>禁止编译程序在标准系统目录中搜索头文件。搜索的仅仅是当前目录和选项 -I 中指定的目录。</p> <p>对 Ada 来说，该选项指定了源文件不使用系统库。</p> <p>该选项也可以写作 –no-standard-includes 。</p> <p><strong>Pre C++ </strong></p>            -nostdinc++            <p>禁止编译程序在标准 C++ 目录中搜索头文件，但可以在其他标准目录中搜索。该选项专供编译 C++ 库使用。</p> <p><strong>Linker </strong></p>            -nostdlib            <p>只有命令行指定的项才传递给链接器。标准启动文件和库都不会传递给链接器。该选项隐式打开选项 -nostartfiles 和 -nodefaultlibs 。</p> <p>该选项也可以写作 –no-standard-libraries 。</p>            -O level            <p>指定用于编译程序所生成的代码的优化级别。注意，在代码尺寸和执行速度间永远都需要权衡。默认选项是 -O0 ，即不进行优化。</p> <p>如 果没有指定优化级别，编译程序产生与输入源结构匹配的代码。优化不仅需要更多的处理，还需要更多的内存。没有优化的编译具有两个好处，可以缩短编译时间 （优化则需要很长的时间），而且可以在调试器中轻松跟踪所产生的代码。对软件开发过程而言，所有这些都是理想的条件。也可以使用调试器调试已优化的代码， 但由于输出的代码可能被重组，因此很难进行跟踪。</p> <p>该选项也可以写作 –optimize 。</p> <p>优化级别参见表 D-4 。</p> <p>表 D-4 优化的 6 种级别</p> <p>级别</p> <p>描述</p> <p>-O</p> <p>编 译程序尝试减少代码尺寸和执行时间 ， 但不会进行造成调试困难的修改。该级别会打开选项 -fno_optimize_size ， -fdefer_pop ， -fthread_jumps ， -jguess_branch_prob ， -cprop-registers 和 -fdelayed_branch 。当调试器在某平台上无需栈指针就可以正常工作时才会设置选项 -fomit-frame-pointer</p> <p>-O0</p> <p>这是默认选项。关闭所有优化。关闭所有尺寸优化并设置选项 -fno-merge-constants</p> <p>-O1</p> <p>与选项 -O 相同</p> <p>-O2</p> <p>该 优化级打开不涉及代码尺寸和运行速度权衡的所有优化。除了选项 -O 所打开的选项外，该优化级还打开选项 -foptimize-sibling-calls ， -fcse-follow-jumps ， -fcse-skip-blocks ， -fgcse ， -fexpensive-optimizations ， -fstrength-reduce ， -frerun-cse-after-loop ， -frerun-loop-opt ， -fcaller-saves ， -fforce-mem ， -fpeephole2 ， -fschedule-insns ， -fschedule-insn-after-reload ， -fregmove ， -fstruct-aliasing ， -fdelete-null-pointer-checks 和 -freorder-blocks 。该优化级不进行循环展开、函数内嵌或是寄存器重命名</p> <p>-O3</p> <p>除了 -O2 所打开的选项外，该优化级还打开选项 -finline-functions 和 -frename-registers</p> <p>-Os</p> <p>优化代码尺寸。打开 -O2 中打开的所有选项。将选项 -falign-loops ， -falign-jumps ， -falign-labels 和 -falign-functions 设置为 1 ，它将禁止任何为对齐而插入的空间</p>                                                                                    -o filename            <p>将输出写入指定的文件中。该选项对各种输出均有效，可以是预处理过的源代码、汇编语言、目标文件或是已链接的可执行程序。由于只能指定一个输出文件，因此如果可能产生多个文件，就不要使用 -o 选项。</p> <p>如果编译程序生成一个要链接的可执行程序，而且没有用 -o 选项指定其名字，默认名是 a.out 。</p> <p>该选项也可以写作 –output 。</p>            –optimize level            <p>与选项 -O 相同。</p>            –output filename            <p>与选项 -o 相同。</p> <p><strong>Java </strong></p>            –output-class-directory= directory            <p>与选项 -foutput-class-dir 相同。</p>            -p            <p>包含额外的代码，这些代码将输出适合性能分析程序 prof 分析的信息。该选项必须在编译源文件和链接目标文件的同时使用。</p> <p>参见选项 -pg 。该选项也可以写作 –profile 。</p> <p><strong>Pre </strong></p>            -P            <p>当同选项 -E 一起使用时，预处理程序不产生 #line 指示字。</p> <p>该选项也可以写作 –no-line-commands 。</p>            –param name = value            <p>GCC 内部存在一些优化代码程度的限制，因此调整这些值就是调整整个优化。表 D-5 给出了参数的名字和可用的数值。</p> <p>该选项也可以写作 –param 。</p> <p>表 D-5 –params 选项可接受的名字</p> <p>名字</p> <p>值</p> <p>max-delay-slot-insn-search</p> <p>填充一个延迟段时所选择的最大数目的指令。较大的数值可以改进所生成的代码，但会降低编译速度。默认值是 100</p> <p>max-delay-slot-live-search</p> <p>当查找具有合法寄存器信息的代码块时的最大代码块搜索数目。较大的数值可以改进生成的代码，但会降低编译速度。默认值是 333</p> <p>max-gcse-memory</p> <p>可用来分配执行 GCSE （全局命令子表达式消除）的最大的内存量。如果没有足够的内存执行该操作，优化将无法进行。默认值是 50MB （ 52428800 ）</p> <p>max-gcse-passes</p> <p>GCSE （全局命令子表达式消除）的最大迭代次数。默认值是 1</p> <p>max-inline-insns</p> <p>在可以被扩展内嵌的方法中的最大指令数目。默认值是 600</p> <p>max-pending-list-length</p> <p>在跟踪机制重置槽位列表并重新开始前，可以由槽位调度器在一个等待依赖列表中排序的最大的分支元素数目。一个大函数可能产生成千上万的依赖关系。默认值是 32</p> <p> </p>                        　                            　            <a href="http://www.khp.com.cn/zhuanti/0613_1360GCC/d-015.htm" target="_blank" rel="external">上一页</a> <a href="http://www.khp.com.cn/zhuanti/0613_1360GCC/d-017.htm" target="_blank" rel="external">下一页 </a><a href="http://www.khp.com.cn/zhuanti/0613_1360GCC/index.html" target="_blank" rel="external">回专题首页</a> <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -Wl,option<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Pass option as an option to the linker.  If option contains commas,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        it is split into multiple options at the commas.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        -u symbol<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        Pretend the symbol symbol is undefined, to force linking of library<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        modules to define it.  You can use -u multiple times with different<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;        symbols to force loading of additional library modules.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       -fpic<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       Generate position-independent code (PIC) suitable for use in a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       shared library, if supported for the target machine.  Such code<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       accesses all constant addresses through a global offset table<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       (GOT).  The dynamic loader resolves the GOT entries when the pro-<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       gram starts (the dynamic loader is not part of GCC; it is part of<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       the operating system).  If the GOT size for the linked executable<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       exceeds a machine-specific maximum size, you get an error message<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       from the linker indicating that -fpic does not work; in that case,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       recompile with -fPIC instead.  (These maximums are 16k on the m88k,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       8k on the Sparc, and 32k on the m68k and RS/6000.  The 386 has no<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       such limit.)<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       Position-independent code requires special support, and therefore<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       works only on certain machines.  For the 386, GCC supports PIC for<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       System V but not for the Sun 386i.  Code generated for the IBM<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;       RS/6000 is always position-independent.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      -E  Stop after the preprocessing stage; do not run the compiler proper.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      The output is in the form of preprocessed source code, which is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      sent to the standard output.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      -MD -MD is equivalent to -M -MF file, except that -E is not implied.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      The driver determines file based on whether an -o option is given.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      If it is, the driver uses its argument but with a suffix of .d,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      otherwise it take the basename of the input file and applies a .d<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      suffix.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      If -MD is used in conjunction with -E, any -o switch is understood<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      to specify the dependency output file (but @pxref{-MF}), but if<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      used without -E, each -o is understood to specify a target object<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      file.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Since -E is not implied, -MD can be used to generate a dependency<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      output file as a side-effect of the compilation process.<br><br><br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -fno-builtin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -fno-builtin-function<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Don’t recognize built-in functions that do not begin with <strong>builtin_ as prefix.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    GCC normally generates special code to handle certain built-in functions more efficiently; for instance, calls to<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &quot;alloca&quot; may become single instructions that adjust the stack directly, and calls to &quot;memcpy&quot; may become inline<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    copy loops.  The resulting code is often both smaller and faster, but since the function calls no longer appear as<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    such, you cannot set a breakpoint on those calls, nor can you change the behavior of the functions by linking with<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a different library.  In addition, when a function is recognized as a built-in function, GCC may use information<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    about that function to warn about problems with calls to that function, or to generate more efficient code, even if<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    the resulting code still contains calls to that function.  For example, warnings are given with -Wformat for bad<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    calls to &quot;printf&quot;, when &quot;printf&quot; is built in, and &quot;strlen&quot; is known not to modify global memory.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    With the -fno-builtin-function option only the built-in function function is disabled.  function must not begin<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    with </strong>builtin_.  If a function is named this is not built-in in this version of GCC, this option is ignored.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    There is no corresponding -fbuiltin-function option; if you wish to enable built-in functions selectively when<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    using -fno-builtin or -ffreestanding, you may define macros such as:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    #define abs(n)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <strong>builtin_abs ((n))<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    #define strcpy(d, s)&nbsp;&nbsp;&nbsp;    </strong>builtin_strcpy ((d), (s))<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -ffreestanding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Assert that compilation takes place in a freestanding environment.  This implies -fno-builtin.  A freestanding<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    environment is one in which the standard library may not exist, and program startup may not necessarily be at<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    &quot;main&quot;.  The most obvious example is an OS kernel.  This is equivalent to -fno-hosted.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -fstrict-aliasing<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Allows the compiler to assume the strictest aliasing rules applicable to the language being compiled.  For C (and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    C++), this activates optimizations based on the type of expressions.  In particular, an object of one type is<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    assumed never to reside at the same address as an object of a different type, unless the types are almost the same.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    For example, an &quot;unsigned int&quot; can alias an &quot;int&quot;, but not a &quot;void<em>&quot; or a &quot;double&quot;.  A character type may alias any<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    other type.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Pay special attention to code like this:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    union a_union {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    int i;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    double d;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    };<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    int f() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a_union t;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    t.d = 3.0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    return t.i;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    The practice of reading from a different union member than the one most recently written to (called &quot;type-punning&quot;)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    is common.  Even with -fstrict-aliasing, type-punning is allowed, provided the memory is accessed through the union<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    type.  So, the code above will work as expected.  However, this code might not:<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    int f() {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    a_union t;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    int</em> ip;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    t.d = 3.0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    ip = &amp;t.i;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    return *ip;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    }<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Enabled at levels -O2, -O3, -Os.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -mkernel<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Enable kernel development mode.  The -mkernel option sets -static, -fno-common, -fno-cxa-atexit, -fno-exceptions,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -fno-non-call-exceptions, -fapple-kext, -fno-weak and -fno-rtti where applicable.  This mode also sets<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -mno-altivec, -msoft-float, -fno-builtin and -mlong-branch for PowerPC targets.<br><br><br>=========================&gt;&gt;&gt;&gt; Options Controlling CPP &lt;&lt;&lt;&lt;=============================<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -include file<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Process file as if &quot;#include &quot;file&quot;&quot; appeared as the first line of the primary source file.  However, the first<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  directory searched for file is the preprocessor’s working directory instead of the directory containing the main<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  source file.  If not found there, it is searched for in the remainder of the &quot;#include &quot;…&quot;&quot; search chain as<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  normal.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  If multiple -include options are given, the files are included in the order they appear on the command line.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -imacros file<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Exactly like -include, except that any output produced by scanning file is thrown away.  Macros it defines remain<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  defined.  This allows you to acquire all the macros from a header without also processing its declarations.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  All files specified by -imacros are processed before all files specified by -include.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -idirafter dir<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Search dir for header files, but do it after all directories specified with -I and the standard system directories<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  have been exhausted.  dir is treated as a system include directory.  If dir begins with &quot;=&quot;, then the &quot;=&quot; will be<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  replaced by the sysroot prefix; see –sysroot and -isysroot.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -iprefix prefix<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Specify prefix as the prefix for subsequent -iwithprefix options.  If the prefix represents a directory, you should<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  include the final /.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -iwithprefix dir<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  -iwithprefixbefore dir<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  Append dir to the prefix specified previously with -iprefix, and add the resulting directory to the include search<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  path.  -iwithprefixbefore puts it in the same place -I would; -iwithprefix puts it where -idirafter would.<br> <br><br>=========================&gt;&gt;&gt;&gt; Options Controlling C++ Dialect &lt;&lt;&lt;&lt;=============================<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -fabi-version=n<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Use version n of the C++ ABI.  Version 2 is the version of the C++ ABI that first appeared in G++ 3.4.  Version 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    is the version of the C++ ABI that first appeared in G++ 3.2.  Version 0 will always be the version that conforms<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    most closely to the C++ ABI specification.  Therefore, the ABI obtained using version 0 will change as ABI bugs are<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    fixed.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    The default is version 2.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -fno-enforce-eh-specs<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Don’t generate code to check for violation of exception specifications at runtime.  This option violates the C++<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    standard, but may be useful for reducing code size in production builds, much like defining NDEBUG.  This does not<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    give user code permission to throw exceptions in violation of the exception specifications; the compiler will still<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    optimize based on the specifications, so throwing an unexpected exception will result in undefined behavior.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -ffor-scope<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -fno-for-scope<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    If -ffor-scope is specified, the scope of variables declared in a for-init-statement is limited to the for loop<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    itself, as specified by the C++ standard.  If -fno-for-scope is specified, the scope of variables declared in a<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    for-init-statement extends to the end of the enclosing scope, as was the case in old versions of G++, and other<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    (traditional) implementations of C++.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    The default if neither flag is given to follow the standard, but to allow and give a warning for old-style code<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    that would otherwise be invalid, or have different behavior.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -fno-weak<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Do not use weak symbol support, even if it is provided by the linker.  By default, G++ will use weak symbols if<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    they are available.  This option exists only for testing, and should not be used by end-users; it will result in<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    inferior code and has no benefits.  This option may be removed in a future release of G++.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -nostdinc++<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Do not search for header files in the standard directories specific to C++, but do still search the other standard<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    directories.  (This option is used when building the C++ library.)<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -pedantic<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Issue all the warnings demanded by strict ISO C and ISO C++; reject all programs that use forbidden extensions, and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    some other programs that do not follow ISO C and ISO C++.  For ISO C, follows the version of the ISO C standard<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    specified by any -std option used.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Valid ISO C and ISO C++ programs should compile properly with or without this option (though a rare few will<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    require -ansi or a -std option specifying the required version of ISO C).  However, without this option, certain<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    GNU extensions and traditional C and C++ features are supported as well.  With this option, they are rejected.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    -Wformat<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    Check calls to &quot;printf&quot; and &quot;scanf&quot;, etc., to make sure that the arguments supplied have types appropriate to the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    format string specified, and that the conversions specified in the format string make sense.  This includes<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    standard functions, and others specified by format attributes, in the &quot;printf&quot;, &quot;scanf&quot;, &quot;strftime&quot; and &quot;strfmon&quot;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    (an X/Open extension, not in the C standard) families (or other target-specific families).  Which functions are<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    checked without format attributes having been specified depends on the standard version selected, and such checks<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    of functions without the attribute specified are disabled by -ffreestanding or -fno-builtin.<br><br><br><br><br><br> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/06/GCC-命令行选项-nodefaultlibs-nostartfiles-nostdlib/" class="archive-article-date">
  	<time datetime="2007-07-06T02:38:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-06</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-今天的流水帐" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/05/今天的流水帐/">今天的流水帐</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> 上午去公司打了个转，下午又闪了，唉，真是的我！<br>下午去问5舍假期的宿舍安排，居然25舍被抢光了，只有11舍了<img src="http://img.pickbox.me/wp-content/uploads/pic/other_site/img_baidu_i_f31.gif"><br>明天还得早点起去排队，祈祷有25舍的人搬离，祈祷。。。<br><br>唉，肚子好饿，吃一个蛋黄派，可惜绿茶卷放实验室冷藏去了，<br>不然可以尝一尝了，还一个都没吃！<br><br>晚上帮老师刻了一晚上的盘，20多张，刻得我无语了。为明天攒rp<br><br>还是很饿，再吃一个。晚上一个人在靓园吃的拌面，唉，没人陪我一起去堕<br>落一条街吃了。。。<img src="http://img.pickbox.me/wp-content/uploads/pic/other_site/img_baidu_i_f09.gif"><br><br>听歌。。。<br>室友正在听《大约在冬季》<br>轻轻的我将离开你<br>请将眼角的泪拭去<br>漫漫长夜里  未来日子里<br>亲爱的你别为我哭泣<br>前方的路虽然太凄迷<br>请在笑容里为我祝福<br>虽然迎著风  虽然下著雨<br>我在风雨之中念著你<br>没有你的日子里<br>我会更加珍惜自己<br>没有我的岁月里<br>你要保重你自己<br>你问我何时归故里<br>我也轻声地问自己<br>不是在此时  不知在何时<br>我想大约会是在冬季<br>不是在此时  不知在何时<br>我想大约会是在冬季<br>轻轻的我将离开你<br>请将眼角的泪拭去<br>漫漫长夜里  未来日子里<br>亲爱的你别为我哭泣<br>前方的路虽然太凄迷<br>请在笑容里为我祝福<br>虽然迎著风  虽然下著雨<br>我在风雨之中念著你<br>没有你的日子里<br>我会更加珍惜自己<br>没有我的岁月里<br>你要保重你自己<br>你问我何时归故里<br>我也轻声地问自己<br>不是在此时  不知在何时<br>我想大约会是在冬季<br>不是在此时  不知在何时<br>我想大约会是在冬季 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/05/今天的流水帐/" class="archive-article-date">
  	<time datetime="2007-07-05T15:50:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-05</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-attitude" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/07/02/attitude/">attitude!!!</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> 如果将英语的26个字母由A到Z分别编上1到26的话,     <br>你的知识只有 KNOWLEDGE=11+14+15+23+12+5+4+7+5=96分     <br>你的努力也只有 HARDWORK=8+1+18+4+23+15+18+11=98分     <br>但是你的态度有ATTITUDE=1+20+20+9+20+21+4+5=100分 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/07/02/attitude/" class="archive-article-date">
  	<time datetime="2007-07-02T03:38:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-07-02</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-想象5年后的你" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/06/21/想象5年后的你/">想象5年后的你</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> 想象5年后的你 <br>  让我与你共同分享一段小故事，或许在这个阶段，可以很实际地让我们走出目前<br>的困境<br>  一九七六年的冬天，当时我十九岁，在休斯顿太空总署的大空梭实验室里工作，<br>同时也在总署旁边的休斯顿大学主修电脑。纵然忙于学校、睡眠与工作之间，这几<br>乎占据了我一天二十四小时的全部时间，但只要有多余的一分钟，我总是会把所有<br>的精力放在我的音乐创作上。<br>  我知道写歌词不是我的专长，所以在这段日子里，我处处寻找一位善写歌、词的<br>搭档，与我一起合作创作。我认识了一位朋友，她的名字叫凡內芮（Valerie John<br>son）。自从二十多年前离开德州后，就再也没听过她的消息，但是她却在我事业的<br>起步时，给了我最大的鼓励。仅十九岁的凡內芮在德州的诗词比赛中，不知得过多<br>少奖牌。她的写作总是让我爱不释手，当时我们的确合写了许多很好的作品，一直<br>到今天，我仍然 认为这些作品充满了特色与创意。 <br>  一个星期六的周末，凡內芮又热情地邀请我至她家的牧场烤肉。她的家族是德州<br>有名的石油大亨，拥有庞大的牧场。她的家庭虽然极为富有，但她的穿着、所开的<br>车、与她谦诚待人的态度，更让我加倍地打从心底佩服她。凡內芮知道我对音乐的<br>执着。然而，面对那遥远的音乐界及整个美国陌生的唱片市场，我们一点管道都没<br>有。此时，我们两个人坐在德州的乡下，我们哪知道下一步该如何走。突然间，她<br>冒出了一句话：<br>  &quot; Visualize ，What you are doing in 5 years？ ﹙想像你五年后在做什么？<br>﹚&quot; <br>  我愣了一下。<br>  她转过身来，手指着我说：&quot;嘿！告诉我，你心目中&rsquo;最希望&rsquo;五年后的你在做什<br>么，你那个时候的生活是一个什么样子？&quot;我还来不及回答，她又抢着 说：&quot;別急，<br>你先仔细想想，完全想好，确定后再说出来。&quot;我沉思了几分钟，开始告诉她：&quot;第<br>一，五年后，我希望能有一张唱片在市场上，而这张唱片很受欢迎，可以得到许多<br>人的肯定。第二，我住在一个有很多很多音乐的地方，能天天与一些世界一流的乐<br>师一起工作。&quot; <br>  凡內芮说：&quot;你确定了吗？&quot;<br>  我慢慢稳稳地回答，而且拉了一个很长的Yesssssss！ <br>  凡內芮接着说：&quot;好，既然你确定了，我们就把这个目标倒算回来。如果第五年，<br>你有一张唱片在市场上，那么你的第四年一定是要跟一家唱片公司签上合约。&quot;<br>  &quot;那么你的第三年一定是要有一个完整的作品，可以拿给很多很多的唱片公 司听<br>，对不对？&quot; <br>  &quot;那么你的第二年，一定要有很棒的作品开始录音了。&quot;<br>  &quot;那么你的第一年，就一定要把你所有要准备录音的作品全部编曲，排练就位准备<br>好。&quot;<br>  &quot;那么你的第六个月，就是要把那些没有完成的作品修饰好，然后让你自己可以逐<br>一筛选。&quot; <br>  &quot;那么你的第一个月就是要把目前这几首曲子完工。&quot;<br>  &quot;那么你的第一个礼拜就是要先列出一整个清单，排出哪些曲子需要修改， 哪些<br>需要完工。&quot; <br>  &quot;好了，我们现在不就已经知道你下个星期一要做什么了吗？&quot;凡內芮笑笑地说。<br><br>  &quot;喔，对了。你还说你五年后，要生活在一个有很多音乐的地方，然后与许多一流<br>的乐师一起忙着工作，对吗？&quot;她急忙地补充说。&quot;如果，你的第五年已经在与这些<br>人一起工作，那么你的第四年照道理应该有你自己的一个工作室或录音室。那么你<br>的第三年，可能是先跟这个圈子里的人在一起工作。那么你的第二年，应该不是住<br>在德州，而是已经住在纽约或是洛杉机了。&quot; <br>  次年(一九七七年)，我辞掉了令许多人羨慕的太空总署的工作，离开了休斯顿，<br>搬到洛杉机。<br>  说也奇怪：不敢说是恰好五年，但大约可说是第六年。一九八三年，我的唱片在<br>亚洲开始销起来，我一天二十四小时几乎全都忙着与一些顶尖的音乐高手，日出日<br>落地一起工作。 <br>  每当我在最困惑的时候，我会静下来问我自己：五年后你&quot;最希望&quot;看到你自己在<br>做什么？<br>  如果，你自己都不知道这个答案的话，你又如何要求別人或上帝为你做选择或开<br>路呢？ 別忘了！在生命中，上帝已经把所有&quot;选择&quot;的权力交在我们的手上了。 <br>  如果，你对你的生命经常在问&quot;为什么会这样？&quot;&quot;为什么会那样？&quot;的时候，你不<br>妨试着问一下自己，你是否很&quot;清清楚楚&quot;地知道你自己要的是什么？ <br>  如果连你自己要的是什么都不知道的话，那么爱你的主又如何帮你安排呢？不是<br>吗？<br>  而在你旁边的人，再怎么热心地为你敲锣打鼓，爱你的主也顶多给一些慈悲的安<br>慰。因为连你自己都还没有清楚地告诉他，你要的是什么？那么你又岂能无辜地怪<br>上帝没有为你开路呢？不是吗？<br>  有这样一篇调查似乎也说明了什么： <br>  有一年，一群意气风发的天之骄子从美国哈佛大学毕业了，他们即将开始穿越各<br>自的玉米地。他们的智力、学历、环境条件都相差无几。在临出校门前，哈佛对他<br>们进行了一次关于人生目标的调查。结果是这样的： <br>  27％的人，没有目标；60％的人，目标模糊； <br>  10％的人，有清晰但比较短期的目标； <br>  3％的人，有清晰而长远的目标。 <br>  以后的25年，他们穿越玉米地。25年后，哈佛再次对这群学生进行了跟踪调查。<br>结果又是这样的： <br>  3％的人，25年间他们朝着一个方向不懈努力，几乎都成为社会各界的成功人士，<br>其中不乏行业领袖、社会精英； <br>  10％的人，他们的短期目标不断地实现，成为各个领域中的专业人士，大都生活<br>在社会的中上层； <br>  60％的人，他们安稳地生活与工作，但都没有什么特别成绩，几乎都生活在社会<br>的中下层； <br>  剩下27％的人，他们的生活没有目标，过得很不如意，并且常常在抱怨他人、抱<br>怨社会、抱怨这个&ldquo;不肯给他们机会&rdquo;的世界。 <br>  其实，他们之间的差别仅仅在于：25年前，他们中的一些人知道为什么要穿越玉<br>米地，而另一些人则不清楚或不很清楚。 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/06/21/想象5年后的你/" class="archive-article-date">
  	<time datetime="2007-06-21T15:28:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-06-21</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-做最好的自己" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/06/19/做最好的自己/">做最好的自己</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <br>上帝给了我生命，我的任务就是尽一切努力，将它变得比原来的好。而不是去和别人的比较。 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/06/19/做最好的自己/" class="archive-article-date">
  	<time datetime="2007-06-19T11:46:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-06-19</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-真的，要毕业了！" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/06/18/真的，要毕业了！/">真的，要毕业了！</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
         <p>真的，要毕业了！<br>怀念在机房看卡通时的痴迷与忐忑，还念堕落而归时的自责和复习线性代数时的120分钟热气，怀念站在教西走廊上仰望星空时的迷茫与决心和漆黑中夜空的那份豁达，怀念走在教学楼里的无力和脑中一遍又一遍默念的大话西游经典台词，怀念马路对面空旷工地上高大变幻的树影，怀念在校友书屋中阅读金庸小说中的英雄，怀念火车上15个小时的归途期盼和征途憧憬以及一张张陌生而又真实亲切的面孔，怀念邹着眉头入睡的每一个夜晚的考验，怀念对朋友的渴望中学会的宽容，怀念在错误中用肩膀扛起自己的责任，怀念在自己的反省中学会对自己说实话，怀念受到挫折后在失落中寻找回内心深处的自我，怀念毕业晚会上交织在一起的欢声笑语和莫名忧伤，怀念彼此猜测的那份不安和期望，怀念在校园各个角落里和你一起走过的足迹和每个身影，怀念离别时的泪水和拥抱。。。</p><p>一切一切的怀念构成了生命中不可或缺的色彩，呼唤着下一轮回忆中的从容与豁达，太阳还会从东方升起，至少在地球上是这样，在新一轮的回忆中，坚定、感激、珍惜。。。</p><p>明天开始新的征程。。。</p><p> </p><p> </p> 
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/06/18/真的，要毕业了！/" class="archive-article-date">
  	<time datetime="2007-06-17T16:58:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-06-18</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/49/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/48/">48</a><a class="page-number" href="/page/49/">49</a><span class="page-number current">50</span><a class="page-number" href="/page/51/">51</a><a class="page-number" href="/page/52/">52</a><span class="space">&hellip;</span><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/51/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 jfo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">87</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino-OpenWrt/">Arduino/OpenWrt</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DefaultCategory/">DefaultCategory</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Computing/">Distributed Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Google/">Google</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-App/">Linux App</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Debug/">Linux Debug</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Virtualization/">Linux Virtualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OS-X/">Mac OS X</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Saying/">Saying</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebDev/">WebDev</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-algorithm/">c/c++/algorithm</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cocos2d-x-模拟器/">cocos2d-x/模拟器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/com组件/">com组件</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js-html-python/">js/html/python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/l4ka-pistachio-iguana/">l4ka::pistachio/iguana</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux-图形/">linux 图形</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/self-collect/">self_collect</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/教育/">教育</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学-物理/">数学/物理</a><span class="category-list-count">3</span></li></ul>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iguangba.pickbox.me/">爱逛吧</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.pickbox.me/">收藏夹</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://note.pickbox.me/">网络剪贴板</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">jfojfo#gmail.com</div>
  	  	
    	</section>
    
  </div>
  
</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>