<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>jfo planet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="jfo planet">
<meta property="og:url" content="http://blog.pickbox.me/page/57/index.html">
<meta property="og:site_name" content="jfo planet">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jfo planet">
  
    <link rel="alternative" href="/atom.xml" title="jfo planet" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">jfo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">分类</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">jfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">jfo</h1>
			</hgroup>
			
			<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-经典情感箴言锦集" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/03/18/经典情感箴言锦集/">经典情感箴言锦集</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
         <p>（1）世界上最远的距离，不是我们天涯海角，相隔万里，而是我就在你面前，而你却不知道我爱你。&nbsp;&nbsp;</p><p><br>（2）你在我身边的时候，你是一切，你不在我身边的时候，一切是你。&nbsp;&nbsp;</p><p><br>（3）我爱你，甚至可以为你去死，但是我不能死；并不是我怕死，而是我怕我死了以后，没有人像我这样爱你。&nbsp;&nbsp;</p><p><br>（4）如果爱你是“错”的，我不愿意“对”；如果“对”是不能爱你，我宁愿“错”一辈子。&nbsp;&nbsp;</p><p><br>（5）只要有一双真诚的眼睛为我流泪，就值得我为生命受苦。&nbsp;&nbsp;</p><p><br>（6）除了不让我爱你这个条件拒绝之外，我可以答应你所有的承诺。&nbsp;&nbsp;</p><p><br>（7）没有你的日子，也许我会活着，但永远也不会快乐。&nbsp;&nbsp;</p><p><br>（8）只要我有，只要你要。&nbsp;&nbsp;</p><p><br>（9）我爱的女孩要嫁人，我对她说：“只要你完整，我乐于破碎”。&nbsp;&nbsp;</p><p><br>（10）当你对我说“我们不可能”时，我在心里默默的祈祷：“愿上帝保佑你，你的另一个他，能像我一样喜欢你，爱你”。&nbsp;&nbsp;</p><p><br>（11）执子之手，与子携老。&nbsp;&nbsp;</p><p><br>（12）你微笑着静静的看着我，我觉得着就是我久候的。&nbsp;&nbsp;</p><p><br>（13）我决定离开这个充满着琐碎和平淡的房子，拎着箱子，拉开车门，那个男人气喘吁吁地赶来按着我的手，哑着声说：“还有一样东西忘了带，把我装进箱子吧”。&nbsp;&nbsp;</p><p><br>（14）那些我们以为永远不会忘记的事情，就在我们念念不忘的过程中被我们忘记了。&nbsp;&nbsp;</p><p><br>（15）输了你，赢了世界又如何。&nbsp;&nbsp;</p><p><br>（16）一个女生悄悄对我说：“我不爱你是以为你不爱我”。&nbsp;&nbsp;</p><p><br>（17）三十年后，如果世上还有“坚持”这个词，我希望它属于我；三十年后，如果世上还有“感动”这个词，我希望它属于你。&nbsp;&nbsp;</p><p><br>（18）爱上你，只用了一秒；忘记你，却用去了我一生的时间。&nbsp;&nbsp;</p><p><br>（19）有你，我无须再快乐，因为你就是我的快乐。&nbsp;&nbsp;</p><p><br>（20）也许有一次约会，至今尚未如期；也许有一次热恋，终生不能相许。&nbsp;&nbsp;</p><p><br>（21）想有一天能向你表白：“我们在一起，五十年够不够”。&nbsp;&nbsp;</p><p><br>（22）如果你爱我，你就亲我一下：如果你不爱我，我就亲你一下，这样总可以了吧。&nbsp;&nbsp;</p><p><br>（23）以后会怎么样我不知道，但我知道，今天，我爱你。&nbsp;&nbsp;</p><p><br>（24）爱你就等于爱自己。&nbsp;&nbsp;</p><p><br>（25）过马路的时候，他说：“来，把你的手给我”。&nbsp;&nbsp;</p><p><br>（26）终于有一天我很冒失的问她：“愿意嫁给我吗？”她很用力的点了点头，什么也没说。 </p><p><br>（27）我最高兴的事就是一个人的时候静静的想你。&nbsp;&nbsp;</p><p><br>（28）你若流泪，湿的总是我的脸；你若悲苦，苦的总是我的心。&nbsp;&nbsp;</p><p><br>（29）我能想到最浪漫的事，就是和你一起慢慢变老。</p> 
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/03/18/经典情感箴言锦集/" class="archive-article-date">
  	<time datetime="2007-03-18T04:05:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-03-18</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Life/">Life</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-bug" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/02/28/bug/">bug</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <a href="http://blog.csdn.net/g9yuayon/category/22978.aspx" target="_blank" rel="external">http://blog.csdn.net/g9yuayon/category/22978.aspx</a><br><br>1.reactos0.3.0/ntoskrnl/ke/apc.c<br><a name="L1070" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1070" target="_blank" rel="external">1070</a> static <br><a name="L1071" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1071" target="_blank" rel="external">1071</a>  ( Original,<br><a name="L1072" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1072" target="_blank" rel="external">1072</a>                  ,<br><a name="L1073" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1073" target="_blank" rel="external">1073</a>                  Mode)<br>===============&gt;<br><a name="L1070" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1070" target="_blank" rel="external">1070</a> static <br><a name="L1071" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1071" target="_blank" rel="external">1071</a>  ( ,<br><a name="L1072" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1072" target="_blank" rel="external">1072</a>                  Original,<br><a name="L1073" href="http://10.2.10.141/lxr/source/ntoskrnl/ke/apc.c?v=reactos0.3.0#L1073" target="_blank" rel="external">1073</a>                  Mode)<br><br>2.reactos0.3.0/dll/ntdll/ldr/utils.c<a name="L1754" href="http://10.2.10.141/lxr/source/dll/ntdll/ldr/utils.c?v=reactos0.3.0#L1754" target="_blank" rel="external">1754</a>                if (WrongForwarder ||<br><a name="L1755" href="http://10.2.10.141/lxr/source/dll/ntdll/ldr/utils.c?v=reactos0.3.0#L1755" target="_blank" rel="external">1755</a>                    ImportedModule-&gt;Flags &amp; )<br>==============&gt;<br><a name="L1754" href="http://10.2.10.141/lxr/source/dll/ntdll/ldr/utils.c?v=reactos0.3.0#L1754" target="_blank" rel="external">1754</a>                if (WrongForwarder &amp;&amp;<br><a name="L1755" href="http://10.2.10.141/lxr/source/dll/ntdll/ldr/utils.c?v=reactos0.3.0#L1755" target="_blank" rel="external">1755</a>                    ImportedModule-&gt;Flags &amp; ) <br><br><br><br>3.unifiedkernel/kernel/mm/mmap.c<br><a name="L1169" href="http://10.214.6.32/lxr/source/kernel/mm/mmap.c?v=unifiedkernel2#L1169" target="_blank" rel="external">1169</a>         if (!(flags &amp; MAP_FIXED)) {<br><a name="L1170" href="http://10.214.6.32/lxr/source/kernel/mm/mmap.c?v=unifiedkernel2#L1170" target="_blank" rel="external">1170</a>                 if ( &gt; TASK_SIZE)<br><a name="L1171" href="http://10.214.6.32/lxr/source/kernel/mm/mmap.c?v=unifiedkernel2#L1171" target="_blank" rel="external">1171</a>                         return -ENOMEM;<br>  ……<br> MAP_FIXED的情况没有考虑<br><br><br><br>4.unifiedkernel/module/ps/thread.c<br><a href="http://10.214.6.32/lxr/source/module/ps/thread.c?v=unifiedkernel2#L321" name="L321" target="_blank" rel="external">321</a>         write_lock(&amp;process-&gt;ep_lock);<br><a href="http://10.214.6.32/lxr/source/module/ps/thread.c?v=unifiedkernel2#L322" name="L322" target="_blank" rel="external">322</a>         thread-&gt;threads_process = process;<br><a href="http://10.214.6.32/lxr/source/module/ps/thread.c?v=unifiedkernel2#L323" name="L323" target="_blank" rel="external">323</a>         write_unlock(&amp;process-&gt;ep_lock);<br>…<br><a href="http://10.214.6.32/lxr/source/module/ps/thread.c?v=unifiedkernel2#L340" name="L340" target="_blank" rel="external">340</a>         thread-&gt;threads_process = process;<br> 前后重复，是否考虑加锁？<br><br><a href="http://10.214.6.32/lxr/source/module/ps/thread.c?v=unifiedkernel2#L342" name="L342" target="_blank" rel="external">342</a>         list_add_tail(&amp;thread-&gt;thread_list_entry, &amp;process-&gt;thread_list_head);<br> 与<br><a href="http://10.214.6.32/lxr/source/module/ps/thread.c?v=unifiedkernel2#L346" name="L346" target="_blank" rel="external">346</a>         (&amp;thread-&gt;tcb, process);<br> 重复操作：list_add_tail(&amp;thread-&gt;thread_list_entry, &amp;process-&gt;thread_list_head);<br><br><br><br>5.unifiedkernel/module/ps/process.c<br><a name="L279" href="http://10.214.6.32/lxr/source/module/ps/process.c?v=unifiedkernel2#L279" target="_blank" rel="external">279</a>         (child_ethread, child_eprocess, child_task);<br><a name="L282" href="http://10.214.6.32/lxr/source/module/ps/process.c?v=unifiedkernel2#L282" target="_blank" rel="external">282</a>         (child_ethread-&gt;et_task, child_ethread);<br> 重复操作: (child_ethread-&gt;et_task, child_ethread); </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/02/28/bug/" class="archive-article-date">
  	<time datetime="2007-02-28T14:31:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-02-28</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-xiao-hua" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/02/28/xiao-hua/">xiao hua</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
         <p> </p><p><strong>现在的金融危机太离谱了！刚才面试后，等过会再打电话过去问点事，结果没想到连面试官都给裁掉了！</strong></p><p><strong><br></strong></p><p><strong>QQ上，MM发来消息：给我举几个大器晚成的例子，我论文要用！<br>偶：黄忠六十跟刘备，德川家康七十打天下，姜子牙八十为丞相，佘太君百岁挂帅，孙悟空五百多岁西天取经，白素贞一千多岁下山谈恋爱！~</strong></p><p><strong><br></strong></p><p>有一个胖子….从二十楼顶往下跳….结果变成了…..死胖子!!</p><p> </p><p>这位跳水运动员的动作难度很大，他做了一个转体三周接前空翻三周半接后空翻一个月。</p><p> </p><p>—————————-</p><p>1、怎么样让蚊子不叮我们呢？<br><br>答：请一个保姆在门口守着。(保姆血溅三尺…)<br><br>在身上涂点油，蚊子蹬上去就会滑掉了。<br><br>身上涂点胶水，就把蚊子粘在上面了。<br><br><br><br>2、为什么现在没有恐龙了？<br><br>答：恐龙去拍电影了。(原来如此…)<br><br><br><br>3、如果有一天大海里没有水了，鱼怎么办呢？<br><br>答：让小河里的水流到大海里去，再放点盐就变成大海了。　(明白海水和淡水的区别呀<br>！)<br><br>叫鱼学会在陆地上呼吸。(动物就是酱紫进化的…)<br><br><br><br>4、小鸟的尾巴有什么作用？<br><br>答：可以盖屁股。(遮羞用的啊…)；<br><br>跳舞的时候张开很好看。<br><br><br><br>5、小朋友的脸是干什么用的？<br><br>答：我的脸可以用来洗脸。(捶地…)；<br><br>没有脸的话，舌头、牙齿、鼻子、眼睛和嘴巴都要露在外面了。&quot;<br><br>我的脸是给爷爷奶奶捏的。<br><br><br><br>6、人为什么不是蛋孵出来的？<br><br>答：小鸡有尖嘴巴，人没有尖嘴巴，我们没办法从壳里钻出来的。<br><br>有翅膀的动物才会从蛋里生出来。(这个倒有些道理。)<br><br>我妈妈一生完就把我抱出来了。<br><br><br><br>7、为什么小孩是从妈妈肚子里生出来的，不是从爸爸肚子里生出来的？<br><br>答：爸爸肚子里都是啤酒，生出来的孩子都是醉的。<br><br>爸爸没有产假，妈妈有产假。(爸爸血溅三尺…)<br><br>爸爸是男的，如果生孩子，就会难产。(爸爸继续血溅三尺…)<br><br><br><br>8、人的鼻子有什么用处？<br><br>答：没有鼻子就不能闻出饭菜的味道，吃了就很怪的。<br><br>没鼻子的话，鼻毛和鼻涕就没地方住了。(抱头…)<br><br>没鼻子香水就卖不掉了。<br><br><br><br>9、头发有什么用处？<br><br>答：冬天不会被雪砸破头。<br><br>给理发师一点事做。(理发师血溅三尺…)<br><br><br><br>10、爸爸为什么要刮胡子？<br><br>答：胡子长了喝稀饭不方便。<br><br>胡子长了他的脸会疼的。<br><br>胡子长长了会变成头发的。<br><br><br><br>11、有什么办法让胖子瘦下来，让瘦子胖起来？<br><br>答：瘦子多打拳击，胖子做靶。(胖子血溅三尺…)<br><br>叫胖子多喝点水，肚子就会变得很大很大，一揿，就瘦了。(胖子继续血溅…)<br><br><br><br>12、如果你家门口撞死一只兔子，你爸爸妈妈会怎么办呢？<br><br>答：我妈妈会把它送到医院的。<br><br>我爸爸会高兴地流口水。　(爸爸：…)<br><br><br><br>–<br><br>答：瘦子多打拳击，胖子做靶。(胖子血溅三尺…)<br><br>叫胖子多喝点水，肚子就会变得很大很大，一揿，就瘦了。(胖子继续血溅…)<br><br><br><br>12、如果你家门口撞死一只兔子，你爸爸妈妈会怎么办呢？<br><br>答：我妈妈会把它送到医院的。<br><br>我爸爸会高兴地流口水。　(爸爸：…)<br><br>—————————-</p><p> </p><p>同学们出游，爬到山顶，一女生特兴奋的站在山顶大喊：祖国啊，我的母亲！（我觉 得这句比较河蟹）然后一暗恋此女的男生特振奋的大喊：祖国啊，我的丈母娘！</p><p>我和老婆去卧佛寺游玩，老婆路上走不动，于是我背她。 一个老婆婆看见了，严肃的说：看你也是读过书的人。老婆有病还是早点去医院，拜 佛是没用的。</p><p>一个同事的亲戚来厦门，亲戚给了一张厦门e卡通，上公车，此人 给司机看了一下e卡通，就想去找位置了，司机叫住他，说：&quot;读卡啊&quot;，他就拿起e卡 通，大声念到：&quot;厦门e卡通～～&quot;，司机说：&quot;到那边读&quot;，这人居然直接走到司机指 的地方，用尽全力念道：&quot;厦门e卡通&quot;，……车子当场失控</p><p>老师讲题喜欢投身其中，一天老师讲题：“我的底面半径是20cm，我的高是50cm ，那么我…”下面有人接话说：“是饭桶…”</p><p> </p><p>中国领导人和美国领导人比谁的保镖更忠诚，美国领导人命令保镖从10楼跳下去<br>，保镖跪下说：“别这样，我还有家人。”。于是美国总统心软了。中国领导人命<br>令保镖跳下去，中国保镖二话不说就要跳。美国总统吓得赶紧拉住他。中国保镖<br>说：“别这样，我还有家人。”</p><p> </p><p>据说一个飞机上有炸弹的概率为十万分之一，但某人并不认为这个概率很小。概率小毕<br>竟意味者可能，每天航班这么多，十万分之一确实不是一个小数目。因此，这个人从来<br>不敢坐飞机。有一次，他居然和朋友上了飞机，朋友吃惊地问，你咋不害怕了。他说，<br>飞机上有一个炸弹的概率不是十万分之一么？那么飞机上同时有两个炸弹的概率就是一<br>百亿分之一了，对吧。朋友说，对，一百亿分之一已经很小了。这人说，那好，我自己<br>已经带了一颗炸弹上来。</p><p><br> </p><p>  护士看到一病人在病房喝酒，就走过去小声地对他说：“小心肝！”病人微笑着说：“小宝贝。”</p><p> 首长：同志们好！士兵：首长好！首长：同志们都晒黑了！士兵：首长更黑！首长拍一士兵的胸部说：这肌肉练得多好！士兵：报告首长，我是女兵。<br> <br> 有个腼腆的男孩终于鼓足勇气问心爱的女孩：你喜欢什么样的男孩子？女孩说： 投缘的。男孩再问还是一样，他只好伤心地说：头扁一点的不行吗？<br> <br> 一醉汉不慎从三楼掉下,引来路人围观,一pol.ice过来:发生什么事?醉汉:不清楚,我也是刚到。<br><br>你那边有没有电视啊?现在快点看中央一台赵本山被炸死了,pol.ice封锁了东北,19人死亡,11人失踪,1人被忽悠!<br> <br>一位在美的留学生，想要考国际驾照。在考试时因为过于紧张，看到地上标线是向左转。他不放心的问道:turn left？监考官回答：right.于是他立刻向右转。很抱歉他只有下次再来。<br><br>蛇、蚂蚁、蜘蛛、蜈蚣几个人在家里搓麻将。8圈之后，烟抽完了。大家商量让谁去买烟。蛇说：我没脚，我不去，让 蚂蚁去。蚂蚁说：蜘蛛八只脚，比我的多，让蜘蛛去。蜘蛛说：我的脚再多也比不过蜈蚣大哥呀，让蜈蚣去吧。蜈蚣无奈，心想：没办法，谁让我脚多呢？于是蜈蚣 出门去买烟.一个多钟头了，不见蜈蚣回来，两个钟头后，还不见蜈蚣买烟回来。于是大家让蜘蛛出去看看，蜘蛛一出门就看见蜈蚣在门口坐着，蜘蛛很生气，问： 你怎么还不去呀？大家等着呢。蜈蚣也急了，说道：废话！你们总得等我穿好鞋吧！<br></p><p>你那边有没有电视啊?现在快点看中央一台赵本山被炸死了,pol.ice封锁了东北,19人死亡,11人失踪,1人被忽悠!<br> <br>1.茉莉花、太阳花、玫瑰花，哪一朵花最没力？<br>2.猩猩最讨厌什么线？平行线没有相交(香蕉)。<br> 3.象皮、老虎皮、狮子皮哪一个比较不好？橡皮擦(橡皮差)。<br> 4.布跟纸怕什么？不怕万一，只怕万一<br>5.麒麟飞到北极会变成什么？冰淇凌<br>6.谁卖忘情水？<br>7.铅笔姓什么？削(萧)铅笔<br> 8.哪位历史人物最欠扁？苏武  苏武牧羊北海边(被海扁)<br> 9.123456789哪个数字最懒惰？哪个数字最勤劳？一不做二不休<br>10.怎样使麻雀安静下来？压它一下  鸦雀无声(压雀无声)<br>11.历史上哪个人跑的最快? 说曹操曹操到<br>12.米她妈是谁&#160;&#160;    花生米<br>13.小白加小白等于什么？小白TWO</p><p> <br>两只青蛙相爱了，结婚后生了一个蛤嫫，公青蛙见状大怒说：贱人，怎么回事 母青蛙哭着说：他爹，认识你之前我整过容。 </p><p>小驴问老驴：为啥咱们天天吃干草，而奶牛顿顿精饲料 老驴叹到：咱爷们比不了，我们是靠跑腿吃饭，人家是靠胸脯吃饭！ </p><p>鸭子和螃蟹赛跑,一起到达终点，难分胜负，裁判说：你们来个剪刀石头布吧 鸭子大怒：妈的，算计我?我一出是布，他总是剪刀。 </p><p>狗对熊说：嫁给我吧,嫁给我你会幸福。熊说：才不嫁呢，嫁给你只会生狗熊，我要嫁给猫，生熊猫那才尊贵呢! </p><p>老鳖调戏河蚌，被咬，老鳖忍痛拖着河蚌来回爬，青蛙见了敬佩的说：乖乖，鳖哥混大了，出入都加着公文包。<br></p><p> </p><p> </p><p> </p><p> </p>唐僧的家书: <br>亲爱的悟空，我这封信写的很慢，因为知道你看字不快。<br>我们已经搬家了，不过地址没改，因为搬家的时候把门牌带来了。<br>这礼拜下两次雨，第一次下3天，第二次下4天。<br>昨天我们去买比撒，店员问我要切成8片还是12片，我说8片就成了，12片吃不完。<br>我给你寄去件外套，怕邮寄时超重，把扣子剪下来放口袋里了。 <br>嫦娥生了，因为不知道是男是女，所以不知道你是该当舅舅还是阿姨。<br>最后告诉你本来想给你寄钱。可是信封已经封上了<br>五一快到了,别忘了给孩子们讲讲很久很久很久以前的事：那时候天还是蓝的，水也是绿的，庄稼是长在地里的，猪肉是可以放心吃的，耗子还是怕猫的，法庭是讲理的，结婚是先谈恋爱的，理发店是只管理发的，药是可以治病的，医生是救死扶伤的，拍电影是不需要陪导演睡觉的，照相是要穿衣服的，欠钱是要还的，孩子的爸爸是明确的，卖狗肉是不能挂羊头的，结婚了是不能泡MM的，买东西是要付钱的，看完不转发出去是要被打屁股的。<br><br><p> </p>某吝啬鬼去酒吧喝酒，掏出事先准备好的钱叫了一杯啤酒。喝到一半，他觉得内急，想上洗手间。但是又怕酒被别 人喝掉。于是，他向服务生借了笔和纸。在纸上写了：我在杯里吐了一口痰。然后，他放心的走了。一会儿，他回来，发现酒还在那里，他很高兴。但是，他又发现 纸条上多了几个字：我也吐了一口！<br><br>一游泳教练在商场里购物。一个漂亮的女士向他打招呼。他定睛一看，是他的一个学员。他于是大声说到：&quot;你穿上衣服，还还真认不出你！&quot;<p>一个消化不良的病人向医生抱怨：我近来很不正常，吃什么拉什么，吃黄瓜拉黄瓜,吃西瓜拉西瓜，怎样才能恢复正常呢？医生沉默片刻，那你只能吃屎了。</p><p>深夜一人穿越坟场时听到敲击声，越听越怕，终于他见到一人在刻墓碑。松了口气向对方说：差点吓死我！你在干嘛？答：他们把我的名字刻错了，我改改！</p>6、有一对男女正在吃晚餐<br>那个女生一直问那个男生 :你爱不爱我 ?<br>男生看了女生一眼又继续吃晚餐<br>女生很生气又再问了一次: 你爱不爱我?<br>男生终于说 :爱<br>女生又问 :那你要怎么证明?<br>忽然男生从口袋里拿了三十元出来 ,<br>且问女生 :你有没有十元?<br>女生拿了十元给了男生..<br>男生就把四十元放在桌上<br>过了一会儿 …..<br>女生很生气的问男生 :你到底要不要证明你爱我啊<br>男生说：我己经证明了啊!!! 四十摆在眼前！<br><br><p> </p><p>2 、一个人在沙漠里快要饿死了，这时他捡到了神灯。<br>神灯：&quot; 我只可以实现你一个愿望，快说吧，我赶时间。&quot;<br>人： &quot;我要老婆 ……&quot;<br>神灯立刻变出一个美女，然后不屑的说：&quot; 都快饿死了还贪图美色！可悲！ &quot;说完就<br>消失了。<br>人：&quot;……饼。 &quot;</p><p>12 、有一天动物们在关公庙前面闻到很臭的味道。<br>蛇说：「我这么小不会放这么臭的屁，一定是牛。」<br>牛说：「我是吃草的不会放这么臭的屁。」<br>猪说：「放屁的人一定会脸红。」<br>忽然关公冲了出来，把猪打飞说：「说了多少次了，我脸红是天生的。」</p><p>13 、有个人一天碰到上帝..<br>上帝突然大发善心打算给那人一个愿望….<br>上帝问 …<br>你有什么愿望吗…<br>那个人想了想…<br>听说猫都有 9条命…<br>那请您赐给我 9条命吧 ..<br>上帝说..<br>你的愿望实现咯….<br>一天，那个人闲来无聊 …<br>想说去死一死算了…<br>反正有9条命嘛<br>就躺在铁轨上 ….<br>结果一辆火车开过去 ….<br>那人还是死了 …<br>这是为什么呢？<br>因为那列火车的车厢有 10节 …</p><p> </p><p> </p><p> </p> 
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/02/28/xiao-hua/" class="archive-article-date">
  	<time datetime="2007-02-28T06:44:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-02-28</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Saying/">Saying</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-English-motto" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2007/01/26/English-motto/">English motto</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> </p><p>Don’t waste your time on a man/woman,who isn’t willing to waste their time on you. <br>不要为那些不愿在你身上花费时间的人而浪费你的时间。 <br><br>Just because someone doesn’t love you the way you want them to,doesn’t mean they don’t love you with all they have. <br>爱你的人如果没有按你所希望的方式爱你，那并不代表他们没有全心全意地爱你。 <br><br>Don’t try to hard,the best things come when you least expect them to. <br>不要着急，最好的总会在最不经意的时候出现。 <br><br>Maybe God wants us to meet a few wrong people before meeting the right one,so that when we finally meet the person,we will know how to be grateful. <br>在遇到梦中人之前，上天也许会安排我们先遇到别人；在我们终于遇见心仪的人时，便应当心存感激。 <br><br>Don’t cry because it is over,smile because it happened. <br>不要因为结束而哭泣，微笑吧，为你的曾经拥有。 <br><br>Life is a pure flame,and we live by an invisible sun within us. <br>——-Sir Thomas Browne <br>&ldquo;生命是束纯净的火焰，我们依靠自己内心看不见的太阳而存在。&rdquo; <br>——–托马斯。布朗爵士<br><br>无我(12003623)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   (2007-01-26 19:50:20)<br>Love 爱情 <br><br>I love you not because of who you are,but because of who I am when I am with you. <br>我爱你，不是因为你是一个怎样的人，而是因为我喜欢与你在一起时的感觉。 <br><br>No man or woman is worth your tears,and the one who is ,won’t make you cry. <br>没有人值得你流泪，值得让你这么做的人不会让你哭泣。 <br><br>The worst way to miss someone is to be sitting right beside them knowing you can’t have them. <br>失去某人，最糟糕的莫过于，他近在身旁，却犹如远在天边。 <br><br>Never frown,even when you are sad,because you never know who is falling in love with your smile. <br>纵然伤心，也不要悉眉不展，因为你不知是谁会爱上你的笑容。 <br><br>To the world you may be one person,but to one person you may be the world. <br>对于世界而言，你是一个人；但是对于某人，你是他的整个世界。</p><p>All for one, one for all. <br>人人为我，我为人人。&mdash;&mdash; [法] Dumas pére大仲马 <br>Other men live to eat, while I eat to live. <br>别人为食而生存，我为生存而食。&mdash;&mdash; Socrates 苏格拉底 <br>Easy come, easy go. <br>易得者亦易失。 &mdash;&mdash; Hazlitt赫斯特 <br>Love rules his kingdom without a sword. <br>爱，统治了他的王国，不用一枝利剑。&mdash;&mdash; Herbert 赫伯特 <br>We soon believe what we desire. <br>我们欲望中的东西，我们很快就信以为真。&mdash;&mdash; Chaucer乔叟 <br>The darkest hour is that before the dawn. <br>黎明前的时分是最黑暗的。&mdash;&mdash; Fuller 富勒 <br>The longest day has an end. <br>最难过的日子也有尽头。&mdash;&mdash; Howell 贺韦尔 <br>Living without an aim is like sailing without a compass. <br>生活而无目标，犹如航海之无指南针。&mdash;&mdash; J. Ruskin 鲁斯金 <br>A bird in the hand is worth two in the bush. <br>手中的一只鸟胜于林中的两只鸟。&mdash;&mdash; Heywood 希伍德 <br>One swallow does not make a summer. <br>一燕不成夏。&mdash;&mdash; Taverner 泰维纳 <br>A man may lead a horse to the water, but he cannot make it drink. <br>一个人可以把马带到河边，但他不能令它饮水。 &mdash;&mdash; Heywood 希伍德 <br>One cannot eat one&rsquo;s cake and have it. <br>一个人不能把他的糕饼吃掉之后还留在手上。 &mdash;&mdash; Davies 戴维斯 <br>Time is money. <br>时间就是金钱。&mdash;&mdash; Benjamin Franklin富兰克林 <br>Time and tide wait for no man. <br>时间不等人。&mdash;&mdash; Scott 斯科特 <br>There is no rose without a thorn. <br>没有玫瑰花是不长刺的。&mdash;&mdash;　Ray 雷 <br>Lookers-on see most of the game. <br>旁观者清。&mdash;&mdash;　Smedley 斯密莱 <br>Beggars cannot be choosers. <br>行乞者不得有选择。&mdash;&mdash;　Heywood 希伍德 <br>First catch your hare. <br>首先必须捕获兔子，然后才能宰之。&mdash;&mdash; Thackeray 萨克雷 <br>Victory won&rsquo;t come to me unless I go to it. <br>胜利是不会向我走来的，我必须自己走向胜利。&mdash;&mdash; M. Moore 穆尔 <br>A great man is always willing to be little. <br>伟大的人物总是愿意当小人物的。&mdash;&mdash; R. W. Emerson 爱默生 <br>Cowards die many times before their deaths. <br>懦夫在未死之前，已身历多次死亡的恐怖了。 &mdash;&mdash; Julius Caesar 凯撒 <br>Anything one man can imagine, other men can make real. <br>但凡人能想象到的事物，必定有人能将它实现。 &mdash;&mdash; Jules Verne 凡尔纳 <br>Early to bed and early to rise, makes a man healthy, wealthy, and wise. <br>早睡早起使人健康、富裕又聪明。&mdash;&mdash; Benjamin Franklin 富兰克林 <br>Life is just a series of trying to make up your mind. <br>生活只是由一系列下决心的努力所构成。&mdash;&mdash; T. Fuller 富勒 <br>Goals determine what you are going to be. <br>目标决定你将成为为什么样的人。&mdash;&mdash; Julius Erving欧文 <br>All human wisdom is summed up in two words ?C wait and hope. <br>人类所有的智慧可以归结为两个词 &mdash; 等待和希望。&mdash;&mdash; Alexandre Dumas Pére大仲马（法国作家） <br>It is not enough to be industrious, so are the ants. What are you industrious for? <br>光勤劳是不够的，蚂蚁也是勤劳的。要看你为什么而勤劳。&mdash;&mdash; H. D. Thoreau梭罗 <br>You have to believe in yourself. That&rsquo;s the secret of success. <br>人必须相信自己，这是成功的秘诀。&mdash;&mdash; Charles Chaplin卓别林 <br>Nothing is more precious than independence and freedom. <br>没有什么比独立自由更可宝贵的了。&mdash;&mdash; [越南] Ho Chi Minh胡志明 <br>I like the dreams of the future better than the history of the past. <br>我不缅怀过去的历史，而致力于未来的梦想。&mdash;&mdash; T. Jefferson 杰弗逊（美国第3任总统） <br>Money is round. It rolls away. <br>圆圆钱币，滚走容易。&mdash;&mdash; S. Aleichen 阿雷钦 <br>We are here to add what we can to life, not to get what we can from it. <br>我们要尽可能为生活增加一些东西，而不是从中索取什么。&mdash;&mdash; William Osler 奥斯勒</p><p>Life itself, without the assistance of colleges and universities, is becoming an advanced institution of learning. <br>没有学院和大学的帮助，人生本身也正在变成一所高等学府。 &mdash;&mdash;　Thomas Alva Edison 爱迪生 <br>Work while you work; <br>Play while you play; <br>This is the way; <br>To be cheerful and gay. <br>工作时工作， <br>玩乐是玩乐， <br>依此方法做， <br>轻松与欢乐。&mdash;&mdash;　A. D. Stoddart 斯道达特</p><p> </p><p> </p>12种人生感悟我爱你并不是因为你是谁，而是因为我在你身边的时候我是谁。<br><br>　I love you not for whom you are, but who I am when I’m by your side.<br><br>　没有人值得你流泪，值得你流泪的人是不会让你哭的。<br><br>　No person deserves your tears, and who deservers them won’t make you cry.<br><br>　只因为某人不如你所愿爱你，并不意味着你不被别人所爱。<br><br>　Just because someone doesn’t love you as you wish, it doesn’t mean you’re<br>not loved with all his/her being.<br><br>　一个真正的朋友会握着你的手，触动你的心。<br><br>　A true friend is the one who holds your hand and touches your heart.<br><br>　错过一个人最可怕的方式就是：坐在他/她的身旁，你却知道永远都不会拥有他/她。<br><br>　The worst way to miss someone is to be seated by his/her side and know<br>you’ll never have him/her.<br><br>　永远都不要停止微笑，即使是在你难过的时候，说不定有人会因为你的笑容而爱上你。<br><br>　Never stop smiling, not even when you’re sad, someone might fall in love<br>with your smile.<br><br><br>　你可能只是这个世界上的一个人，但对于某人来说，你就是全世界。<br><br>　You may only be a person in this world, but for someone, you’re the world.<br><br>　不要把时间花在一个不在乎与你一起分享的人身上。<br><br>　Don’t spend time with someone who doesn’t care spending it with you.<br><br>　也许上帝让你在遇见那个合适的人之前遇见很多错误的人，所以，当这一切发生<br>的时候，你应该心存感激。<br><br>　Maybe God wants you to meet many wrong people before you meet the right<br>one, so when this happens, you’ll be thankful.<br><br>　不要因为它的结束而哭，应当为它的发生而笑。<br><br>　Don’t cry because it came to an end. Smile because it happened.<br><br>　生活中总会有伤害你的人，所以你仍然需要继续相信别人，只是小心些而已。<br><br>　There will always be people who’ll hurt you, so you need to continue<br>trusting, just be careful.<br><br>　做一个更好的人，确信在遇见一个新的人之前自己是谁，也希望那个人知道你是谁。<br><br>　Be sure to know who you are before meeting someone new and hoping that<br>person knows who you are. <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2007/01/26/English-motto/" class="archive-article-date">
  	<time datetime="2007-01-26T12:29:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2007-01-26</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/English/">English</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-使用wine出现的问题与解决" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/31/使用wine出现的问题与解决/">使用wine出现的问题与解决</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> <strong></strong></p><p>使用wine出现的问题与解决</p><br><br><strong>1、用wine运行exe程序出现以下错误</strong><br># wine XXX.exe<br>wine: error while loading shared libraries: libwine.so.1: cannot open shared object file: No such file or directory&rdquo;<br>解决：在&ldquo;/etc/ld.so.conf&rdquo;中加入&ldquo;/usr/local/lib&rdquo;并运行ldconfig使lib缓存到/etc/ld.so.cache中<br><br><strong>2、关于Wine下面QQ乱码问题的说明</strong><br>打字的时候出现&ldquo;？？？&rdquo;<br>解决：到QQ的安装目录下，将 Riched32.dll 改个名字，如 Riched32.dll.bak ，将 Riched20.dll 改个名字，如 Riched20.dll.bak 这样可以强行使用wine自带的 richedit 控件<br><br><strong>3、我的wine运行软件速度，反应很慢</strong><br>解决：尝试将你的locale转成非UTF8的代码。<br>或者参看这2编文章：<br><a target="_top" href="http://www.easywine.org/bbs/viewthread.php?tid=337&amp;extra=page%3D1">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br><a target="_top" href="http://www.easywine.org/bbs/viewthread.php?tid=563&amp;extra=page%3D1">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br><br><strong>4、采用GB18030为默认汉字编码，第一次运行Wine会提示如下问题，如何解决？</strong><br>[root@localhost wine-20040813]# ./wine<br>fixme:nls:get_env_lcid charset GB18030 was not recognized<br>/root/.wine updated successfully.<br>fixme:nls:get_env_lcid charset GB18030 was not recognized<br>Wine 0.9.3<br>Usage: wine PROGRAM [ARGUMENTS…] Run the specified program<br>wine –help Display this help and exit<br>wine –version Output version information and exit<br>解决方法：编辑.bashrc文件，在该文件尾部添加如下两行：<br>export LANG=zh_CN.gb2312<br>export LC_ALL=zh_CN.2312<br>重新运行bash后敲入locale命令，默认的编码就会显示GB2312了，再次运行Wine就不会有上述问题。<br><br><strong>5、使用Wine运行程序后，无法看到和输入中文，如何解决？</strong><br>解决方法：在GBK或 GB2312 编码状态下可以输入中文，但如果没有进行默认编码设置，就无法输入中文。<br>按照上面的方法设置locale。还有就是如果没有中文字体也无法显示中文，自然也就看不见汉字。<br><br><strong>6、无法安装 Windows中由Installshield制作的安装程序，如何解决？</strong><br>解决方法：要运行Installshield制作的安装程序需要安装支持文件DCOM98(DCOM95或其他支持文件)，所以为了在 Linux中安装使用 Installshield 做的安装程序，必须要装DCOM98，下载地址：<a target="_top" href="http://www.microsoft.com/com/dcom/dcom98/download.asp">http://www.microsoft.com/com/dcom/dcom98/download.asp</a>，然后再使用 wine dcom98.exe 命令来安装。<br><br><strong>7、Wine对NTFS文件系统的支持如何？可以使用NTFS分区中的文件和程序吗？</strong><br>解决方法：由于Linux内核默认不支持NTFS文件系统，即使重新编译内核支持 NTFS 也仅限于只读，如果要写的话，是十分危险的。所以最好不要在Linux中使用NTFS 分区上的程序和文件，建议使用 FAT32 文件系统分区或Linux分区。<br><br><strong>8、配置Wine驱动器，需要将系统盘指向一个真实的Window系统分区吗？如果是这样又如何操作？</strong><br>解决方法：不要将Wine配置文件中的[Driver X:] 指向一个存在的真实 Windows分区，只须使用Wine安装时创建 &ldquo;虚拟&rdquo;的Windows系统结构即可。<br>终端中键入winecfg 进入Drivers 选项卡就可以进行配置<br><br><strong>9、如何知道哪些Windows程序可以在Wine中良好地运行？</strong><br>解决方法：访问<a target="_top" href="http://www.easywine.org/bbs/viewthread.php?tid=11&amp;extra=page%3D4">http://www.easywine.org/bbs/view … &amp;extra=page%3D4</a> 这里有wine支持软件列表。当然没有列出的不一定不支持，可以到wine模拟任务区提出相关软件，让大家测试是否能模拟。<br><br><strong>10、为什么我的wine某些按钮文字显示乱码？</strong><br>解决方法：在编译之前得打上中文补丁。<br><a target="_top" href="http://www.easywine.org/bbs/viewthread.php?tid=529&amp;extra=page%3D1">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br>patch -p1 &lt; wine_charset.patch<br><br><strong>11、为什么我的wine默认字体变成楷体了？</strong><br>我的wine默认字体变成楷体了，多数是因为装了office所带来的问题。<br>解决方法：<br><a target="_top" href="http://www.easywine.org/bbs/viewthread.php?tid=651&amp;extra=page%3D1">http://www.easywine.org/bbs/view … &amp;extra=page%3D1</a><br><br><br><br><strong>Wine程序的中文字体设置</strong><br>ref:<a href="http://hi.baidu.com/wx83111588/blog/item/3de511f2faa45d16b17ec506.html" target="_blank">http://hi.baidu.com/wx83111588/blog/item/3de511f2faa45d16b17ec506.html</a><br><br>3. 修改 ~/.wine/system.reg<p>装好字体后，还要修改一下 Wine 的注册表设置，指定与字体相关的设置：</p><p>gedit ~/.wine/system.reg</p><p>（一定要使用 gedit 或其他支持 gb2312/utf8 编码的编辑器修改这些文件，否则文件中的中文可能变乱码）</p><p>搜索： LogPixels<br>找到的行应该是：[System\CurrentControlSet\Hardware Profiles\Current\Software\Fonts]<br>将其中的：<br>&quot;LogPixels&quot;=dword:00000060</p><p>改为：<br>&quot;LogPixels&quot;=dword:00000070</p><p>搜索： FontSubstitutes<br>找到的行应该是：[Software\Microsoft\Windows NT\CurrentVersion\FontSubstitutes]<br>将其中的：<br>&quot;MS Shell Dlg&quot;=&quot;Tahoma&quot;<br>&quot;MS Shell Dlg 2″=&quot;Tahoma&quot;</p><p>改为：<br>&quot;MS Shell Dlg&quot;=&quot;SimSun&quot;<br>&quot;MS Shell Dlg 2″=&quot;SimSun&quot;</p><p>4. 修改 ~/.wine/drive_c/windows/win.ini</p><p>gedit ~/.wine/drive_c/windows/win.ini<br>在文件末尾加入：</p><p>[Desktop]<br>menufontsize=13<br>messagefontsize=13<br>statusfontsize=13<br>IconTitleSize=13</p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p><del>end</del></p><p> </p> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/31/使用wine出现的问题与解决/" class="archive-article-date">
  	<time datetime="2006-12-31T08:13:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-31</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-灰度直方图均衡化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/29/灰度直方图均衡化/">灰度直方图均衡化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> </p><p>图形处理中有一种对比度变换，像显示器就有对比度调节，PhotoShop也有图片的对比度修改，对比度的提高可以使图像细节清晰，相反，对比度的减小可以隐藏图像的细节，在一定程度上使图像柔和。<br><br>对比度变换其中一种比较简单的方法是直方图均衡化。<br>所谓直方图就是在某一灰度级的象素个数占整幅图像的象素比&nbsp; h=nj/N,其中nj是灰度级在j的象素数，N是总象素数，扫描整幅图像得出的h的离散序列就是图像的直方图，h求和必然＝1，所以直方图可以看成是象素对于灰度的概率分布函数。<br><br>直方图是高低不齐的，因为象素灰度是随机变化的，直方图均衡化就是用一定的算法使直方图大致平和。<br><br>算法如下：<br>对于一个直方图<br>设 Pr(r)是原始图像直方图，Ps(s)是均衡化的直方图，<br>由于其是一个概率分布函数<br>所以有 Ps(s)ds=Pr(r)dr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (编辑关系，ds,dr是积分变量)<br>因为要进行均衡化，令 Ps(s)=1,<br>得 ds=Pr(r)dr/1<br>两边积分得 s=F Pr(r)dr&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (因为编辑关系，左边F表示积分符号….-_<em>-++)<br>数字图像是离散的，因此离散化上式得<br>sk=E{j=0,k}(nj/N)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;左式k,j是离散量下标，因为编辑关系，E{0,k}表示下标0到k的连加符号，N是象素总数<br>由此得出每一象素的sk为均衡化后的正规化灰度（即灰度正规化到[0,1])，统计sk即可得出均衡化后的直方图。<br>在均衡化过程中可以对每一象素映射到新的实际灰度值sk*255，就实现了图像的变换<br>（严格理论中应该是灰度正规化到[0,1]区间，然后均衡化后的sk还要量化到原始的正规灰度以实现灰度合并，下面的BCB程序并没有量化，而且255是固定灰度级，因为256色BMP的彩色表就是256个表项)<br><br>现在开始实践<br>用BCB对一BMP灰度图像进行直方图均衡化处理，代码如下<br>//—————————-BCB6代码<br><br>#include &lt;vcl.h&gt;<br>#pragma hdrstop<br>#include&lt;stdio.h&gt;<br>#include &quot;Unit1.h&quot;<br>#include&quot;File1.h&quot;</em></p><p>#pragma pack(1)</p><p>//BMP文件头<br>struct BITMAPFILEHEADER<br>{<br>&nbsp;short type;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int bfSize;<br>&nbsp;short re1,re2;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int Offbits;<br>};<br>//BMP信息头<br>struct BITMAPINFO<em><br>{<br>&nbsp;long size;<br>&nbsp;long width,height;<br>&nbsp;short planes,bitCount;<br>&nbsp;long comp,sizeImg;<br>&nbsp;long xpels,ypels;<br>&nbsp;long used,important;<br>};<br>//BMP彩色表项<br>struct COLOR</em><br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char blue,green,red,re;<br>};<br>//——将BMP彩色表的数据校正到BCB TColor的数据。<br>void SwitchColor(long &amp;c)<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long blue=c&amp;&nbsp; 0x000000ff;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long green=c&amp; 0x0000ff00;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long red=c&amp;&nbsp;&nbsp; 0x00ff0000;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c=(blue&lt;&lt;16) | green | (red&gt;&gt;16);<br>}</p><p>void xxx()<br>{<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FILE <em>f=fopen(&quot;f:\bbs_prev2.bmp&quot;,&quot;rb&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(f==NULL)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /</em>判断文件是否打开成功<em>/<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ShowMessage(&quot;File open error&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fseek(f,0,0);//移动到开头</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //———-读BMP文件头<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BITMAPFILEHEADER_ bmph=new BITMAPFILEHEADER<em>();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(fread((char*)bmph,sizeof(BITMAPFILEHEADER</em>),1,f)==NULL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ShowMessage(&quot;File read error&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //———–读BMP信息头<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BITMAPINFO<em> *bmpi=new BITMAPINFO</em>();<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(fread((char<em>)bmpi,sizeof(BITMAPINFO_),1,f)==NULL)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ShowMessage(&quot;File read error2&quot;);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //————–读彩色表<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long c=new long[bmph-&gt;Offbits-sizeof(BITMAPFILEHEADER<em>)-sizeof(BITMAPINFO</em>)];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fread((char<em>)c,bmph-&gt;Offbits-sizeof(BITMAPFILEHEADER<em>)-sizeof(BITMAPINFO</em>),1,f);</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //———-显示一些信息<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Edit1-&gt;Text=IntToStr(bmph-&gt;bfSize);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Edit2-&gt;Text=IntToStr(bmpi-&gt;width);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Edit3-&gt;Text=IntToStr(bmpi-&gt;height);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Edit4-&gt;Text=IntToStr(bmpi-&gt;comp);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Edit5-&gt;Text=IntToStr(bmpi-&gt;used);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int i,j,k,wc;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long N=bmph-&gt;bfSize- bmph-&gt;Offbits;//象素总数<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned char image=new char[N]; //位图矩阵<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; unsigned char <em>newimage=new char[N];//变换后的位图矩阵</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fread(image,N,1,f);//读入位图矩阵</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //———直方图数列初始化<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //———直方图数列用来存储正规化后的灰度<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double h=new double[255];//255个灰度级，保存原始图像正规化灰度直方图数据<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;255;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; h[i]=0.0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double <em>nh=new double[255];//255个灰度级，保存变换后的图像正规化灰度直方图<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;255;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nh[i]=0.0;</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long count=new long[255]; //每一灰度级的象素数量统计<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;255;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count[i]=0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;N;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count[image[i]]++;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //－－－－－正规化灰度概率统计<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;255;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; h[i]=count[i]/(double)N;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //——正规化新灰度图<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double hc;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;N;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hc=0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=0;j&lt;image[i];j++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hc+=h[j];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nh[image[i]]+=hc; //保存新正规化灰度图<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newimage[i]=hc<em>255; //保存新图像灰度索引<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //———-显示直方图<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;255;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //原始直方图<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Canvas-&gt;MoveTo(10+i,200);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Canvas-&gt;LineTo(10+i,200+h[i]</em>N);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //新直方图<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Canvas-&gt;MoveTo(300+i,200);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Canvas-&gt;LineTo(300+i,200+nh[i]<em>255);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //——显示图形<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TColor </em>tc;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(bmpi-&gt;width%4==0)//———–因为BMP图像4字节对齐<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wc=bmpi-&gt;width/4<em>4;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wc=(bmpi-&gt;width/4+1)</em>4;</p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long a;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long pos=0;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for( i=0;i&lt;bmpi-&gt;height;i++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(j=0;j&lt;wc;j++)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //—–原始图形<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a= c[image[pos]];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SwitchColor(a);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Canvas-&gt;Pixels[10+j][600-i]=a;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //——新图形<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a= c[newimage[pos]];<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SwitchColor(a);<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Form1-&gt;Canvas-&gt;Pixels[300+j][600-i]=a;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pos++;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fclose(f);<br>}<br><br>这个程序使用256色BMP文件，但程序代码是针对灰度图像的，用于彩色图像时得出一些古怪色彩配合而已。<br><br>在对灰度图像均衡化时<br>如果原始图像对比度本来就很高，如果再均衡化则灰度调和，对比度降低。<br>在泛白缓和的图像中，由于均衡化过程中会合并一些象素灰度，则会增大对比度，这里255灰度级太多，合并不明显。<br><br><br><br><br><br><br><br><br> 5.9  <a name="_Toc486331890"></a><a name="_Toc486332890"></a><a name="_Toc486338999"></a><a name="_Toc454810864"></a><a name="_Toc454856638">灰度直方图均衡化</a><a target="_blank" href="http://www-scf.usc.edu/~flv/ipbook/chap05.htm">http://www-scf.usc.edu/~flv/ipbook/chap05.htm</a><p>在介绍灰度直方图均衡化(histogram      equalization)之前，先讲讲直方图修正。所谓直方图修正，就是通过一个灰度映射函数G<sub>new</sub>=F(G<sub>old</sub>)，将原灰度直方图改造成你所希望的直方图。所以，直方图修正的关键就是灰度映射函数。我们刚才介绍的阈值化、削波、灰度窗口变换等等，都是灰度映射函数。</p><p>直方图均衡化是一种最常用的直方图修正。它是把给定图象的直方图分布改造成均匀直方图分布。由信息学的理论来解释，具有最大熵(信息量)的图象为均衡化图象。直观地讲，直方图均衡化导致图象的对比度增加。</p><p>由于直方图均衡化涉及到很多概率和数学的知识，具体的细节这里就不介绍了，只给出算法。通过下面的例子，就很容易明白了。</p><p>有一幅图象，共有16级灰度，其直方图分布为Pi,      i=0,1,&hellip;,15，求经直方图均衡化后，量化级别为10级的灰度图象的直方图分布Qi，其中Pi和Qi为分布的概率，即灰度i出现的次数与总的点数之比。</p><p>Pi： 0.03,0,0.06,0.10,0.20,0.11,0,0,0,0.03,0,0.06,0.10,0.20,0.11,0</p><p>步骤1：用一个数组s记录Pi，即</p><p>s[0]=0.03,s[1]=0,s[2]=0.06,&hellip;,s[14]=0.11,s[15]=0</p><p>步骤2：i从1开始，令s[i]=s[i]+s[i-1]+ … + s[0]，得到的结果是</p><p>s： 0.03,0.03,0.09,0.19,0.39,0.50,0.50,0.50,0.50,0.53,0.53,0.59,0.69,0.89,1.0,1.0</p><p>步骤3：用一个数组L记录新的调色板索引值，即令L[i]=s[i]&times;(10-1)，得到的结果是L：0,0,1,2,4,5,5,5,5,5,5,5,6,8,9,9</p><p>这样就找到了原来的调色板索引值和新的调色板索引值之间的对应关系，即</p><p>0&rarr;0,1&rarr;0,2&rarr;1,3&rarr;2,4&rarr;4,5&rarr;5,6&rarr;5,7&rarr;5,8&rarr;5,9&rarr;5,10&rarr;5,11&rarr;5,12&rarr;6,</p><p>13&rarr;8,14&rarr;9,15&rarr;9。</p><p>步骤4：将老的索引值对应的概率合并，作为对应的新的索引值的概率。例如，原来的索引值0,1都对应了新的索引值0，则灰度索引值为0的概率为P<sub>0</sub>+P<sub>1</sub>=0.03；新的索引值3和7找不到老的索引值与之对应，所以令Q<sub>3</sub>和Q<sub>7</sub>为0。最后得到的结果是Qi：0.03,0.06,0.10,0,0.20,0.20,0.10,0,0.20,0.11</p><p>图5.17为Pi的分布，图5.18为Qi的分布，对照一下，不难发现图5.18的分布比图5.17要均匀一些。</p> <p> <img width="349" height="247" src="http://www-scf.usc.edu/%7Eflv/ipbook/chap05.files/image038.jpg"> </p> <p><strong>图5.17&nbsp;&nbsp; Pi</strong><strong>的分布</strong></p> <p> <img width="208" height="244" src="http://www-scf.usc.edu/%7Eflv/ipbook/chap05.files/image040.jpg"> </p> <p><strong>图5.18&nbsp;&nbsp; Qi</strong><strong>的分布</strong></p> <p>要注意的是，均衡化处理后的图象只能是近似均匀分布。均衡化图象的动态范围扩大了，但其本质是扩大了量化间隔，而量化级别反而减少了，因此，原来灰度不同的象素经处理后可能变的相同，形成了一片的相同灰度的区域，各区域之间有明显的边界，从而出现了伪轮廓。</p><p>图5.19为图5.13经直方图均衡化处理后，量化为128级灰度的结果；图5.20为它的直方图分布。为什么天亮了起来呢？分析一下就明白了：因为原图中低灰度的点太多了，所以s数组前面的元素很大。经过L[i]=s[i]&times;(128-1)的处理后，原图中低灰度的点的灰度值提高了不少，所以那片暗区变亮了。同时可以看出，天空中出现了伪轮廓。</p><p> <img width="206" height="288" src="http://www-scf.usc.edu/%7Eflv/ipbook/chap05.files/image041.gif"> </p><strong>图5.19&nbsp;&nbsp; </strong><strong>图5.13</strong><strong>经直方图均衡化处理后的结果<br></strong><p><strong> <br></strong></p><p><strong>图5.20&nbsp;&nbsp; </strong><strong>图5.19</strong><strong>的灰度直方图</strong></p><p>图5.21为图5.1直方图均衡化后的结果(128级灰度)，暗的区域(手)变亮了，看起来更清楚一些。</p><p> <img width="400" height="320" src="http://www-scf.usc.edu/%7Eflv/ipbook/chap05.files/image043.gif"> </p><p><strong>图5.21&nbsp;&nbsp; </strong><strong>图5.1</strong><strong>直方图均衡化后的结果</strong></p><p>下面给出直方图均衡化的源程序：</p><p>int EquaScale; //为新的灰度级别</p><p>BOOL HistogramEqua(HWND hWnd)</p><p>{</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DLGPROC&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      dlgInputBox = NULL;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DWORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      BufSize,OffBits;</p><p>LPBITMAPINFOHEADER&nbsp;&nbsp;&nbsp; lpImgData;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LPSTR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lpPtr;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HLOCAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp; hTempImgData;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LPBITMAPINFOHEADER&nbsp;&nbsp;&nbsp;      lpTempImgData;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LPSTR&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      lpTempPtr;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HDC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp; hDc;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HFILE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp; hf;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LONG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp; x,y;</p><p>&nbsp;&nbsp; &nbsp; LOGPALETTE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp; <em>pPal;</em></p><p>&nbsp;&nbsp; &nbsp; HPALETTE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp; hPrevPalette; </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HLOCAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp; hPal;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; WORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp; i;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Gray;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DWORD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp; GrayHits[256];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      GrayIndex[256];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &nbsp;&nbsp; s[256];</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(      NumColors!=256){ //必须是256级灰度图</p><p>MessageBox(hWnd,&quot;Must be a 256 grayscale bitmap!&quot;,&quot;Error      Message&quot;,</p><p>MB_OK|MB_ICONEXCLAMATION);</p><p>return FALSE;</p><p>}</p><p>//出现对话框，输入新的灰度级别</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dlgInputBox      = (DLGPROC) MakeProcInstance ( (FARPROC)InputBox, ghInst );</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DialogBox      (ghInst, &quot;INPUTBOX&quot;, hWnd, dlgInputBox);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FreeProcInstance      ( (FARPROC) dlgInputBox );</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(      EquaScale &gt;=255){ //量化级别不能大于255</p><p>MessageBox(hWnd,&quot;The new scale can not be larger      than 255&quot;,</p><p>&quot;Error Message&quot;,MB_OK|MB_ICONEXCLAMATION);</p><p>return FALSE;</p><p>&nbsp;&nbsp; &nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //OffBits为到实际位图数据的偏移值</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OffBits=bf.bfOffBits-sizeof(BITMAPFILEHEADER);</p><p>//BufSize为缓冲区的大小</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; BufSize=OffBits+bi.biHeightLineBytes;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      if((hTempImgData=LocalAlloc(LHND,BufSize))==NULL)</p><p>&nbsp;&nbsp; &nbsp; {</p><p>&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      MessageBox(hWnd,&quot;Error alloc memory!&quot;,&quot;Error Message&quot;,MB_OK|</p><p>MB_ICONEXCLAMATION);</p><p>return FALSE;</p><p>}</p><p>//lpImgData指向原图，//lpTempImgData指向新开的缓冲区</p><p>&nbsp;&nbsp; &nbsp; lpImgData=(LPBITMAPINFOHEADER)GlobalLock(hImgData);&nbsp;&nbsp;&nbsp;    </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lpTempImgData=(LPBITMAPINFOHEADER)LocalLock(hTempImgData);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //拷贝头信息</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memcpy(lpTempImgData,lpImgData,OffBits);</p><p>//ColorHits为记录颜色使用频率的数组，ColorIndex为记录颜色索引值的</p><p>//数组</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //先清零</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(GrayHits,0,256<em>sizeof(DWORD));</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(GrayIndex,0,256sizeof(WORD));</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(y=0;y&lt;bi.biHeight;y++){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      lpPtr=(unsigned char <em>)lpImgData+(BufSize-LineBytes-y</em>LineBytes);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for(x=0;x&lt;bi.biWidth;x++){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Gray=(unsigned char )<em>(lpPtr++);</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      GrayHits[Gray]++; //统计该颜色用到的次数</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;256;i++)</p><p>//次数除以总点数得到频率      </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      s[i]=(float)GrayHits[i]/((float)bi.biWidth(float)bi.biHeight); </p><p>for(i=1;i&lt;256;i++)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      s[i]+=s[i-1];&nbsp; //每一项都是前面所有项的累加</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i=0;i&lt;256;i++)</p><p>//根据新的量化级别，计算新的灰度索引值</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      GrayIndex[i]=(int)(s[i]<em>(EquaScale-1)); </em></p><p>//为新的调色板分配内存</p><p>&nbsp;&nbsp; &nbsp; hPal=LocalAlloc(LHND,sizeof(LOGPALETTE)+</p><p>256sizeof(PALETTEENTRY));</p><p>pPal =(LOGPALETTE <em>)LocalLock(hPal);</em></p><p>//先将调色板内存全部清零</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; memset(pPal,0,sizeof(LOGPALETTE)      + 256 sizeof(PALETTEENTRY));</p><p>&nbsp;&nbsp; &nbsp; pPal-&gt;palNumEntries      =(WORD) 256;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pPal-&gt;palVersion&nbsp;&nbsp;&nbsp;      = 0x300;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lpTempPtr=(char      <em>)lpTempImgData+sizeof(BITMAPINFOHEADER);</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for      (i = 0; i &lt; EquaScale; i++) {</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Gray=(int)(i255.0/(EquaScale-1));&nbsp; //根据新的量化级别，计算灰度值</p><p>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      pPal-&gt;palPalEntry[i].peRed=(BYTE)Gray;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      pPal-&gt;palPalEntry[i].peGreen=(BYTE)Gray;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      pPal-&gt;palPalEntry[i].peBlue=(BYTE)Gray;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      pPal-&gt;palPalEntry[i].peFlags=(BYTE)0;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      <em>(lpTempPtr++)=(unsigned char)Gray;</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      (lpTempPtr++)=(unsigned char)Gray;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      <em>(lpTempPtr++)=(unsigned char)Gray;</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      (lpTempPtr++)=0;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(hPalette!=NULL)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      DeleteObject(hPalette);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //产生新的逻辑调色板</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hPalette=CreatePalette(pPal);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocalUnlock(hPal);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocalFree(hPal);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hDc=GetDC(hWnd);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(hPalette){</p><p>&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;      hPrevPalette=SelectPalette(hDc,hPalette,FALSE);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      RealizePalette(hDc);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(y=0;y&lt;bi.biHeight;y++){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      lpPtr=(char <em>)lpImgData+(BufSize-LineBytes-y</em>LineBytes);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      lpTempPtr=(char <em>)lpTempImgData+(BufSize-LineBytes-y</em>LineBytes);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      for(x=0;x&lt;bi.biWidth;x++){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Gray=(unsigned char )<em>(lpPtr++); //原灰度索引值</em></p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      Gray=GrayIndex[Gray]; //对应的新的灰度索引值</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      (lpTempPtr++)=(unsigned char)Gray;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      }</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</p><p>&nbsp;&nbsp; &nbsp; if(hBitmap!=NULL)</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;      DeleteObject(hBitmap);</p><p>//产生新的位图&nbsp;&nbsp;&nbsp;&nbsp; </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hBitmap=CreateDIBitmap(hDc,(LPBITMAPINFOHEADER)lpTempImgData,</p><p>(LONG)CBM_INIT,</p><p>(LPSTR)lpTempImgData+</p><p>sizeof(BITMAPINFOHEADER)+</p><p>256*sizeof(RGBQUAD),</p><p>(LPBITMAPINFO)lpTempImgData,</p><p>DIB_RGB_COLORS);</p><p>if(hPalette &amp;&amp; hPrevPalette){</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      SelectPalette(hDc,hPrevPalette,FALSE);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      RealizePalette(hDc);</p><p>}</p><p>hf=_lcreat(&quot;c:\equa.bmp&quot;,0);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _lwrite(hf,(LPSTR)&amp;bf,sizeof(BITMAPFILEHEADER));    </p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _lwrite(hf,(LPSTR)lpTempImgData,BufSize);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _lclose(hf);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //释放内存和资源</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ReleaseDC(hWnd,hDc);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocalUnlock(hTempImgData);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LocalFree(hTempImgData);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GlobalUnlock(hImgData);</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return      TRUE;</p><p>}</p><br> <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/29/灰度直方图均衡化/" class="archive-article-date">
  	<time datetime="2006-12-29T11:51:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-29</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/DefaultCategory/">DefaultCategory</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-ubuntu6-06正式版硬盘安装指南" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/23/ubuntu6-06正式版硬盘安装指南/">ubuntu6.06正式版硬盘安装指南</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>下载ubuntu-6.06-alternate-i386.iso （不要用desktop cd 据说硬盘安装找不到iso） <br><br><a target="_blank" href="http://releases.ubuntu.com/6.06/ubuntu-6.06-alternate-i386.iso">ubuntu-6.06-alternate-i386.iso</a> <br> <strong>代码:</strong>                            <a href="http://releases.ubuntu.com/6.06/ubuntu-6.06-alternate-i386.iso" target="_blank" rel="external">http://releases.ubuntu.com/6.06/ubuntu-6.06-alternate-i386.iso</a> <br>            MD5SUM： <br>            b2e9120f06d70cc076c1852c6c04654e  ubuntu-6.06-alternate-i386.iso             <br><br>2. 下载硬盘启动所需要的两个文件 (不要使用ISO文件中自带的，那个不支持硬盘安装)： <br><br><a target="_blank" href="http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/initrd.gz">initrd.gz</a> <br><a target="_blank" href="http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/vmlinuz">vmlinuz</a> <br> <strong>代码:</strong>                            <a href="http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/</a> <br>            <a href="http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/initrd.gz" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/initrd.gz</a> <br>            <a href="http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/vmlinuz" target="_blank" rel="external">http://archive.ubuntu.com/ubuntu/dists/dapper/main/installer-i386/current/images/hd-media/vmlinuz</a>             <br><br>注意：文件最好保存在fat32分区根目录。如果你只有linux系统，保存在 ext3或reiserfs分区根目录。 <br>例如：我保存在windows的D盘（/dev/hda5）根目录。 <br><br>3. 可选。已经安装Linux 并且用Grub引导的略过 下面安装Grub的步骤。 <br><br>下载GRUB（注意：在下载的过程中,IE有时会自动加上.Dat的扩展名，如果如此，将文件名 grldr.dat 改为 grldr ） <br><br><a target="_blank" href="http://old.ubuntu.org.cn/download/installformharddisk/grldr">http://old.ubuntu.org.cn/download/installformharddisk/grldr</a> <br><br>将 grldr 复制到 C:,编辑C:BOOT.INI，加入一行: <br><br> <strong>代码:</strong>                            C:GRLDR=&quot;GRUB&quot;             <br><br>重新启动计算机，按 c 进入 grub 命令行根据下载的文件存放的位置，输入并回车: <br>注: 如果电脑上原来并没有安装grub, 则可以用98盘启动到dos, 运行grub for dos(即运行grub.exe文件)来进入grub命令行状态. <br><br> <strong>代码:</strong>                            grub&gt;kernel (hd0,4)/vmlinuz root=/dev/ram ramdisk_size=32000 devfs=mount,dall <br> <br>            grub&gt;initrd (hd0,4)/initrd.gz <br> <br>            grub&gt;boot             <br><br>开始安装，和以前5.10的安装界面基本一样，为了避免麻烦，安装过程中语言请使用英文，只有时区选china就行。在安装结束后，参考 <a target="_blank" href="http://wiki.ubuntu.org.cn/">http://wiki.ubuntu.org.cn</a>的快速设置指南在新系统里再进行中文化。安装过程需要设置地方很少，语言，键盘，时区，网络，分区，用户名，密码，grub等，还是很easy的。如果你不想覆盖以前安装的Grub，可以： <br>比如，ubuntu6.06的boot分区在/dev/hda1，你只要将grub安装到/dev/hda1,并且修改原来的grub.conf文件，就可以用以前的grub引导ubuntu6.06： <br><br> <strong>代码:</strong>                            root (hd0,0) <br>            chainloader +1 </li>
</ol>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/23/ubuntu6-06正式版硬盘安装指南/" class="archive-article-date">
  	<time datetime="2006-12-23T15:21:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-23</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-Fedora-Core-5-（fc5）硬盘安装方法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/23/Fedora-Core-5-（fc5）硬盘安装方法/">Fedora Core 5 （fc5）硬盘安装方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> Fedora Core 5 （fc5）硬盘安装方法<br><br>其实方法和装fc4没什么两样，考虑到新用户，特地做一下小结，呵呵<br><br>推荐使用Grub来引导安装，简单有效，兼容性又好，不提倡用loadlin。<br>Grub可以由以下的途径获得：<br>原安装在硬盘上的其它Linux系统自带的；WinGRUB、GRUB for DOS、矮人Dos以及Vflooy等软件中带的。<br>启动方式和界面显示也许不同，但使用方法基本没区别。<br><br>具体安装方法有两种，可根据你的需要来选择。<br><br><strong>一、通过引导 vmlinuz 和 initrd.img 来进入安装</strong><br>首先打开FC-5-i386-disc1.iso镜像文件，将 isolinux 目录中的vmlinuz 和 initrd.img两个文件解出来放到硬盘上（在这里我们放在第一个主分区上，即hda1，也就是通常所说的C盘）。<br>然后在 grub&gt; 提示符下，依次输入<br><strong>QUOTE:</strong>grub&gt; root (hd0,0)<br>grub&gt; kernel /vmlinuz<br>grub&gt; initrd /initrd.img<br>grub&gt; boot<br>就能进入安装了。<br><br>如果你怕记不住，就请编辑 menu.lst 文件，通常在 /boot/grub 目录中，加入<br><strong>QUOTE:</strong>title FC5 Install<br>root (hd0,0)<br>kernel /vmlinuz<br>initrd /initrd.img<br>在GRUB菜单中选择 FC5 Install 这一项就能进入安装了。<br><br><strong>二、通过引导 diskboot.img 文件来安装</strong><br>跟方法一大同小异，首先打开FC-5-i386-disc1.iso ，将 images 目录中的 diskboot.img 文件解到C盘上。<br>然后在 grub&gt; 提示符下，依次输入<br><strong>QUOTE:</strong>grub&gt; root (hd0,0)<br>grub&gt; kernel /memdisk.gz<br>grub&gt; initrd /diskboot.img<br>grub&gt; boot<br>就能看到一个跟光盘启动时的一样的界面，直接敲回车就能进入安装。<br>如果你没有 memdisk.gz 文件，请在附件里下载。（如果你是使用矮人dos，那么这个文件就在 c:/boot/grub目录里）<br><br>同样的，如果你怕记不住，请编辑menu.lst 文件，加入<br><strong>QUOTE:</strong>title FC5 Install<br>root (hd0,0)<br>kernel /memdisk.gz<br>initrd /diskboot.img<br><br><br>以 上两种方法的区别：方法一是直接进入安装进程，快速，兼容性好；方法二则是功能更多，可以输入 linux text 进入文本模式安装，也可以输入 linux rescue 进入救援模式，以后还可以用来修复系统。但方法二在某些硬件环境下有兼容性问题。大家可根据需要选择。<br><br>最后要说明的是，不管是采用什么方法进入安装的，记得一定要在选择安装介质时选择硬盘（Hard disk）哦。<br><br>参考文档：<a href="http://www.linuxost.org/bbs/read-htm-tid-691.html" target="_blank">http://www.linuxost.org/bbs/read-htm-tid-691.html</a><br>《图解：灵活运用手中的Windows软件，硬盘安装Linux系统》<br><br><br>附件： <img src="http://www.linuxost.org/bbs/image/winter/file/zip.gif"> <a href="http://www.linuxost.org/bbs/job.php?action-download-pid-tpc-tid-3223-aid-761.html" target="_blank"> memdisk.gz</a> (10 K) 下载次数:165 </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/23/Fedora-Core-5-（fc5）硬盘安装方法/" class="archive-article-date">
  	<time datetime="2006-12-23T15:13:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-23</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux-App/">Linux App</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-initrd-FC6-mount-could-not-find-filesystem-dev-root" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/21/initrd-FC6-mount-could-not-find-filesystem-dev-root/">initrd (FC6: </a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>After almost giving up on Fedora 5, I finally got the fix to this problem.</p>
<p>The suspend signature on swap error, “Trying to resume from LABEL=SWAP-hdd3. No suspend signature on swap, not resuming”, can be ignored. It gives this error because when the volumes are activated (look at the output previous to this error), it resumes the swap partition in that step. Therefore, it’s trying to resume something that isn’t suspended.</p>
<p>The error that causes all the trouble is “mount: could not find filesystem ‘/dev/root’”. Appartently, in the init script within initrd-2.6.15-1.2054_FC5.img, the command ‘mount /sysroot’ is trying to mount /dev/root to /sysroot. Fedora 5 does not use /dev/root like in the previous versions of Fedora. Instead, it uses ‘/dev/VolGroup00/LogVol00’ or ‘/dev/hda1’ (or whereever ‘/‘ is located) to mount to /sysroot. For some reason, when init calls ‘mount /sysroot’, it’s trying to mount /dev/root to /sysroot, instead of /dev/VolGroup00/LogVol00 to /sysroot. This messes up everything after this step in the init process. When it does a switchroot at the end, it fails. After killing init, it causes the kernel panic.</p>
<p>Here’s the fix:</p>
<p>1) Boot with the rescue CD<br>2) Type ‘chroot /mnt/sysimage’ (wherever it mounts the Fedora 5 partition)<br>3) ‘cd /boot’<br>4) ‘mkdir newinit’<br>5) ‘cd newinit’<br>6) ‘gunzip -c ../initrd-2.6.15-1.2054_FC5.img | cpio -idmv’<br>7) ‘vi init’<br>8) Find ‘mount /sysroot’ (near the end of the file)<br>9) Delete or comment this out<br>10) Replace with ‘mount -o defaults –ro -t ext3 /dev/VolGroup00/LogVol00 /sysroot’ where /dev/VolGroup00/LogVol00 is the mount point for /<br>11) ‘:wq’ out of vi<br>12) ‘find . | cpio –quiet -c -o &gt;../newinitrd’<br>13) ‘cd ..’ - you are now in /boot<br>14) ‘mv initrd-2.6.15-1.2054_FC5.img initrd-2.6.15-1.2054_FC5.bak’ - backup current initrd img file (just in case)<br>15) ‘gzip -9 &lt; newinitrd &gt; initrd-2.6.15-1.2054_FC5.img’<br>16) Reboot the computer without the CD</p>
<ul>
<li>Steps 4-6,12,13,15 were taken from another site, but I couldn’t post the URL. I’ll try in my next post.</li>
</ul>
<p>This should fix it. I’m glad I can finally run Fedora 5 on my box.</p>
<p>MarkCole, I’m not sure if you were experiencing the exact same problems I was with mounting root. However, I hope this helps anyone else experiencing the same problems I had.</p>
<p><del>my</del><br>refer for more detail about initrd:<br><a href="http://blog.pickbox.me/2008/04/05/initrd">http://blog.pickbox.me/2008/04/05/initrd</a></p>
<p><del>end</del></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/21/initrd-FC6-mount-could-not-find-filesystem-dev-root/" class="archive-article-date">
  	<time datetime="2006-12-21T08:42:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-21</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
    <article id="post-chroot-problems" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2006/12/21/chroot-problems/">chroot problems</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> !!!!Don’t forget to copy all the necessary libs.!!!!<br><br>Did you find the required libraries and include them in a ‘lib’<br>directory in your chroot env?<br># ldd /bin/bash<br>        libtermcap.so.2 =&gt; /lib/libtermcap.so.2 (0x0062f000)<br>        libdl.so.2 =&gt; /lib/libdl.so.2 (0x00a06000)<br>        libc.so.6 =&gt; /lib/tls/libc.so.6 (0x0016f000)<br>        /lib/ld-linux.so.2 =&gt; /lib/ld-linux.so.2 (0x00408000)<br><br># mkdir /virtual/1/lib<br># cp &lt;lib files from above preserving directory heirarchy&gt; /virtual/1/lib/<br><br>Just a thought….<br><br>On Mon, 29 Nov 2004 10:40:32 -0500, Eric Anderson &lt;eric@afaik.us&gt; wrote:<br>&gt; I am having some problems with chroot. To isolate my problem I have<br>&gt; reduced it down to the following command lines.<br>&gt; <br>&gt;    # chroot /virtual/1/ /bin/bash<br>&gt; chroot: cannot run command `/bin/bash’: No such file or directory<br>&gt;    # cd /virtual/1/<br>&gt; 1 # ls -la bin/bash<br>&gt; -rwxr-xr-x  8 root root 693116 Feb 21  2004 bin/bash<br>&gt; <br>&gt; So my goal is to chroot into the /virtual/1/ directory and run /bin/bash<br>&gt; once I have chrooted. It gives me back an error that /bin/bash cannot be<br>&gt; found. But if I cd to /virtual/1/ and then ls bin/bash it is clearly<br>&gt; there. And bash is just an example. Just about any executable I have<br>&gt; tried does not seem to work. I know I am missing something extremely<br>&gt; obvious but it is not coming to me. Any suggestions?<br>&gt; <br>&gt; Eric </p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2006/12/21/chroot-problems/" class="archive-article-date">
  	<time datetime="2006-12-21T01:21:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2006-12-21</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>










  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/56/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><a class="page-number" href="/page/56/">56</a><span class="page-number current">57</span><a class="page-number" href="/page/58/">58</a><a class="page-number" href="/page/59/">59</a><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/58/">Next &raquo;</a>
    </nav>
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 jfo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">87</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino-OpenWrt/">Arduino/OpenWrt</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DefaultCategory/">DefaultCategory</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Computing/">Distributed Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Google/">Google</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-App/">Linux App</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Debug/">Linux Debug</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Virtualization/">Linux Virtualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OS-X/">Mac OS X</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Saying/">Saying</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebDev/">WebDev</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-algorithm/">c/c++/algorithm</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cocos2d-x-模拟器/">cocos2d-x/模拟器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/com组件/">com组件</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js-html-python/">js/html/python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/l4ka-pistachio-iguana/">l4ka::pistachio/iguana</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux-图形/">linux 图形</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/self-collect/">self_collect</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/教育/">教育</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学-物理/">数学/物理</a><span class="category-list-count">3</span></li></ul>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iguangba.pickbox.me/">爱逛吧</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.pickbox.me/">收藏夹</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://note.pickbox.me/">网络剪贴板</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">jfojfo#gmail.com</div>
  	  	
    	</section>
    
  </div>
  
</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>