<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>android：以文件方式读取数据库blob字段（使用MemoryFile） | jfo planet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Android的ContentResolver中有一个接口叫openAssetFileDescriptor，在doc中的解释如下：public final&amp;nbsp;&amp;nbsp;openAssetFileDescriptor&amp;nbsp;(&amp;nbsp;uri,&amp;nbsp;&amp;nbsp;mode)Since:&amp;nbsp;API Level 3Open a raw file descriptor to">
<meta property="og:type" content="article">
<meta property="og:title" content="android：以文件方式读取数据库blob字段（使用MemoryFile）">
<meta property="og:url" content="http://blog.pickbox.me/2012/02/21/android：以文件方式读取数据库blob字段（使用MemoryFile）/index.html">
<meta property="og:site_name" content="jfo planet">
<meta property="og:description" content="Android的ContentResolver中有一个接口叫openAssetFileDescriptor，在doc中的解释如下：public final&amp;nbsp;&amp;nbsp;openAssetFileDescriptor&amp;nbsp;(&amp;nbsp;uri,&amp;nbsp;&amp;nbsp;mode)Since:&amp;nbsp;API Level 3Open a raw file descriptor to">
<meta property="og:updated_time" content="2016-10-15T04:38:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="android：以文件方式读取数据库blob字段（使用MemoryFile）">
<meta name="twitter:description" content="Android的ContentResolver中有一个接口叫openAssetFileDescriptor，在doc中的解释如下：public final&amp;nbsp;&amp;nbsp;openAssetFileDescriptor&amp;nbsp;(&amp;nbsp;uri,&amp;nbsp;&amp;nbsp;mode)Since:&amp;nbsp;API Level 3Open a raw file descriptor to">
  
    <link rel="alternative" href="/atom.xml" title="jfo planet" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">jfo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">分类</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">jfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">jfo</h1>
			</hgroup>
			
			<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-android：以文件方式读取数据库blob字段（使用MemoryFile）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      android：以文件方式读取数据库blob字段（使用MemoryFile）
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
         <p></p><p>Android的ContentResolver中有一个接口叫openAssetFileDescriptor，在doc中的解释如下：</p><p></p>public final&nbsp;&nbsp;openAssetFileDescriptor&nbsp;(&nbsp;uri,&nbsp;&nbsp;mode)Since:&nbsp;API Level 3<p>Open a raw file descriptor to access data under a URI. This interacts with the underlying&nbsp;&nbsp;method of the provider associated with the given URI, to retrieve any file stored there.</p>Accepts the following URI schemes:<ul><li>content (SCHEME_CONTENT)</li><li>android.resource (SCHEME_ANDROID_RESOURCE)</li><li>file (SCHEME_FILE)</li></ul>The android.resource (SCHEME_ANDROID_RESOURCE) Scheme<p>A Uri object can be used to reference a resource in an APK file. The Uri should be one of the following formats:</p><ul><li>android.resource://package_name/id_number<br>package_name&nbsp;is your package name as listed in your AndroidManifest.xml. For examplecom.example.myapp<br>id_number&nbsp;is the int form of the ID.<br>The easiest way to construct this form isUri uri =Uri.parse(&quot;android.resource://com.example.myapp/&quot;+ R.raw.my_resource&quot;);</li><li>android.resource://package_name/type/name<br>package_name&nbsp;is your package name as listed in your AndroidManifest.xml. For examplecom.example.myapp<br>type&nbsp;is the string form of the resource type. For example,&nbsp;raw&nbsp;or&nbsp;drawable.&nbsp;name&nbsp;is the string form of the resource name. That is, whatever the file name was in your res directory, without the type extension. The easiest way to construct this form isUri uri =Uri.parse(&quot;android.resource://com.example.myapp/raw/my_resource&quot;);</li></ul><p></p><p></p><p>&nbsp;</p><p>该接口返回AssetFileDescriptor，可以像读文件一样操作读取该uri的内容。</p><p>对应的ContentProvider必须实现openAssetFile接口，可以参考Android联系人中ContactsProvider2.java的实现：</p><p></p><p>ContactsProvider中将数据库中查询到的Photo blob数据，封装成一个MemoryFile，然后将该MemoryFile封装为</p><p>AssetFileDescriptor返回。</p><p>&nbsp;</p><p></p><p></p><p>&nbsp; &nbsp; @Override</p><p>&nbsp; &nbsp; public AssetFileDescriptor openAssetFile(Uri uri, String mode) throws FileNotFoundException {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; int match = sUriMatcher.match(uri);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; switch (match) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case CONTACTS_PHOTO: {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return openPhotoAssetFile(uri, mode,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Data._ID + &quot;=&quot; + Contacts.PHOTO_ID + &quot; AND &quot; + RawContacts.CONTACT_ID + &quot;=?&quot;</p><p>,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new String[]{uri.getPathSegments().get(1)});</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>……</p><p></p><p></p><p>&nbsp; &nbsp; private AssetFileDescriptor openPhotoAssetFile(Uri uri, String mode, String selection,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String[] selectionArgs)</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throws FileNotFoundException {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if (!&quot;r&quot;.equals(mode)) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new FileNotFoundException(mDbHelper.exceptionMessage(&quot;Mode &quot; + mode</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; + &quot; not supported.&quot;, uri));</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; String sql =</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;SELECT &quot; + Photo.PHOTO + &quot; FROM &quot; + mDbHelper.getDataView() +</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot; WHERE &quot; + selection;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; SQLiteDatabase db = mDbHelper.getReadableDatabase();</p><p>&nbsp; &nbsp; &nbsp; &nbsp; return SQLiteContentHelper.getBlobColumnAsAssetFile(db, sql,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; selectionArgs);</p><p>&nbsp; &nbsp; }</p><p></p><p>&nbsp;</p><p></p><p>&nbsp; &nbsp; public static AssetFileDescriptor getBlobColumnAsAssetFile(SQLiteDatabase db, String sql,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String[] selectionArgs) throws FileNotFoundException {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; try {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MemoryFile file = simpleQueryForBlobMemoryFile(db, sql, selectionArgs);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (file == null) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new FileNotFoundException(&quot;No results.&quot;);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return AssetFileDescriptor.fromMemoryFile(file);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; } catch (IOException ex) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; throw new FileNotFoundException(ex.toString());</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; }</p><br><p>&nbsp; &nbsp; private static MemoryFile simpleQueryForBlobMemoryFile(SQLiteDatabase db, String sql,</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; String[] selectionArgs) throws IOException {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; Cursor cursor = db.rawQuery(sql, selectionArgs);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; if (cursor == null) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return null;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; try {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!cursor.moveToFirst()) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return null;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; byte[] bytes = cursor.getBlob(0);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (bytes == null) {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return null;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MemoryFile file = new MemoryFile(null, bytes.length);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file.writeBytes(bytes, 0, 0, bytes.length);</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; file.deactivate();</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return file;</p><p>&nbsp; &nbsp; &nbsp; &nbsp; } finally {</p><p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cursor.close();</p><p>&nbsp; &nbsp; &nbsp; &nbsp; }</p><p>&nbsp; &nbsp; }</p><br><p></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p></p> 
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2012/02/21/android：以文件方式读取数据库blob字段（使用MemoryFile）/" class="archive-article-date">
  	<time datetime="2012-02-21T03:18:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2012-02-21</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Android/">Android</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2012/02/27/Java-动态代理学习-Proxy-InvocationHandler/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          Java 动态代理学习(Proxy,InvocationHandler)
        
      </div>
    </a>
  
  
    <a href="/2012/02/17/Android-KeyEvent-的-生命周期/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Android KeyEvent 的 生命周期</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>









      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 jfo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">87</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino-OpenWrt/">Arduino/OpenWrt</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DefaultCategory/">DefaultCategory</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Computing/">Distributed Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Google/">Google</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-App/">Linux App</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Debug/">Linux Debug</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Virtualization/">Linux Virtualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OS-X/">Mac OS X</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Saying/">Saying</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebDev/">WebDev</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-algorithm/">c/c++/algorithm</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cocos2d-x-模拟器/">cocos2d-x/模拟器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/com组件/">com组件</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js-html-python/">js/html/python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/l4ka-pistachio-iguana/">l4ka::pistachio/iguana</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux-图形/">linux 图形</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/self-collect/">self_collect</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/教育/">教育</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学-物理/">数学/物理</a><span class="category-list-count">3</span></li></ul>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iguangba.pickbox.me/">爱逛吧</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.pickbox.me/">收藏夹</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://note.pickbox.me/">网络剪贴板</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">jfojfo#gmail.com</div>
  	  	
    	</section>
    
  </div>
  
</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>