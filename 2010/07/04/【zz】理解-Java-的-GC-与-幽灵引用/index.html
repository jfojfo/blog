<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>【zz】理解 Java 的 GC 与 幽灵引用 | jfo planet</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="另参考：Android的智能指针——http://ytydyd.blog.sohu.com/139278565.html理解 Java 的 GC 与 幽灵引用Java 中一共有 4 种类型的引用 : StrongReference、 SoftReference、 WeakReference 以及 PhantomReference (传说中的幽灵引用 呵呵), 这 4 种类型的引用与 GC 有着密">
<meta property="og:type" content="article">
<meta property="og:title" content="【zz】理解 Java 的 GC 与 幽灵引用">
<meta property="og:url" content="http://blog.pickbox.me/2010/07/04/【zz】理解-Java-的-GC-与-幽灵引用/index.html">
<meta property="og:site_name" content="jfo planet">
<meta property="og:description" content="另参考：Android的智能指针——http://ytydyd.blog.sohu.com/139278565.html理解 Java 的 GC 与 幽灵引用Java 中一共有 4 种类型的引用 : StrongReference、 SoftReference、 WeakReference 以及 PhantomReference (传说中的幽灵引用 呵呵), 这 4 种类型的引用与 GC 有着密">
<meta property="og:updated_time" content="2016-10-15T04:38:07.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【zz】理解 Java 的 GC 与 幽灵引用">
<meta name="twitter:description" content="另参考：Android的智能指针——http://ytydyd.blog.sohu.com/139278565.html理解 Java 的 GC 与 幽灵引用Java 中一共有 4 种类型的引用 : StrongReference、 SoftReference、 WeakReference 以及 PhantomReference (传说中的幽灵引用 呵呵), 这 4 种类型的引用与 GC 有着密">
  
    <link rel="alternative" href="/atom.xml" title="jfo planet" type="application/atom+xml">
  
  
    <link rel="icon" href="//favicon.ico">
  
  <script src="/style.js"></script>
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">jfo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">主页</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">所有文章</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">分类</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">友链</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">关于我</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">jfo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="http://img.pickbox.me/wp-content/uploads/penguin.gif" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">jfo</h1>
			</hgroup>
			
			<p class="header-subtitle">Hope is the best gift that tomorrow gives.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/jfojfo" title="github">github</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/jfojfo" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="post-【zz】理解-Java-的-GC-与-幽灵引用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      【zz】理解 Java 的 GC 与 幽灵引用
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> 另参考：Android的智能指针——<a href="http://ytydyd.blog.sohu.com/139278565.html" target="_blank" rel="external">http://ytydyd.blog.sohu.com/139278565.html</a><br></p><p><a href="http://www.javaeye.com/topic/401478?page=4" target="_blank">理解 Java 的 GC 与 幽灵引用</a><br><br>Java 中一共有 4 种类型的引用 : StrongReference、 SoftReference、 WeakReference 以及 PhantomReference (传说中的幽灵引用 呵呵), <br>这 4 种类型的引用与 GC 有着密切的关系,&#160; 让我们逐一来看它们的定义和使用场景 :<br><br>1. Strong Reference<br><br>StrongReference 是 Java 的默认引用实现,&#160; 它会尽可能长时间的存活于 JVM 内， 当没有任何对象指向它时 GC 执行后将会被回收</p>Java代码<ol> <li>@Test&#160;&#160;</li> <li>public&#160;void&#160;strongReference()&#160;{&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;referent&#160;=&#160;new&#160;Object();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/<strong>&#160;</strong></li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;通过赋值创建&#160;StrongReference&#160;&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;strongReference&#160;=&#160;referent;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertSame(referent,&#160;strongReference);&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;referent&#160;=&#160;null;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;System.gc();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;StrongReference&#160;在&#160;GC&#160;后不会被回收&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNotNull(strongReference);&#160;&#160;</li> <li>}&#160;&#160;</li></ol>@Test  public void strongReference() {   Object referent = new Object();      /<strong>    <em> 通过赋值创建 StrongReference     </em>/   Object strongReference = referent;      assertSame(referent, strongReference);      referent = null;   System.gc();      /</strong>    <em> StrongReference 在 GC 后不会被回收    </em>/   assertNotNull(strongReference);  }<p><br><br><br><br>2. WeakReference &amp; WeakHashMap<br><br>WeakReference， 顾名思义,&#160; 是一个弱引用,&#160; 当所引用的对象在 JVM 内不再有强引用时, GC 后 weak reference 将会被自动回收</p>Java代码<ol> <li>@Test&#160;&#160;</li> <li>public&#160;void&#160;weakReference()&#160;{&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;referent&#160;=&#160;new&#160;Object();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;WeakReference&lt;Object&gt;&#160;weakRerference&#160;=&#160;new&#160;WeakReference&lt;Object&gt;(referent);&#160;&#160;</li> <li>&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertSame(referent,&#160;weakRerference.get());&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;referent&#160;=&#160;null;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;System.gc();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/<strong>&#160;</strong></li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;一旦没有指向&#160;referent&#160;的强引用,&#160;weak&#160;reference&#160;在&#160;GC&#160;后会被自动回收&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNull(weakRerference.get());&#160;&#160;</li> <li>}&#160;&#160;</li></ol>@Test  public void weakReference() {   Object referent = new Object();   WeakReference&lt;Object&gt; weakRerference = new WeakReference&lt;Object&gt;(referent);     assertSame(referent, weakRerference.get());      referent = null;   System.gc();      /    <em> 一旦没有指向 referent 的强引用, weak reference 在 GC 后会被自动回收    </em>/   assertNull(weakRerference.get());  }<p><br><br><br>WeakHashMap 使用 WeakReference 作为 key， 一旦没有指向 key 的强引用, WeakHashMap 在 GC 后将自动删除相关的 entry</p>Java代码<ol> <li>@Test&#160;&#160;</li> <li>public&#160;void&#160;weakHashMap()&#160;throws&#160;InterruptedException&#160;{&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Map&lt;Object,&#160;Object&gt;&#160;weakHashMap&#160;=&#160;new&#160;WeakHashMap&lt;Object,&#160;Object&gt;();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;key&#160;=&#160;new&#160;Object();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;value&#160;=&#160;new&#160;Object();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;weakHashMap.put(key,&#160;value);&#160;&#160;</li> <li>&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertTrue(weakHashMap.containsValue(value));&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;key&#160;=&#160;null;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;System.gc();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/<strong>&#160;</strong></li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;等待无效&#160;entries&#160;进入&#160;ReferenceQueue&#160;以便下一次调用&#160;getTable&#160;时被清理&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Thread.sleep(1000);&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;一旦没有指向&#160;key&#160;的强引用,&#160;WeakHashMap&#160;在&#160;GC&#160;后将自动删除相关的&#160;entry&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertFalse(weakHashMap.containsValue(value));&#160;&#160;</li> <li>}&#160;&#160;</li></ol>@Test  public void weakHashMap() throws InterruptedException {   Map&lt;Object, Object&gt; weakHashMap = new WeakHashMap&lt;Object, Object&gt;();   Object key = new Object();   Object value = new Object();   weakHashMap.put(key, value);     assertTrue(weakHashMap.containsValue(value));      key = null;   System.gc();      /<strong>    <em> 等待无效 entries 进入 ReferenceQueue 以便下一次调用 getTable 时被清理    </em>/   Thread.sleep(1000);      /</strong>    <em> 一旦没有指向 key 的强引用, WeakHashMap 在 GC 后将自动删除相关的 entry    </em>/   assertFalse(weakHashMap.containsValue(value));  }<p><br><br><br>3. SoftReference<br><br>SoftReference 于 WeakReference 的特性基本一致， 最大的区别在于 SoftReference 会尽可能长的保留引用直到 JVM 内存不足时才会被回收(虚拟机保证), 这一特性使得 SoftReference 非常适合缓存应用</p>Java代码<ol> <li>@Test&#160;&#160;</li> <li>public&#160;void&#160;softReference()&#160;{&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;referent&#160;=&#160;new&#160;Object();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;SoftReference&lt;Object&gt;&#160;softRerference&#160;=&#160;new&#160;SoftReference&lt;Object&gt;(referent);&#160;&#160;</li> <li>&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNotNull(softRerference.get());&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;referent&#160;=&#160;null;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;System.gc();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/<strong>&#160;</strong></li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;&#160;soft&#160;references&#160;只有在&#160;jvm&#160;OutOfMemory&#160;之前才会被回收,&#160;所以它非常适合缓存应用&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNotNull(softRerference.get());&#160;&#160;</li> <li>}&#160;&#160;</li></ol>@Test  public void softReference() {   Object referent = new Object();   SoftReference&lt;Object&gt; softRerference = new SoftReference&lt;Object&gt;(referent);     assertNotNull(softRerference.get());      referent = null;   System.gc();      /    <em>  soft references 只有在 jvm OutOfMemory 之前才会被回收, 所以它非常适合缓存应用    </em>/   assertNotNull(softRerference.get());  }<p><br><br><br>4. PhantomReference<br><br>作为本文主角， Phantom Reference(幽灵引用) 与 WeakReference 和 SoftReference 有很大的不同,&#160; 因为它的 get() 方法永远返回 null, 这也正是它名字的由来</p>Java代码<ol> <li>@Test&#160;&#160;</li> <li>public&#160;void&#160;phantomReferenceAlwaysNull()&#160;{&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;referent&#160;=&#160;new&#160;Object();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;PhantomReference&lt;Object&gt;&#160;phantomReference&#160;=&#160;new&#160;PhantomReference&lt;Object&gt;(referent,&#160;new&#160;ReferenceQueue&lt;Object&gt;());&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;/<strong>&#160;</strong></li> <li>&#160;&#160;&#160;&#160;&#160;<em>&#160;phantom&#160;reference&#160;的&#160;get&#160;方法永远返回&#160;null&#160;&#160;</em></li> <li>&#160;&#160;&#160;&#160;&#160;/&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNull(phantomReference.get());&#160;&#160;</li> <li>}&#160;&#160;</li></ol>@Test  public void phantomReferenceAlwaysNull() {   Object referent = new Object();   PhantomReference&lt;Object&gt; phantomReference = new PhantomReference&lt;Object&gt;(referent, new ReferenceQueue&lt;Object&gt;());      /    <em> phantom reference 的 get 方法永远返回 null     </em>/   assertNull(phantomReference.get());  }<p><br><br>诸位可能要问, 一个永远返回 null 的 reference 要来何用,&#160; 请注意构造 PhantomReference 时的第二个参数 ReferenceQueue(事实上 WeakReference &amp; SoftReference 也可以有这个参数)，<br>PhantomReference 唯一的用处就是跟踪 referent&#160; 何时被 enqueue 到 ReferenceQueue 中.<br><br>5. RererenceQueue<br><br>当一个 WeakReference 开始返回 null 时， 它所指向的对象已经准备被回收， 这时可以做一些合适的清理工作.&#160;&#160; 将一个 ReferenceQueue 传给一个 Reference 的构造函数， 当对象被回收时， 虚拟机会自动将这个对象插入到 ReferenceQueue 中， WeakHashMap 就是利用 ReferenceQueue 来清除 key 已经没有强引用的 entries.</p>Java代码<ol> <li>@Test&#160;&#160;</li> <li>public&#160;void&#160;referenceQueue()&#160;throws&#160;InterruptedException&#160;{&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Object&#160;referent&#160;=&#160;new&#160;Object();&#160;&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;ReferenceQueue&lt;Object&gt;&#160;referenceQueue&#160;=&#160;new&#160;ReferenceQueue&lt;Object&gt;();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;WeakReference&lt;Object&gt;&#160;weakReference&#160;=&#160;new&#160;WeakReference&lt;Object&gt;(referent,&#160;referenceQueue);&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertFalse(weakReference.isEnqueued());&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Reference&lt;?&#160;extends&#160;Object&gt;&#160;polled&#160;=&#160;referenceQueue.poll();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNull(polled);&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;referent&#160;=&#160;null;&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;System.gc();&#160;&#160;</li> <li>&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertTrue(weakReference.isEnqueued());&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;Reference&lt;?&#160;extends&#160;Object&gt;&#160;removed&#160;=&#160;referenceQueue.remove();&#160;&#160;</li> <li>&#160;&#160;&#160;&#160;assertNotNull(removed);&#160;&#160;</li> <li>}&#160;&#160;</li></ol>@Test  public void referenceQueue() throws InterruptedException {   Object referent = new Object();     ReferenceQueue&lt;Object&gt; referenceQueue = new ReferenceQueue&lt;Object&gt;();   WeakReference&lt;Object&gt; weakReference = new WeakReference&lt;Object&gt;(referent, referenceQueue);      assertFalse(weakReference.isEnqueued());   Reference&lt;? extends Object&gt; polled = referenceQueue.poll();   assertNull(polled);      referent = null;   System.gc();    assertTrue(weakReference.isEnqueued());   Reference&lt;? extends Object&gt; removed = referenceQueue.remove();   assertNotNull(removed);  }<p><br><br>6.&#160; PhantomReference&#160; vs WeakReference<br><br>PhantomReference&#160; 有两个好处， 其一， 它可以让我们准确地知道对象何时被从内存中删除， 这个特性可以被用于一些特殊的需求中(例如 Distributed GC，&#160; XWork 和 google-guice 中也使用 PhantomReference 做了一些清理性工作). <br><br>其二， 它可以避免 finalization 带来的一些根本性问题, 上文提到 PhantomReference 的唯一作用就是跟踪 referent 何时被 enqueue 到 ReferenceQueue 中,&#160; 但是 WeakReference 也有对应的功能, 两者的区别到底在哪呢 ?<br>这就要说到 Object 的 finalize 方法, 此方法将在 gc 执行前被调用, 如果某个对象重载了 finalize 方法并故意在方法内创建本身的强引用,&#160; 这将导致这一轮的 GC 无法回收这个对象并有可能<br>引 起任意次 GC， 最后的结果就是明明 JVM 内有很多 Garbage 却 OutOfMemory， 使用 PhantomReference 就可以避免这个问题， 因为 PhantomReference 是在 finalize 方法执行后回收的，也就意味着此时已经不可能拿到原来的引用,&#160; 也就不会出现上述问题,&#160; 当然这是一个很极端的例子, 一般不会出现. <br><br>7. 对比<br><br>taken from&#160;<a href="http://mindprod.com/jgloss/phantom.html" target="_blank" rel="external">http://mindprod.com/jgloss/phantom.html</a></p>                        Soft vs Weak vs Phantom References                            Type            Purpose            Use            When GCed            Implementing Class                                    Strong Reference            An ordinary reference. Keeps objects alive as long as they are referenced.            normal reference.            Any object not pointed to can be reclaimed.            default                            Soft Reference            Keeps objects alive provided there’s enough memory.            to keep objects alive even after clients have removed their references (memory-sensitive caches), in case clients start asking for them again by key.            After a first gc pass, the JVM decides it still needs to reclaim more space.            java.lang.ref.SoftReference                            Weak Reference            Keeps objects alive only while they’re in use (reachable) by clients.            Containers that automatically delete objects no longer in use.            After gc determines the object is only weakly reachable            java.lang.ref.WeakReference&#160;<br>            java.util.WeakHashMap                            Phantom Reference            Lets you clean up after finalization but before the space is reclaimed (replaces or augments the use offinalize())            Special clean up processing <p></p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2010/07/04/【zz】理解-Java-的-GC-与-幽灵引用/" class="archive-article-date">
  	<time datetime="2010-07-04T07:01:00.000Z" itemprop="datePublished"><i class="icon-clock"></i>2010-07-04</time>
</a>
      
      
	<div class="article-category tagcloud">
	<i class="icon-price-tags"></i>
	<a class="article-category-link" href="/categories/Java/">Java</a>
	</div>


      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
    <a href="/2010/07/04/【zz】How-to-Handle-Java-Finalization-s-Memory-Retention-Issues/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          【zz】How to Handle Java Finalization&#39;s Memory-Retention Issues
        
      </div>
    </a>
  
  
    <a href="/2010/06/29/解决android2-1中Youku每次都要选择默认播放器的问题/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">解决android2.1中Youku每次都要选择默认播放器的问题</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>









      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 jfo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">全部</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">标签</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">友链</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">我</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				<ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">87</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Arduino-OpenWrt/">Arduino/OpenWrt</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DefaultCategory/">DefaultCategory</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Distributed-Computing/">Distributed Computing</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Google/">Google</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Life/">Life</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-App/">Linux App</a><span class="category-list-count">61</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Debug/">Linux Debug</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-Virtualization/">Linux Virtualization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OS-X/">Mac OS X</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mobile/">Mobile</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Network/">Network</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Saying/">Saying</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/WebDev/">WebDev</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-template-gp-boost/">c++/c++ template/gp/boost</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-c-algorithm/">c/c++/algorithm</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cocos2d-x-模拟器/">cocos2d-x/模拟器</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/com组件/">com组件</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/framework/">framework</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/gcc-binutils-make-共享库/">gcc/binutils/make/共享库</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js-html-python/">js/html/python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/l4ka-pistachio-iguana/">l4ka::pistachio/iguana</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux-图形/">linux 图形</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python-js-php-html-mysql-http/">python/js/php/html/mysql/http</a><span class="category-list-count">46</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reading/">reading</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/self-collect/">self_collect</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unifiedkernel-wine-reactos/">unifiedkernel/wine/reactos</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/wordpress/">wordpress</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品/">产品</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/教育/">教育</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数学-物理/">数学/物理</a><span class="category-list-count">3</span></li></ul>
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://iguangba.pickbox.me/">爱逛吧</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.pickbox.me/">收藏夹</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://note.pickbox.me/">网络剪贴板</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">jfojfo#gmail.com</div>
  	  	
    	</section>
    
  </div>
  
</div>

    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>